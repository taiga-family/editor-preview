{"version":3,"sources":["node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-extensions-default-editor-extensions.js","node_modules/@angular/router/fesm2022/router.mjs","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-utils-browser.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-utils-svg.js","node_modules/@tinkoff/ng-polymorpheus/fesm2015/tinkoff-ng-polymorpheus.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-abstract.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-active-zone.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-coercion.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-auto-focus.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-components-dropdown-host.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-components-scroll-controls.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-let.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-overscroll.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-enums.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-abstract.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-utils-dom.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-constants.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-utils-miscellaneous.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-utils-mobile.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-enums.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-tokens.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-mode.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-providers.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-wrapper.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-animations.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-services.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-svg.js","node_modules/@tinkoff/ng-event-plugins/fesm2015/tinkoff-ng-event-plugins.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-loader.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-button.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-link.js"],"sourcesContent":["/**\n * @deprecated, use {@link TUI_EDITOR_DEFAULT_EXTENSIONS}\n */\nconst defaultEditorExtensions = [import('@tinkoff/tui-editor/extensions/starter-kit').then(({\n  StarterKit\n}) => StarterKit).then(extension => extension.configure({\n  heading: {\n    levels: [1, 2, 3, 4, 5, 6]\n  }\n})), import('@tiptap/extension-text-align').then(({\n  default: TextAlign\n}) => TextAlign.configure({\n  types: [`heading`, `paragraph`]\n})), import('@tiptap/extension-text-style').then(({\n  default: TextStyle\n}) => TextStyle), import('@tiptap/extension-underline').then(({\n  default: Underline\n}) => Underline), import('@tiptap/extension-subscript').then(({\n  default: Subscript\n}) => Subscript), import('@tiptap/extension-superscript').then(({\n  default: Superscript\n}) => Superscript), import('@tinkoff/tui-editor/extensions/font-color').then(({\n  FontColor\n}) => FontColor), import('@tinkoff/tui-editor/extensions/link').then(({\n  TuiLink\n}) => TuiLink), import('@tinkoff/tui-editor/extensions/jump-anchor').then(({\n  TuiJumpAnchor\n}) => TuiJumpAnchor), import('@tinkoff/tui-editor/extensions/file-link').then(({\n  TuiFileLink\n}) => TuiFileLink), import('@tinkoff/tui-editor/extensions/background-color').then(({\n  BackgroundColor\n}) => BackgroundColor), import('@tinkoff/tui-editor/extensions/table').then(({\n  TuiTable\n}) => TuiTable.configure({\n  resizable: true\n})), import('@tinkoff/tui-editor/extensions/table-cell').then(({\n  TuiTableCell\n}) => TuiTableCell), import('@tiptap/extension-table-row').then(({\n  default: TableRow\n}) => TableRow), import('@tiptap/extension-table-header').then(({\n  TableHeader\n}) => TableHeader), import('@tinkoff/tui-editor/extensions/indent-outdent').then(({\n  TuiTabExtension\n}) => TuiTabExtension), import('@tinkoff/tui-editor/extensions/table-cell-background').then(({\n  TableCellBackground\n}) => TableCellBackground), import('@tinkoff/tui-editor/extensions/details').then(({\n  TuiDetailsContent\n}) => TuiDetailsContent), import('@tinkoff/tui-editor/extensions/details').then(({\n  TuiDetails\n}) => TuiDetails), import('@tinkoff/tui-editor/extensions/details').then(({\n  TuiSummary\n}) => TuiSummary), import('@tinkoff/tui-editor/extensions/font-size').then(({\n  TuiFontSize\n}) => TuiFontSize)];\nconst TUI_EDITOR_DEFAULT_EXTENSIONS = defaultEditorExtensions;\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_EDITOR_DEFAULT_EXTENSIONS, defaultEditorExtensions };\n","/**\n * @license Angular v18.1.1\n * (c) 2010-2024 Google LLC. https://angular.io/\n * License: MIT\n */\n\nimport * as i0 from '@angular/core';\nimport { ɵisPromise, ɵRuntimeError, Injectable, createEnvironmentInjector, ɵisNgModule, isStandalone, EventEmitter, inject, ViewContainerRef, ChangeDetectorRef, Directive, Input, Output, InjectionToken, reflectComponentType, ɵisInjectable, runInInjectionContext, Component, Compiler, NgModuleFactory, NgZone, afterNextRender, EnvironmentInjector, ɵConsole, ɵPendingTasks, ɵɵsanitizeUrlOrResourceUrl, booleanAttribute, Attribute, HostBinding, HostListener, Optional, ContentChildren, makeEnvironmentProviders, APP_BOOTSTRAP_LISTENER, ENVIRONMENT_INITIALIZER, Injector, ApplicationRef, InjectFlags, APP_INITIALIZER, SkipSelf, NgModule, Inject, Version } from '@angular/core';\nimport { isObservable, from, of, BehaviorSubject, combineLatest, EmptyError, concat, defer, pipe, throwError, EMPTY, ConnectableObservable, Subject, Subscription } from 'rxjs';\nimport * as i3 from '@angular/common';\nimport { DOCUMENT, Location, ViewportScroller, LOCATION_INITIALIZED, LocationStrategy, HashLocationStrategy, PathLocationStrategy } from '@angular/common';\nimport { map, switchMap, take, startWith, filter, mergeMap, first, concatMap, tap, catchError, scan, defaultIfEmpty, last as last$1, takeLast, mapTo, finalize, refCount, takeUntil, mergeAll } from 'rxjs/operators';\nimport * as i1 from '@angular/platform-browser';\n\n/**\n * The primary routing outlet.\n *\n * @publicApi\n */\nconst PRIMARY_OUTLET = 'primary';\n/**\n * A private symbol used to store the value of `Route.title` inside the `Route.data` if it is a\n * static string or `Route.resolve` if anything else. This allows us to reuse the existing route\n * data/resolvers to support the title feature without new instrumentation in the `Router` pipeline.\n */\nconst RouteTitleKey = /* @__PURE__ */Symbol('RouteTitle');\nclass ParamsAsMap {\n  constructor(params) {\n    this.params = params || {};\n  }\n  has(name) {\n    return Object.prototype.hasOwnProperty.call(this.params, name);\n  }\n  get(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v[0] : v;\n    }\n    return null;\n  }\n  getAll(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v : [v];\n    }\n    return [];\n  }\n  get keys() {\n    return Object.keys(this.params);\n  }\n}\n/**\n * Converts a `Params` instance to a `ParamMap`.\n * @param params The instance to convert.\n * @returns The new map instance.\n *\n * @publicApi\n */\nfunction convertToParamMap(params) {\n  return new ParamsAsMap(params);\n}\n/**\n * Matches the route configuration (`route`) against the actual URL (`segments`).\n *\n * When no matcher is defined on a `Route`, this is the matcher used by the Router by default.\n *\n * @param segments The remaining unmatched segments in the current navigation\n * @param segmentGroup The current segment group being matched\n * @param route The `Route` to match against.\n *\n * @see {@link UrlMatchResult}\n * @see {@link Route}\n *\n * @returns The resulting match information or `null` if the `route` should not match.\n * @publicApi\n */\nfunction defaultUrlMatcher(segments, segmentGroup, route) {\n  const parts = route.path.split('/');\n  if (parts.length > segments.length) {\n    // The actual URL is shorter than the config, no match\n    return null;\n  }\n  if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || parts.length < segments.length)) {\n    // The config is longer than the actual URL but we are looking for a full match, return null\n    return null;\n  }\n  const posParams = {};\n  // Check each config part against the actual URL\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const segment = segments[index];\n    const isParameter = part[0] === ':';\n    if (isParameter) {\n      posParams[part.substring(1)] = segment;\n    } else if (part !== segment.path) {\n      // The actual URL part does not match the config, no match\n      return null;\n    }\n  }\n  return {\n    consumed: segments.slice(0, parts.length),\n    posParams\n  };\n}\nfunction shallowEqualArrays(a, b) {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; ++i) {\n    if (!shallowEqual(a[i], b[i])) return false;\n  }\n  return true;\n}\nfunction shallowEqual(a, b) {\n  // While `undefined` should never be possible, it would sometimes be the case in IE 11\n  // and pre-chromium Edge. The check below accounts for this edge case.\n  const k1 = a ? getDataKeys(a) : undefined;\n  const k2 = b ? getDataKeys(b) : undefined;\n  if (!k1 || !k2 || k1.length != k2.length) {\n    return false;\n  }\n  let key;\n  for (let i = 0; i < k1.length; i++) {\n    key = k1[i];\n    if (!equalArraysOrString(a[key], b[key])) {\n      return false;\n    }\n  }\n  return true;\n}\n/**\n * Gets the keys of an object, including `symbol` keys.\n */\nfunction getDataKeys(obj) {\n  return [...Object.keys(obj), ...Object.getOwnPropertySymbols(obj)];\n}\n/**\n * Test equality for arrays of strings or a string.\n */\nfunction equalArraysOrString(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) return false;\n    const aSorted = [...a].sort();\n    const bSorted = [...b].sort();\n    return aSorted.every((val, index) => bSorted[index] === val);\n  } else {\n    return a === b;\n  }\n}\n/**\n * Return the last element of an array.\n */\nfunction last(a) {\n  return a.length > 0 ? a[a.length - 1] : null;\n}\nfunction wrapIntoObservable(value) {\n  if (isObservable(value)) {\n    return value;\n  }\n  if (ɵisPromise(value)) {\n    // Use `Promise.resolve()` to wrap promise-like instances.\n    // Required ie when a Resolver returns a AngularJS `$q` promise to correctly trigger the\n    // change detection.\n    return from(Promise.resolve(value));\n  }\n  return of(value);\n}\nconst pathCompareMap = {\n  'exact': equalSegmentGroups,\n  'subset': containsSegmentGroup\n};\nconst paramCompareMap = {\n  'exact': equalParams,\n  'subset': containsParams,\n  'ignored': () => true\n};\nfunction containsTree(container, containee, options) {\n  return pathCompareMap[options.paths](container.root, containee.root, options.matrixParams) && paramCompareMap[options.queryParams](container.queryParams, containee.queryParams) && !(options.fragment === 'exact' && container.fragment !== containee.fragment);\n}\nfunction equalParams(container, containee) {\n  // TODO: This does not handle array params correctly.\n  return shallowEqual(container, containee);\n}\nfunction equalSegmentGroups(container, containee, matrixParams) {\n  if (!equalPath(container.segments, containee.segments)) return false;\n  if (!matrixParamsMatch(container.segments, containee.segments, matrixParams)) {\n    return false;\n  }\n  if (container.numberOfChildren !== containee.numberOfChildren) return false;\n  for (const c in containee.children) {\n    if (!container.children[c]) return false;\n    if (!equalSegmentGroups(container.children[c], containee.children[c], matrixParams)) return false;\n  }\n  return true;\n}\nfunction containsParams(container, containee) {\n  return Object.keys(containee).length <= Object.keys(container).length && Object.keys(containee).every(key => equalArraysOrString(container[key], containee[key]));\n}\nfunction containsSegmentGroup(container, containee, matrixParams) {\n  return containsSegmentGroupHelper(container, containee, containee.segments, matrixParams);\n}\nfunction containsSegmentGroupHelper(container, containee, containeePaths, matrixParams) {\n  if (container.segments.length > containeePaths.length) {\n    const current = container.segments.slice(0, containeePaths.length);\n    if (!equalPath(current, containeePaths)) return false;\n    if (containee.hasChildren()) return false;\n    if (!matrixParamsMatch(current, containeePaths, matrixParams)) return false;\n    return true;\n  } else if (container.segments.length === containeePaths.length) {\n    if (!equalPath(container.segments, containeePaths)) return false;\n    if (!matrixParamsMatch(container.segments, containeePaths, matrixParams)) return false;\n    for (const c in containee.children) {\n      if (!container.children[c]) return false;\n      if (!containsSegmentGroup(container.children[c], containee.children[c], matrixParams)) {\n        return false;\n      }\n    }\n    return true;\n  } else {\n    const current = containeePaths.slice(0, container.segments.length);\n    const next = containeePaths.slice(container.segments.length);\n    if (!equalPath(container.segments, current)) return false;\n    if (!matrixParamsMatch(container.segments, current, matrixParams)) return false;\n    if (!container.children[PRIMARY_OUTLET]) return false;\n    return containsSegmentGroupHelper(container.children[PRIMARY_OUTLET], containee, next, matrixParams);\n  }\n}\nfunction matrixParamsMatch(containerPaths, containeePaths, options) {\n  return containeePaths.every((containeeSegment, i) => {\n    return paramCompareMap[options](containerPaths[i].parameters, containeeSegment.parameters);\n  });\n}\n/**\n * @description\n *\n * Represents the parsed URL.\n *\n * Since a router state is a tree, and the URL is nothing but a serialized state, the URL is a\n * serialized tree.\n * UrlTree is a data structure that provides a lot of affordances in dealing with URLs\n *\n * @usageNotes\n * ### Example\n *\n * ```\n * @Component({templateUrl:'template.html'})\n * class MyComponent {\n *   constructor(router: Router) {\n *     const tree: UrlTree =\n *       router.parseUrl('/team/33/(user/victor//support:help)?debug=true#fragment');\n *     const f = tree.fragment; // return 'fragment'\n *     const q = tree.queryParams; // returns {debug: 'true'}\n *     const g: UrlSegmentGroup = tree.root.children[PRIMARY_OUTLET];\n *     const s: UrlSegment[] = g.segments; // returns 2 segments 'team' and '33'\n *     g.children[PRIMARY_OUTLET].segments; // returns 2 segments 'user' and 'victor'\n *     g.children['support'].segments; // return 1 segment 'help'\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nclass UrlTree {\n  constructor( /** The root segment group of the URL tree */\n  root = new UrlSegmentGroup([], {}), /** The query params of the URL */\n  queryParams = {}, /** The fragment of the URL */\n  fragment = null) {\n    this.root = root;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      if (root.segments.length > 0) {\n        throw new ɵRuntimeError(4015 /* RuntimeErrorCode.INVALID_ROOT_URL_SEGMENT */, 'The root `UrlSegmentGroup` should not contain `segments`. ' + 'Instead, these segments belong in the `children` so they can be associated with a named outlet.');\n      }\n    }\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return DEFAULT_SERIALIZER.serialize(this);\n  }\n}\n/**\n * @description\n *\n * Represents the parsed URL segment group.\n *\n * See `UrlTree` for more information.\n *\n * @publicApi\n */\nclass UrlSegmentGroup {\n  constructor( /** The URL segments of this group. See `UrlSegment` for more information */\n  segments, /** The list of children of this group */\n  children) {\n    this.segments = segments;\n    this.children = children;\n    /** The parent node in the url tree */\n    this.parent = null;\n    Object.values(children).forEach(v => v.parent = this);\n  }\n  /** Whether the segment has child segments */\n  hasChildren() {\n    return this.numberOfChildren > 0;\n  }\n  /** Number of child segments */\n  get numberOfChildren() {\n    return Object.keys(this.children).length;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return serializePaths(this);\n  }\n}\n/**\n * @description\n *\n * Represents a single URL segment.\n *\n * A UrlSegment is a part of a URL between the two slashes. It contains a path and the matrix\n * parameters associated with the segment.\n *\n * @usageNotes\n * ### Example\n *\n * ```\n * @Component({templateUrl:'template.html'})\n * class MyComponent {\n *   constructor(router: Router) {\n *     const tree: UrlTree = router.parseUrl('/team;id=33');\n *     const g: UrlSegmentGroup = tree.root.children[PRIMARY_OUTLET];\n *     const s: UrlSegment[] = g.segments;\n *     s[0].path; // returns 'team'\n *     s[0].parameters; // returns {id: 33}\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nclass UrlSegment {\n  constructor( /** The path part of a URL segment */\n  path, /** The matrix parameters associated with a segment */\n  parameters) {\n    this.path = path;\n    this.parameters = parameters;\n  }\n  get parameterMap() {\n    this._parameterMap ??= convertToParamMap(this.parameters);\n    return this._parameterMap;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return serializePath(this);\n  }\n}\nfunction equalSegments(as, bs) {\n  return equalPath(as, bs) && as.every((a, i) => shallowEqual(a.parameters, bs[i].parameters));\n}\nfunction equalPath(as, bs) {\n  if (as.length !== bs.length) return false;\n  return as.every((a, i) => a.path === bs[i].path);\n}\nfunction mapChildrenIntoArray(segment, fn) {\n  let res = [];\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet === PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet !== PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  return res;\n}\n/**\n * @description\n *\n * Serializes and deserializes a URL string into a URL tree.\n *\n * The url serialization strategy is customizable. You can\n * make all URLs case insensitive by providing a custom UrlSerializer.\n *\n * See `DefaultUrlSerializer` for an example of a URL serializer.\n *\n * @publicApi\n */\nlet UrlSerializer = /*#__PURE__*/(() => {\n  class UrlSerializer {\n    static {\n      this.ɵfac = function UrlSerializer_Factory(t) {\n        return new (t || UrlSerializer)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: UrlSerializer,\n        factory: () => (() => new DefaultUrlSerializer())(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return UrlSerializer;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @description\n *\n * A default implementation of the `UrlSerializer`.\n *\n * Example URLs:\n *\n * ```\n * /inbox/33(popup:compose)\n * /inbox/33;open=true/messages/44\n * ```\n *\n * DefaultUrlSerializer uses parentheses to serialize secondary segments (e.g., popup:compose), the\n * colon syntax to specify the outlet, and the ';parameter=value' syntax (e.g., open=true) to\n * specify route specific parameters.\n *\n * @publicApi\n */\nclass DefaultUrlSerializer {\n  /** Parses a url into a `UrlTree` */\n  parse(url) {\n    const p = new UrlParser(url);\n    return new UrlTree(p.parseRootSegment(), p.parseQueryParams(), p.parseFragment());\n  }\n  /** Converts a `UrlTree` into a url */\n  serialize(tree) {\n    const segment = `/${serializeSegment(tree.root, true)}`;\n    const query = serializeQueryParams(tree.queryParams);\n    const fragment = typeof tree.fragment === `string` ? `#${encodeUriFragment(tree.fragment)}` : '';\n    return `${segment}${query}${fragment}`;\n  }\n}\nconst DEFAULT_SERIALIZER = /*#__PURE__*/new DefaultUrlSerializer();\nfunction serializePaths(segment) {\n  return segment.segments.map(p => serializePath(p)).join('/');\n}\nfunction serializeSegment(segment, root) {\n  if (!segment.hasChildren()) {\n    return serializePaths(segment);\n  }\n  if (root) {\n    const primary = segment.children[PRIMARY_OUTLET] ? serializeSegment(segment.children[PRIMARY_OUTLET], false) : '';\n    const children = [];\n    Object.entries(segment.children).forEach(([k, v]) => {\n      if (k !== PRIMARY_OUTLET) {\n        children.push(`${k}:${serializeSegment(v, false)}`);\n      }\n    });\n    return children.length > 0 ? `${primary}(${children.join('//')})` : primary;\n  } else {\n    const children = mapChildrenIntoArray(segment, (v, k) => {\n      if (k === PRIMARY_OUTLET) {\n        return [serializeSegment(segment.children[PRIMARY_OUTLET], false)];\n      }\n      return [`${k}:${serializeSegment(v, false)}`];\n    });\n    // use no parenthesis if the only child is a primary outlet route\n    if (Object.keys(segment.children).length === 1 && segment.children[PRIMARY_OUTLET] != null) {\n      return `${serializePaths(segment)}/${children[0]}`;\n    }\n    return `${serializePaths(segment)}/(${children.join('//')})`;\n  }\n}\n/**\n * Encodes a URI string with the default encoding. This function will only ever be called from\n * `encodeUriQuery` or `encodeUriSegment` as it's the base set of encodings to be used. We need\n * a custom encoding because encodeURIComponent is too aggressive and encodes stuff that doesn't\n * have to be encoded per https://url.spec.whatwg.org.\n */\nfunction encodeUriString(s) {\n  return encodeURIComponent(s).replace(/%40/g, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',');\n}\n/**\n * This function should be used to encode both keys and values in a query string key/value. In\n * the following URL, you need to call encodeUriQuery on \"k\" and \"v\":\n *\n * http://www.site.org/html;mk=mv?k=v#f\n */\nfunction encodeUriQuery(s) {\n  return encodeUriString(s).replace(/%3B/gi, ';');\n}\n/**\n * This function should be used to encode a URL fragment. In the following URL, you need to call\n * encodeUriFragment on \"f\":\n *\n * http://www.site.org/html;mk=mv?k=v#f\n */\nfunction encodeUriFragment(s) {\n  return encodeURI(s);\n}\n/**\n * This function should be run on any URI segment as well as the key and value in a key/value\n * pair for matrix params. In the following URL, you need to call encodeUriSegment on \"html\",\n * \"mk\", and \"mv\":\n *\n * http://www.site.org/html;mk=mv?k=v#f\n */\nfunction encodeUriSegment(s) {\n  return encodeUriString(s).replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/%26/gi, '&');\n}\nfunction decode(s) {\n  return decodeURIComponent(s);\n}\n// Query keys/values should have the \"+\" replaced first, as \"+\" in a query string is \" \".\n// decodeURIComponent function will not decode \"+\" as a space.\nfunction decodeQuery(s) {\n  return decode(s.replace(/\\+/g, '%20'));\n}\nfunction serializePath(path) {\n  return `${encodeUriSegment(path.path)}${serializeMatrixParams(path.parameters)}`;\n}\nfunction serializeMatrixParams(params) {\n  return Object.entries(params).map(([key, value]) => `;${encodeUriSegment(key)}=${encodeUriSegment(value)}`).join('');\n}\nfunction serializeQueryParams(params) {\n  const strParams = Object.entries(params).map(([name, value]) => {\n    return Array.isArray(value) ? value.map(v => `${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join('&') : `${encodeUriQuery(name)}=${encodeUriQuery(value)}`;\n  }).filter(s => s);\n  return strParams.length ? `?${strParams.join('&')}` : '';\n}\nconst SEGMENT_RE = /^[^\\/()?;#]+/;\nfunction matchSegments(str) {\n  const match = str.match(SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst MATRIX_PARAM_SEGMENT_RE = /^[^\\/()?;=#]+/;\nfunction matchMatrixKeySegments(str) {\n  const match = str.match(MATRIX_PARAM_SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_RE = /^[^=?&#]+/;\n// Return the name of the query param at the start of the string or an empty string\nfunction matchQueryParams(str) {\n  const match = str.match(QUERY_PARAM_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_VALUE_RE = /^[^&#]+/;\n// Return the value of the query param at the start of the string or an empty string\nfunction matchUrlQueryParamValue(str) {\n  const match = str.match(QUERY_PARAM_VALUE_RE);\n  return match ? match[0] : '';\n}\nclass UrlParser {\n  constructor(url) {\n    this.url = url;\n    this.remaining = url;\n  }\n  parseRootSegment() {\n    this.consumeOptional('/');\n    if (this.remaining === '' || this.peekStartsWith('?') || this.peekStartsWith('#')) {\n      return new UrlSegmentGroup([], {});\n    }\n    // The root segment group never has segments\n    return new UrlSegmentGroup([], this.parseChildren());\n  }\n  parseQueryParams() {\n    const params = {};\n    if (this.consumeOptional('?')) {\n      do {\n        this.parseQueryParam(params);\n      } while (this.consumeOptional('&'));\n    }\n    return params;\n  }\n  parseFragment() {\n    return this.consumeOptional('#') ? decodeURIComponent(this.remaining) : null;\n  }\n  parseChildren() {\n    if (this.remaining === '') {\n      return {};\n    }\n    this.consumeOptional('/');\n    const segments = [];\n    if (!this.peekStartsWith('(')) {\n      segments.push(this.parseSegment());\n    }\n    while (this.peekStartsWith('/') && !this.peekStartsWith('//') && !this.peekStartsWith('/(')) {\n      this.capture('/');\n      segments.push(this.parseSegment());\n    }\n    let children = {};\n    if (this.peekStartsWith('/(')) {\n      this.capture('/');\n      children = this.parseParens(true);\n    }\n    let res = {};\n    if (this.peekStartsWith('(')) {\n      res = this.parseParens(false);\n    }\n    if (segments.length > 0 || Object.keys(children).length > 0) {\n      res[PRIMARY_OUTLET] = new UrlSegmentGroup(segments, children);\n    }\n    return res;\n  }\n  // parse a segment with its matrix parameters\n  // ie `name;k1=v1;k2`\n  parseSegment() {\n    const path = matchSegments(this.remaining);\n    if (path === '' && this.peekStartsWith(';')) {\n      throw new ɵRuntimeError(4009 /* RuntimeErrorCode.EMPTY_PATH_WITH_PARAMS */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Empty path url segment cannot have parameters: '${this.remaining}'.`);\n    }\n    this.capture(path);\n    return new UrlSegment(decode(path), this.parseMatrixParams());\n  }\n  parseMatrixParams() {\n    const params = {};\n    while (this.consumeOptional(';')) {\n      this.parseParam(params);\n    }\n    return params;\n  }\n  parseParam(params) {\n    const key = matchMatrixKeySegments(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchSegments(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    params[decode(key)] = decode(value);\n  }\n  // Parse a single query parameter `name[=value]`\n  parseQueryParam(params) {\n    const key = matchQueryParams(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchUrlQueryParamValue(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    const decodedKey = decodeQuery(key);\n    const decodedVal = decodeQuery(value);\n    if (params.hasOwnProperty(decodedKey)) {\n      // Append to existing values\n      let currentVal = params[decodedKey];\n      if (!Array.isArray(currentVal)) {\n        currentVal = [currentVal];\n        params[decodedKey] = currentVal;\n      }\n      currentVal.push(decodedVal);\n    } else {\n      // Create a new value\n      params[decodedKey] = decodedVal;\n    }\n  }\n  // parse `(a/b//outlet_name:c/d)`\n  parseParens(allowPrimary) {\n    const segments = {};\n    this.capture('(');\n    while (!this.consumeOptional(')') && this.remaining.length > 0) {\n      const path = matchSegments(this.remaining);\n      const next = this.remaining[path.length];\n      // if is is not one of these characters, then the segment was unescaped\n      // or the group was not closed\n      if (next !== '/' && next !== ')' && next !== ';') {\n        throw new ɵRuntimeError(4010 /* RuntimeErrorCode.UNPARSABLE_URL */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot parse url '${this.url}'`);\n      }\n      let outletName = undefined;\n      if (path.indexOf(':') > -1) {\n        outletName = path.slice(0, path.indexOf(':'));\n        this.capture(outletName);\n        this.capture(':');\n      } else if (allowPrimary) {\n        outletName = PRIMARY_OUTLET;\n      }\n      const children = this.parseChildren();\n      segments[outletName] = Object.keys(children).length === 1 ? children[PRIMARY_OUTLET] : new UrlSegmentGroup([], children);\n      this.consumeOptional('//');\n    }\n    return segments;\n  }\n  peekStartsWith(str) {\n    return this.remaining.startsWith(str);\n  }\n  // Consumes the prefix when it is present and returns whether it has been consumed\n  consumeOptional(str) {\n    if (this.peekStartsWith(str)) {\n      this.remaining = this.remaining.substring(str.length);\n      return true;\n    }\n    return false;\n  }\n  capture(str) {\n    if (!this.consumeOptional(str)) {\n      throw new ɵRuntimeError(4011 /* RuntimeErrorCode.UNEXPECTED_VALUE_IN_URL */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Expected \"${str}\".`);\n    }\n  }\n}\nfunction createRoot(rootCandidate) {\n  return rootCandidate.segments.length > 0 ? new UrlSegmentGroup([], {\n    [PRIMARY_OUTLET]: rootCandidate\n  }) : rootCandidate;\n}\n/**\n * Recursively\n * - merges primary segment children into their parents\n * - drops empty children (those which have no segments and no children themselves). This latter\n * prevents serializing a group into something like `/a(aux:)`, where `aux` is an empty child\n * segment.\n * - merges named outlets without a primary segment sibling into the children. This prevents\n * serializing a URL like `//(a:a)(b:b) instead of `/(a:a//b:b)` when the aux b route lives on the\n * root but the `a` route lives under an empty path primary route.\n */\nfunction squashSegmentGroup(segmentGroup) {\n  const newChildren = {};\n  for (const [childOutlet, child] of Object.entries(segmentGroup.children)) {\n    const childCandidate = squashSegmentGroup(child);\n    // moves named children in an empty path primary child into this group\n    if (childOutlet === PRIMARY_OUTLET && childCandidate.segments.length === 0 && childCandidate.hasChildren()) {\n      for (const [grandChildOutlet, grandChild] of Object.entries(childCandidate.children)) {\n        newChildren[grandChildOutlet] = grandChild;\n      }\n    } // don't add empty children\n    else if (childCandidate.segments.length > 0 || childCandidate.hasChildren()) {\n      newChildren[childOutlet] = childCandidate;\n    }\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, newChildren);\n  return mergeTrivialChildren(s);\n}\n/**\n * When possible, merges the primary outlet child into the parent `UrlSegmentGroup`.\n *\n * When a segment group has only one child which is a primary outlet, merges that child into the\n * parent. That is, the child segment group's segments are merged into the `s` and the child's\n * children become the children of `s`. Think of this like a 'squash', merging the child segment\n * group into the parent.\n */\nfunction mergeTrivialChildren(s) {\n  if (s.numberOfChildren === 1 && s.children[PRIMARY_OUTLET]) {\n    const c = s.children[PRIMARY_OUTLET];\n    return new UrlSegmentGroup(s.segments.concat(c.segments), c.children);\n  }\n  return s;\n}\nfunction isUrlTree(v) {\n  return v instanceof UrlTree;\n}\n\n/**\n * Creates a `UrlTree` relative to an `ActivatedRouteSnapshot`.\n *\n * @publicApi\n *\n *\n * @param relativeTo The `ActivatedRouteSnapshot` to apply the commands to\n * @param commands An array of URL fragments with which to construct the new URL tree.\n * If the path is static, can be the literal URL string. For a dynamic path, pass an array of path\n * segments, followed by the parameters for each segment.\n * The fragments are applied to the one provided in the `relativeTo` parameter.\n * @param queryParams The query parameters for the `UrlTree`. `null` if the `UrlTree` does not have\n *     any query parameters.\n * @param fragment The fragment for the `UrlTree`. `null` if the `UrlTree` does not have a fragment.\n *\n * @usageNotes\n *\n * ```\n * // create /team/33/user/11\n * createUrlTreeFromSnapshot(snapshot, ['/team', 33, 'user', 11]);\n *\n * // create /team/33;expand=true/user/11\n * createUrlTreeFromSnapshot(snapshot, ['/team', 33, {expand: true}, 'user', 11]);\n *\n * // you can collapse static segments like this (this works only with the first passed-in value):\n * createUrlTreeFromSnapshot(snapshot, ['/team/33/user', userId]);\n *\n * // If the first segment can contain slashes, and you do not want the router to split it,\n * // you can do the following:\n * createUrlTreeFromSnapshot(snapshot, [{segmentPath: '/one/two'}]);\n *\n * // create /team/33/(user/11//right:chat)\n * createUrlTreeFromSnapshot(snapshot, ['/team', 33, {outlets: {primary: 'user/11', right:\n * 'chat'}}], null, null);\n *\n * // remove the right secondary node\n * createUrlTreeFromSnapshot(snapshot, ['/team', 33, {outlets: {primary: 'user/11', right: null}}]);\n *\n * // For the examples below, assume the current URL is for the `/team/33/user/11` and the\n * `ActivatedRouteSnapshot` points to `user/11`:\n *\n * // navigate to /team/33/user/11/details\n * createUrlTreeFromSnapshot(snapshot, ['details']);\n *\n * // navigate to /team/33/user/22\n * createUrlTreeFromSnapshot(snapshot, ['../22']);\n *\n * // navigate to /team/44/user/22\n * createUrlTreeFromSnapshot(snapshot, ['../../team/44/user/22']);\n * ```\n */\nfunction createUrlTreeFromSnapshot(relativeTo, commands, queryParams = null, fragment = null) {\n  const relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeTo);\n  return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, queryParams, fragment);\n}\nfunction createSegmentGroupFromRoute(route) {\n  let targetGroup;\n  function createSegmentGroupFromRouteRecursive(currentRoute) {\n    const childOutlets = {};\n    for (const childSnapshot of currentRoute.children) {\n      const root = createSegmentGroupFromRouteRecursive(childSnapshot);\n      childOutlets[childSnapshot.outlet] = root;\n    }\n    const segmentGroup = new UrlSegmentGroup(currentRoute.url, childOutlets);\n    if (currentRoute === route) {\n      targetGroup = segmentGroup;\n    }\n    return segmentGroup;\n  }\n  const rootCandidate = createSegmentGroupFromRouteRecursive(route.root);\n  const rootSegmentGroup = createRoot(rootCandidate);\n  return targetGroup ?? rootSegmentGroup;\n}\nfunction createUrlTreeFromSegmentGroup(relativeTo, commands, queryParams, fragment) {\n  let root = relativeTo;\n  while (root.parent) {\n    root = root.parent;\n  }\n  // There are no commands so the `UrlTree` goes to the same path as the one created from the\n  // `UrlSegmentGroup`. All we need to do is update the `queryParams` and `fragment` without\n  // applying any other logic.\n  if (commands.length === 0) {\n    return tree(root, root, root, queryParams, fragment);\n  }\n  const nav = computeNavigation(commands);\n  if (nav.toRoot()) {\n    return tree(root, root, new UrlSegmentGroup([], {}), queryParams, fragment);\n  }\n  const position = findStartingPositionForTargetGroup(nav, root, relativeTo);\n  const newSegmentGroup = position.processChildren ? updateSegmentGroupChildren(position.segmentGroup, position.index, nav.commands) : updateSegmentGroup(position.segmentGroup, position.index, nav.commands);\n  return tree(root, position.segmentGroup, newSegmentGroup, queryParams, fragment);\n}\nfunction isMatrixParams(command) {\n  return typeof command === 'object' && command != null && !command.outlets && !command.segmentPath;\n}\n/**\n * Determines if a given command has an `outlets` map. When we encounter a command\n * with an outlets k/v map, we need to apply each outlet individually to the existing segment.\n */\nfunction isCommandWithOutlets(command) {\n  return typeof command === 'object' && command != null && command.outlets;\n}\nfunction tree(oldRoot, oldSegmentGroup, newSegmentGroup, queryParams, fragment) {\n  let qp = {};\n  if (queryParams) {\n    Object.entries(queryParams).forEach(([name, value]) => {\n      qp[name] = Array.isArray(value) ? value.map(v => `${v}`) : `${value}`;\n    });\n  }\n  let rootCandidate;\n  if (oldRoot === oldSegmentGroup) {\n    rootCandidate = newSegmentGroup;\n  } else {\n    rootCandidate = replaceSegment(oldRoot, oldSegmentGroup, newSegmentGroup);\n  }\n  const newRoot = createRoot(squashSegmentGroup(rootCandidate));\n  return new UrlTree(newRoot, qp, fragment);\n}\n/**\n * Replaces the `oldSegment` which is located in some child of the `current` with the `newSegment`.\n * This also has the effect of creating new `UrlSegmentGroup` copies to update references. This\n * shouldn't be necessary but the fallback logic for an invalid ActivatedRoute in the creation uses\n * the Router's current url tree. If we don't create new segment groups, we end up modifying that\n * value.\n */\nfunction replaceSegment(current, oldSegment, newSegment) {\n  const children = {};\n  Object.entries(current.children).forEach(([outletName, c]) => {\n    if (c === oldSegment) {\n      children[outletName] = newSegment;\n    } else {\n      children[outletName] = replaceSegment(c, oldSegment, newSegment);\n    }\n  });\n  return new UrlSegmentGroup(current.segments, children);\n}\nclass Navigation {\n  constructor(isAbsolute, numberOfDoubleDots, commands) {\n    this.isAbsolute = isAbsolute;\n    this.numberOfDoubleDots = numberOfDoubleDots;\n    this.commands = commands;\n    if (isAbsolute && commands.length > 0 && isMatrixParams(commands[0])) {\n      throw new ɵRuntimeError(4003 /* RuntimeErrorCode.ROOT_SEGMENT_MATRIX_PARAMS */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Root segment cannot have matrix parameters');\n    }\n    const cmdWithOutlet = commands.find(isCommandWithOutlets);\n    if (cmdWithOutlet && cmdWithOutlet !== last(commands)) {\n      throw new ɵRuntimeError(4004 /* RuntimeErrorCode.MISPLACED_OUTLETS_COMMAND */, (typeof ngDevMode === 'undefined' || ngDevMode) && '{outlets:{}} has to be the last command');\n    }\n  }\n  toRoot() {\n    return this.isAbsolute && this.commands.length === 1 && this.commands[0] == '/';\n  }\n}\n/** Transforms commands to a normalized `Navigation` */\nfunction computeNavigation(commands) {\n  if (typeof commands[0] === 'string' && commands.length === 1 && commands[0] === '/') {\n    return new Navigation(true, 0, commands);\n  }\n  let numberOfDoubleDots = 0;\n  let isAbsolute = false;\n  const res = commands.reduce((res, cmd, cmdIdx) => {\n    if (typeof cmd === 'object' && cmd != null) {\n      if (cmd.outlets) {\n        const outlets = {};\n        Object.entries(cmd.outlets).forEach(([name, commands]) => {\n          outlets[name] = typeof commands === 'string' ? commands.split('/') : commands;\n        });\n        return [...res, {\n          outlets\n        }];\n      }\n      if (cmd.segmentPath) {\n        return [...res, cmd.segmentPath];\n      }\n    }\n    if (!(typeof cmd === 'string')) {\n      return [...res, cmd];\n    }\n    if (cmdIdx === 0) {\n      cmd.split('/').forEach((urlPart, partIndex) => {\n        if (partIndex == 0 && urlPart === '.') {\n          // skip './a'\n        } else if (partIndex == 0 && urlPart === '') {\n          //  '/a'\n          isAbsolute = true;\n        } else if (urlPart === '..') {\n          //  '../a'\n          numberOfDoubleDots++;\n        } else if (urlPart != '') {\n          res.push(urlPart);\n        }\n      });\n      return res;\n    }\n    return [...res, cmd];\n  }, []);\n  return new Navigation(isAbsolute, numberOfDoubleDots, res);\n}\nclass Position {\n  constructor(segmentGroup, processChildren, index) {\n    this.segmentGroup = segmentGroup;\n    this.processChildren = processChildren;\n    this.index = index;\n  }\n}\nfunction findStartingPositionForTargetGroup(nav, root, target) {\n  if (nav.isAbsolute) {\n    return new Position(root, true, 0);\n  }\n  if (!target) {\n    // `NaN` is used only to maintain backwards compatibility with incorrectly mocked\n    // `ActivatedRouteSnapshot` in tests. In prior versions of this code, the position here was\n    // determined based on an internal property that was rarely mocked, resulting in `NaN`. In\n    // reality, this code path should _never_ be touched since `target` is not allowed to be falsey.\n    return new Position(root, false, NaN);\n  }\n  if (target.parent === null) {\n    return new Position(target, true, 0);\n  }\n  const modifier = isMatrixParams(nav.commands[0]) ? 0 : 1;\n  const index = target.segments.length - 1 + modifier;\n  return createPositionApplyingDoubleDots(target, index, nav.numberOfDoubleDots);\n}\nfunction createPositionApplyingDoubleDots(group, index, numberOfDoubleDots) {\n  let g = group;\n  let ci = index;\n  let dd = numberOfDoubleDots;\n  while (dd > ci) {\n    dd -= ci;\n    g = g.parent;\n    if (!g) {\n      throw new ɵRuntimeError(4005 /* RuntimeErrorCode.INVALID_DOUBLE_DOTS */, (typeof ngDevMode === 'undefined' || ngDevMode) && \"Invalid number of '../'\");\n    }\n    ci = g.segments.length;\n  }\n  return new Position(g, false, ci - dd);\n}\nfunction getOutlets(commands) {\n  if (isCommandWithOutlets(commands[0])) {\n    return commands[0].outlets;\n  }\n  return {\n    [PRIMARY_OUTLET]: commands\n  };\n}\nfunction updateSegmentGroup(segmentGroup, startIndex, commands) {\n  segmentGroup ??= new UrlSegmentGroup([], {});\n  if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n    return updateSegmentGroupChildren(segmentGroup, startIndex, commands);\n  }\n  const m = prefixedWith(segmentGroup, startIndex, commands);\n  const slicedCommands = commands.slice(m.commandIndex);\n  if (m.match && m.pathIndex < segmentGroup.segments.length) {\n    const g = new UrlSegmentGroup(segmentGroup.segments.slice(0, m.pathIndex), {});\n    g.children[PRIMARY_OUTLET] = new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex), segmentGroup.children);\n    return updateSegmentGroupChildren(g, 0, slicedCommands);\n  } else if (m.match && slicedCommands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else if (m.match && !segmentGroup.hasChildren()) {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  } else if (m.match) {\n    return updateSegmentGroupChildren(segmentGroup, 0, slicedCommands);\n  } else {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  }\n}\nfunction updateSegmentGroupChildren(segmentGroup, startIndex, commands) {\n  if (commands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else {\n    const outlets = getOutlets(commands);\n    const children = {};\n    // If the set of commands applies to anything other than the primary outlet and the child\n    // segment is an empty path primary segment on its own, we want to apply the commands to the\n    // empty child path rather than here. The outcome is that the empty primary child is effectively\n    // removed from the final output UrlTree. Imagine the following config:\n    //\n    // {path: '', children: [{path: '**', outlet: 'popup'}]}.\n    //\n    // Navigation to /(popup:a) will activate the child outlet correctly Given a follow-up\n    // navigation with commands\n    // ['/', {outlets: {'popup': 'b'}}], we _would not_ want to apply the outlet commands to the\n    // root segment because that would result in\n    // //(popup:a)(popup:b) since the outlet command got applied one level above where it appears in\n    // the `ActivatedRoute` rather than updating the existing one.\n    //\n    // Because empty paths do not appear in the URL segments and the fact that the segments used in\n    // the output `UrlTree` are squashed to eliminate these empty paths where possible\n    // https://github.com/angular/angular/blob/13f10de40e25c6900ca55bd83b36bd533dacfa9e/packages/router/src/url_tree.ts#L755\n    // it can be hard to determine what is the right thing to do when applying commands to a\n    // `UrlSegmentGroup` that is created from an \"unsquashed\"/expanded `ActivatedRoute` tree.\n    // This code effectively \"squashes\" empty path primary routes when they have no siblings on\n    // the same level of the tree.\n    if (Object.keys(outlets).some(o => o !== PRIMARY_OUTLET) && segmentGroup.children[PRIMARY_OUTLET] && segmentGroup.numberOfChildren === 1 && segmentGroup.children[PRIMARY_OUTLET].segments.length === 0) {\n      const childrenOfEmptyChild = updateSegmentGroupChildren(segmentGroup.children[PRIMARY_OUTLET], startIndex, commands);\n      return new UrlSegmentGroup(segmentGroup.segments, childrenOfEmptyChild.children);\n    }\n    Object.entries(outlets).forEach(([outlet, commands]) => {\n      if (typeof commands === 'string') {\n        commands = [commands];\n      }\n      if (commands !== null) {\n        children[outlet] = updateSegmentGroup(segmentGroup.children[outlet], startIndex, commands);\n      }\n    });\n    Object.entries(segmentGroup.children).forEach(([childOutlet, child]) => {\n      if (outlets[childOutlet] === undefined) {\n        children[childOutlet] = child;\n      }\n    });\n    return new UrlSegmentGroup(segmentGroup.segments, children);\n  }\n}\nfunction prefixedWith(segmentGroup, startIndex, commands) {\n  let currentCommandIndex = 0;\n  let currentPathIndex = startIndex;\n  const noMatch = {\n    match: false,\n    pathIndex: 0,\n    commandIndex: 0\n  };\n  while (currentPathIndex < segmentGroup.segments.length) {\n    if (currentCommandIndex >= commands.length) return noMatch;\n    const path = segmentGroup.segments[currentPathIndex];\n    const command = commands[currentCommandIndex];\n    // Do not try to consume command as part of the prefixing if it has outlets because it can\n    // contain outlets other than the one being processed. Consuming the outlets command would\n    // result in other outlets being ignored.\n    if (isCommandWithOutlets(command)) {\n      break;\n    }\n    const curr = `${command}`;\n    const next = currentCommandIndex < commands.length - 1 ? commands[currentCommandIndex + 1] : null;\n    if (currentPathIndex > 0 && curr === undefined) break;\n    if (curr && next && typeof next === 'object' && next.outlets === undefined) {\n      if (!compare(curr, next, path)) return noMatch;\n      currentCommandIndex += 2;\n    } else {\n      if (!compare(curr, {}, path)) return noMatch;\n      currentCommandIndex++;\n    }\n    currentPathIndex++;\n  }\n  return {\n    match: true,\n    pathIndex: currentPathIndex,\n    commandIndex: currentCommandIndex\n  };\n}\nfunction createNewSegmentGroup(segmentGroup, startIndex, commands) {\n  const paths = segmentGroup.segments.slice(0, startIndex);\n  let i = 0;\n  while (i < commands.length) {\n    const command = commands[i];\n    if (isCommandWithOutlets(command)) {\n      const children = createNewSegmentChildren(command.outlets);\n      return new UrlSegmentGroup(paths, children);\n    }\n    // if we start with an object literal, we need to reuse the path part from the segment\n    if (i === 0 && isMatrixParams(commands[0])) {\n      const p = segmentGroup.segments[startIndex];\n      paths.push(new UrlSegment(p.path, stringify(commands[0])));\n      i++;\n      continue;\n    }\n    const curr = isCommandWithOutlets(command) ? command.outlets[PRIMARY_OUTLET] : `${command}`;\n    const next = i < commands.length - 1 ? commands[i + 1] : null;\n    if (curr && next && isMatrixParams(next)) {\n      paths.push(new UrlSegment(curr, stringify(next)));\n      i += 2;\n    } else {\n      paths.push(new UrlSegment(curr, {}));\n      i++;\n    }\n  }\n  return new UrlSegmentGroup(paths, {});\n}\nfunction createNewSegmentChildren(outlets) {\n  const children = {};\n  Object.entries(outlets).forEach(([outlet, commands]) => {\n    if (typeof commands === 'string') {\n      commands = [commands];\n    }\n    if (commands !== null) {\n      children[outlet] = createNewSegmentGroup(new UrlSegmentGroup([], {}), 0, commands);\n    }\n  });\n  return children;\n}\nfunction stringify(params) {\n  const res = {};\n  Object.entries(params).forEach(([k, v]) => res[k] = `${v}`);\n  return res;\n}\nfunction compare(path, params, segment) {\n  return path == segment.path && shallowEqual(params, segment.parameters);\n}\nconst IMPERATIVE_NAVIGATION = 'imperative';\n/**\n * Identifies the type of a router event.\n *\n * @publicApi\n */\nvar EventType = /*#__PURE__*/function (EventType) {\n  EventType[EventType[\"NavigationStart\"] = 0] = \"NavigationStart\";\n  EventType[EventType[\"NavigationEnd\"] = 1] = \"NavigationEnd\";\n  EventType[EventType[\"NavigationCancel\"] = 2] = \"NavigationCancel\";\n  EventType[EventType[\"NavigationError\"] = 3] = \"NavigationError\";\n  EventType[EventType[\"RoutesRecognized\"] = 4] = \"RoutesRecognized\";\n  EventType[EventType[\"ResolveStart\"] = 5] = \"ResolveStart\";\n  EventType[EventType[\"ResolveEnd\"] = 6] = \"ResolveEnd\";\n  EventType[EventType[\"GuardsCheckStart\"] = 7] = \"GuardsCheckStart\";\n  EventType[EventType[\"GuardsCheckEnd\"] = 8] = \"GuardsCheckEnd\";\n  EventType[EventType[\"RouteConfigLoadStart\"] = 9] = \"RouteConfigLoadStart\";\n  EventType[EventType[\"RouteConfigLoadEnd\"] = 10] = \"RouteConfigLoadEnd\";\n  EventType[EventType[\"ChildActivationStart\"] = 11] = \"ChildActivationStart\";\n  EventType[EventType[\"ChildActivationEnd\"] = 12] = \"ChildActivationEnd\";\n  EventType[EventType[\"ActivationStart\"] = 13] = \"ActivationStart\";\n  EventType[EventType[\"ActivationEnd\"] = 14] = \"ActivationEnd\";\n  EventType[EventType[\"Scroll\"] = 15] = \"Scroll\";\n  EventType[EventType[\"NavigationSkipped\"] = 16] = \"NavigationSkipped\";\n  return EventType;\n}(EventType || {});\n/**\n * Base for events the router goes through, as opposed to events tied to a specific\n * route. Fired one time for any given navigation.\n *\n * The following code shows how a class subscribes to router events.\n *\n * ```ts\n * import {Event, RouterEvent, Router} from '@angular/router';\n *\n * class MyService {\n *   constructor(public router: Router) {\n *     router.events.pipe(\n *        filter((e: Event | RouterEvent): e is RouterEvent => e instanceof RouterEvent)\n *     ).subscribe((e: RouterEvent) => {\n *       // Do something\n *     });\n *   }\n * }\n * ```\n *\n * @see {@link Event}\n * @see [Router events summary](guide/routing/router-reference#router-events)\n * @publicApi\n */\nclass RouterEvent {\n  constructor( /** A unique ID that the router assigns to every router navigation. */\n  id, /** The URL that is the destination for this navigation. */\n  url) {\n    this.id = id;\n    this.url = url;\n  }\n}\n/**\n * An event triggered when a navigation starts.\n *\n * @publicApi\n */\nclass NavigationStart extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  navigationTrigger = 'imperative', /** @docsNotRequired */\n  restoredState = null) {\n    super(id, url);\n    this.type = EventType.NavigationStart;\n    this.navigationTrigger = navigationTrigger;\n    this.restoredState = restoredState;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `NavigationStart(id: ${this.id}, url: '${this.url}')`;\n  }\n}\n/**\n * An event triggered when a navigation ends successfully.\n *\n * @see {@link NavigationStart}\n * @see {@link NavigationCancel}\n * @see {@link NavigationError}\n *\n * @publicApi\n */\nclass NavigationEnd extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.type = EventType.NavigationEnd;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;\n  }\n}\n/**\n * A code for the `NavigationCancel` event of the `Router` to indicate the\n * reason a navigation failed.\n *\n * @publicApi\n */\nvar NavigationCancellationCode = /*#__PURE__*/function (NavigationCancellationCode) {\n  /**\n   * A navigation failed because a guard returned a `UrlTree` to redirect.\n   */\n  NavigationCancellationCode[NavigationCancellationCode[\"Redirect\"] = 0] = \"Redirect\";\n  /**\n   * A navigation failed because a more recent navigation started.\n   */\n  NavigationCancellationCode[NavigationCancellationCode[\"SupersededByNewNavigation\"] = 1] = \"SupersededByNewNavigation\";\n  /**\n   * A navigation failed because one of the resolvers completed without emitting a value.\n   */\n  NavigationCancellationCode[NavigationCancellationCode[\"NoDataFromResolver\"] = 2] = \"NoDataFromResolver\";\n  /**\n   * A navigation failed because a guard returned `false`.\n   */\n  NavigationCancellationCode[NavigationCancellationCode[\"GuardRejected\"] = 3] = \"GuardRejected\";\n  return NavigationCancellationCode;\n}(NavigationCancellationCode || {});\n/**\n * A code for the `NavigationSkipped` event of the `Router` to indicate the\n * reason a navigation was skipped.\n *\n * @publicApi\n */\nvar NavigationSkippedCode = /*#__PURE__*/function (NavigationSkippedCode) {\n  /**\n   * A navigation was skipped because the navigation URL was the same as the current Router URL.\n   */\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredSameUrlNavigation\"] = 0] = \"IgnoredSameUrlNavigation\";\n  /**\n   * A navigation was skipped because the configured `UrlHandlingStrategy` return `false` for both\n   * the current Router URL and the target of the navigation.\n   *\n   * @see {@link UrlHandlingStrategy}\n   */\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredByUrlHandlingStrategy\"] = 1] = \"IgnoredByUrlHandlingStrategy\";\n  return NavigationSkippedCode;\n}(NavigationSkippedCode || {});\n/**\n * An event triggered when a navigation is canceled, directly or indirectly.\n * This can happen for several reasons including when a route guard\n * returns `false` or initiates a redirect by returning a `UrlTree`.\n *\n * @see {@link NavigationStart}\n * @see {@link NavigationEnd}\n * @see {@link NavigationError}\n *\n * @publicApi\n */\nclass NavigationCancel extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url,\n  /**\n   * A description of why the navigation was cancelled. For debug purposes only. Use `code`\n   * instead for a stable cancellation reason that can be used in production.\n   */\n  reason,\n  /**\n   * A code to indicate why the navigation was canceled. This cancellation code is stable for\n   * the reason and can be relied on whereas the `reason` string could change and should not be\n   * used in production.\n   */\n  code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n    this.type = EventType.NavigationCancel;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `NavigationCancel(id: ${this.id}, url: '${this.url}')`;\n  }\n}\n/**\n * An event triggered when a navigation is skipped.\n * This can happen for a couple reasons including onSameUrlHandling\n * is set to `ignore` and the navigation URL is not different than the\n * current state.\n *\n * @publicApi\n */\nclass NavigationSkipped extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url,\n  /**\n   * A description of why the navigation was skipped. For debug purposes only. Use `code`\n   * instead for a stable skipped reason that can be used in production.\n   */\n  reason,\n  /**\n   * A code to indicate why the navigation was skipped. This code is stable for\n   * the reason and can be relied on whereas the `reason` string could change and should not be\n   * used in production.\n   */\n  code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n    this.type = EventType.NavigationSkipped;\n  }\n}\n/**\n * An event triggered when a navigation fails due to an unexpected error.\n *\n * @see {@link NavigationStart}\n * @see {@link NavigationEnd}\n * @see {@link NavigationCancel}\n *\n * @publicApi\n */\nclass NavigationError extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  error,\n  /**\n   * The target of the navigation when the error occurred.\n   *\n   * Note that this can be `undefined` because an error could have occurred before the\n   * `RouterStateSnapshot` was created for the navigation.\n   */\n  target) {\n    super(id, url);\n    this.error = error;\n    this.target = target;\n    this.type = EventType.NavigationError;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;\n  }\n}\n/**\n * An event triggered when routes are recognized.\n *\n * @publicApi\n */\nclass RoutesRecognized extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.type = EventType.RoutesRecognized;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\n/**\n * An event triggered at the start of the Guard phase of routing.\n *\n * @see {@link GuardsCheckEnd}\n *\n * @publicApi\n */\nclass GuardsCheckStart extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.type = EventType.GuardsCheckStart;\n  }\n  toString() {\n    return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\n/**\n * An event triggered at the end of the Guard phase of routing.\n *\n * @see {@link GuardsCheckStart}\n *\n * @publicApi\n */\nclass GuardsCheckEnd extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state, /** @docsNotRequired */\n  shouldActivate) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.shouldActivate = shouldActivate;\n    this.type = EventType.GuardsCheckEnd;\n  }\n  toString() {\n    return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;\n  }\n}\n/**\n * An event triggered at the start of the Resolve phase of routing.\n *\n * Runs in the \"resolve\" phase whether or not there is anything to resolve.\n * In future, may change to only run when there are things to be resolved.\n *\n * @see {@link ResolveEnd}\n *\n * @publicApi\n */\nclass ResolveStart extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.type = EventType.ResolveStart;\n  }\n  toString() {\n    return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\n/**\n * An event triggered at the end of the Resolve phase of routing.\n * @see {@link ResolveStart}\n *\n * @publicApi\n */\nclass ResolveEnd extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.type = EventType.ResolveEnd;\n  }\n  toString() {\n    return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\n/**\n * An event triggered before lazy loading a route configuration.\n *\n * @see {@link RouteConfigLoadEnd}\n *\n * @publicApi\n */\nclass RouteConfigLoadStart {\n  constructor( /** @docsNotRequired */\n  route) {\n    this.route = route;\n    this.type = EventType.RouteConfigLoadStart;\n  }\n  toString() {\n    return `RouteConfigLoadStart(path: ${this.route.path})`;\n  }\n}\n/**\n * An event triggered when a route has been lazy loaded.\n *\n * @see {@link RouteConfigLoadStart}\n *\n * @publicApi\n */\nclass RouteConfigLoadEnd {\n  constructor( /** @docsNotRequired */\n  route) {\n    this.route = route;\n    this.type = EventType.RouteConfigLoadEnd;\n  }\n  toString() {\n    return `RouteConfigLoadEnd(path: ${this.route.path})`;\n  }\n}\n/**\n * An event triggered at the start of the child-activation\n * part of the Resolve phase of routing.\n * @see {@link ChildActivationEnd}\n * @see {@link ResolveStart}\n *\n * @publicApi\n */\nclass ChildActivationStart {\n  constructor( /** @docsNotRequired */\n  snapshot) {\n    this.snapshot = snapshot;\n    this.type = EventType.ChildActivationStart;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationStart(path: '${path}')`;\n  }\n}\n/**\n * An event triggered at the end of the child-activation part\n * of the Resolve phase of routing.\n * @see {@link ChildActivationStart}\n * @see {@link ResolveStart}\n * @publicApi\n */\nclass ChildActivationEnd {\n  constructor( /** @docsNotRequired */\n  snapshot) {\n    this.snapshot = snapshot;\n    this.type = EventType.ChildActivationEnd;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationEnd(path: '${path}')`;\n  }\n}\n/**\n * An event triggered at the start of the activation part\n * of the Resolve phase of routing.\n * @see {@link ActivationEnd}\n * @see {@link ResolveStart}\n *\n * @publicApi\n */\nclass ActivationStart {\n  constructor( /** @docsNotRequired */\n  snapshot) {\n    this.snapshot = snapshot;\n    this.type = EventType.ActivationStart;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationStart(path: '${path}')`;\n  }\n}\n/**\n * An event triggered at the end of the activation part\n * of the Resolve phase of routing.\n * @see {@link ActivationStart}\n * @see {@link ResolveStart}\n *\n * @publicApi\n */\nclass ActivationEnd {\n  constructor( /** @docsNotRequired */\n  snapshot) {\n    this.snapshot = snapshot;\n    this.type = EventType.ActivationEnd;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationEnd(path: '${path}')`;\n  }\n}\n/**\n * An event triggered by scrolling.\n *\n * @publicApi\n */\nclass Scroll {\n  constructor( /** @docsNotRequired */\n  routerEvent, /** @docsNotRequired */\n  position, /** @docsNotRequired */\n  anchor) {\n    this.routerEvent = routerEvent;\n    this.position = position;\n    this.anchor = anchor;\n    this.type = EventType.Scroll;\n  }\n  toString() {\n    const pos = this.position ? `${this.position[0]}, ${this.position[1]}` : null;\n    return `Scroll(anchor: '${this.anchor}', position: '${pos}')`;\n  }\n}\nclass BeforeActivateRoutes {}\nclass RedirectRequest {\n  constructor(url, navigationBehaviorOptions) {\n    this.url = url;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nfunction stringifyEvent(routerEvent) {\n  switch (routerEvent.type) {\n    case EventType.ActivationEnd:\n      return `ActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ActivationStart:\n      return `ActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationEnd:\n      return `ChildActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationStart:\n      return `ChildActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.GuardsCheckEnd:\n      return `GuardsCheckEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state}, shouldActivate: ${routerEvent.shouldActivate})`;\n    case EventType.GuardsCheckStart:\n      return `GuardsCheckStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.NavigationCancel:\n      return `NavigationCancel(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationSkipped:\n      return `NavigationSkipped(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationEnd:\n      return `NavigationEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}')`;\n    case EventType.NavigationError:\n      return `NavigationError(id: ${routerEvent.id}, url: '${routerEvent.url}', error: ${routerEvent.error})`;\n    case EventType.NavigationStart:\n      return `NavigationStart(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.ResolveEnd:\n      return `ResolveEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.ResolveStart:\n      return `ResolveStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.RouteConfigLoadEnd:\n      return `RouteConfigLoadEnd(path: ${routerEvent.route.path})`;\n    case EventType.RouteConfigLoadStart:\n      return `RouteConfigLoadStart(path: ${routerEvent.route.path})`;\n    case EventType.RoutesRecognized:\n      return `RoutesRecognized(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.Scroll:\n      const pos = routerEvent.position ? `${routerEvent.position[0]}, ${routerEvent.position[1]}` : null;\n      return `Scroll(anchor: '${routerEvent.anchor}', position: '${pos}')`;\n  }\n}\n\n/**\n * Creates an `EnvironmentInjector` if the `Route` has providers and one does not already exist\n * and returns the injector. Otherwise, if the `Route` does not have `providers`, returns the\n * `currentInjector`.\n *\n * @param route The route that might have providers\n * @param currentInjector The parent injector of the `Route`\n */\nfunction getOrCreateRouteInjectorIfNeeded(route, currentInjector) {\n  if (route.providers && !route._injector) {\n    route._injector = createEnvironmentInjector(route.providers, currentInjector, `Route: ${route.path}`);\n  }\n  return route._injector ?? currentInjector;\n}\nfunction getLoadedRoutes(route) {\n  return route._loadedRoutes;\n}\nfunction getLoadedInjector(route) {\n  return route._loadedInjector;\n}\nfunction getLoadedComponent(route) {\n  return route._loadedComponent;\n}\nfunction getProvidersInjector(route) {\n  return route._injector;\n}\nfunction validateConfig(config, parentPath = '', requireStandaloneComponents = false) {\n  // forEach doesn't iterate undefined values\n  for (let i = 0; i < config.length; i++) {\n    const route = config[i];\n    const fullPath = getFullPath(parentPath, route);\n    validateNode(route, fullPath, requireStandaloneComponents);\n  }\n}\nfunction assertStandalone(fullPath, component) {\n  if (component && ɵisNgModule(component)) {\n    throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}'. You are using 'loadComponent' with a module, ` + `but it must be used with standalone components. Use 'loadChildren' instead.`);\n  } else if (component && !isStandalone(component)) {\n    throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}'. The component must be standalone.`);\n  }\n}\nfunction validateNode(route, fullPath, requireStandaloneComponents) {\n  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n    if (!route) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);\n    }\n    if (Array.isArray(route)) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': Array cannot be specified`);\n    }\n    if (!route.redirectTo && !route.component && !route.loadComponent && !route.children && !route.loadChildren && route.outlet && route.outlet !== PRIMARY_OUTLET) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);\n    }\n    if (route.redirectTo && route.children) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);\n    }\n    if (route.redirectTo && route.loadChildren) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);\n    }\n    if (route.children && route.loadChildren) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);\n    }\n    if (route.redirectTo && (route.component || route.loadComponent)) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': redirectTo and component/loadComponent cannot be used together`);\n    }\n    if (route.component && route.loadComponent) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': component and loadComponent cannot be used together`);\n    }\n    if (route.redirectTo && route.canActivate) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': redirectTo and canActivate cannot be used together. Redirects happen before activation ` + `so canActivate will never be executed.`);\n    }\n    if (route.path && route.matcher) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);\n    }\n    if (route.redirectTo === void 0 && !route.component && !route.loadComponent && !route.children && !route.loadChildren) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren`);\n    }\n    if (route.path === void 0 && route.matcher === void 0) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);\n    }\n    if (typeof route.path === 'string' && route.path.charAt(0) === '/') {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': path cannot start with a slash`);\n    }\n    if (route.path === '' && route.redirectTo !== void 0 && route.pathMatch === void 0) {\n      const exp = `The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`;\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '{path: \"${fullPath}\", redirectTo: \"${route.redirectTo}\"}': please provide 'pathMatch'. ${exp}`);\n    }\n    if (requireStandaloneComponents) {\n      assertStandalone(fullPath, route.component);\n    }\n  }\n  if (route.children) {\n    validateConfig(route.children, fullPath, requireStandaloneComponents);\n  }\n}\nfunction getFullPath(parentPath, currentRoute) {\n  if (!currentRoute) {\n    return parentPath;\n  }\n  if (!parentPath && !currentRoute.path) {\n    return '';\n  } else if (parentPath && !currentRoute.path) {\n    return `${parentPath}/`;\n  } else if (!parentPath && currentRoute.path) {\n    return currentRoute.path;\n  } else {\n    return `${parentPath}/${currentRoute.path}`;\n  }\n}\n/** Returns the `route.outlet` or PRIMARY_OUTLET if none exists. */\nfunction getOutlet(route) {\n  return route.outlet || PRIMARY_OUTLET;\n}\n/**\n * Sorts the `routes` such that the ones with an outlet matching `outletName` come first.\n * The order of the configs is otherwise preserved.\n */\nfunction sortByMatchingOutlets(routes, outletName) {\n  const sortedConfig = routes.filter(r => getOutlet(r) === outletName);\n  sortedConfig.push(...routes.filter(r => getOutlet(r) !== outletName));\n  return sortedConfig;\n}\n/**\n * Gets the first injector in the snapshot's parent tree.\n *\n * If the `Route` has a static list of providers, the returned injector will be the one created from\n * those. If it does not exist, the returned injector may come from the parents, which may be from a\n * loaded config or their static providers.\n *\n * Returns `null` if there is neither this nor any parents have a stored injector.\n *\n * Generally used for retrieving the injector to use for getting tokens for guards/resolvers and\n * also used for getting the correct injector to use for creating components.\n */\nfunction getClosestRouteInjector(snapshot) {\n  if (!snapshot) return null;\n  // If the current route has its own injector, which is created from the static providers on the\n  // route itself, we should use that. Otherwise, we start at the parent since we do not want to\n  // include the lazy loaded injector from this route.\n  if (snapshot.routeConfig?._injector) {\n    return snapshot.routeConfig._injector;\n  }\n  for (let s = snapshot.parent; s; s = s.parent) {\n    const route = s.routeConfig;\n    // Note that the order here is important. `_loadedInjector` stored on the route with\n    // `loadChildren: () => NgModule` so it applies to child routes with priority. The `_injector`\n    // is created from the static providers on that parent route, so it applies to the children as\n    // well, but only if there is no lazy loaded NgModuleRef injector.\n    if (route?._loadedInjector) return route._loadedInjector;\n    if (route?._injector) return route._injector;\n  }\n  return null;\n}\n\n/**\n * Store contextual information about a `RouterOutlet`\n *\n * @publicApi\n */\nclass OutletContext {\n  get injector() {\n    return getClosestRouteInjector(this.route?.snapshot) ?? this.rootInjector;\n  }\n  // TODO(atscott): Only here to avoid a \"breaking\" change in a patch/minor. Remove in v19.\n  set injector(_) {}\n  constructor(rootInjector) {\n    this.rootInjector = rootInjector;\n    this.outlet = null;\n    this.route = null;\n    this.children = new ChildrenOutletContexts(this.rootInjector);\n    this.attachRef = null;\n  }\n}\n/**\n * Store contextual information about the children (= nested) `RouterOutlet`\n *\n * @publicApi\n */\nlet ChildrenOutletContexts = /*#__PURE__*/(() => {\n  class ChildrenOutletContexts {\n    /** @nodoc */\n    constructor(rootInjector) {\n      this.rootInjector = rootInjector;\n      // contexts for child outlets, by name.\n      this.contexts = new Map();\n    }\n    /** Called when a `RouterOutlet` directive is instantiated */\n    onChildOutletCreated(childName, outlet) {\n      const context = this.getOrCreateContext(childName);\n      context.outlet = outlet;\n      this.contexts.set(childName, context);\n    }\n    /**\n     * Called when a `RouterOutlet` directive is destroyed.\n     * We need to keep the context as the outlet could be destroyed inside a NgIf and might be\n     * re-created later.\n     */\n    onChildOutletDestroyed(childName) {\n      const context = this.getContext(childName);\n      if (context) {\n        context.outlet = null;\n        context.attachRef = null;\n      }\n    }\n    /**\n     * Called when the corresponding route is deactivated during navigation.\n     * Because the component get destroyed, all children outlet are destroyed.\n     */\n    onOutletDeactivated() {\n      const contexts = this.contexts;\n      this.contexts = new Map();\n      return contexts;\n    }\n    onOutletReAttached(contexts) {\n      this.contexts = contexts;\n    }\n    getOrCreateContext(childName) {\n      let context = this.getContext(childName);\n      if (!context) {\n        context = new OutletContext(this.rootInjector);\n        this.contexts.set(childName, context);\n      }\n      return context;\n    }\n    getContext(childName) {\n      return this.contexts.get(childName) || null;\n    }\n    static {\n      this.ɵfac = function ChildrenOutletContexts_Factory(t) {\n        return new (t || ChildrenOutletContexts)(i0.ɵɵinject(i0.EnvironmentInjector));\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: ChildrenOutletContexts,\n        factory: ChildrenOutletContexts.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ChildrenOutletContexts;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass Tree {\n  constructor(root) {\n    this._root = root;\n  }\n  get root() {\n    return this._root.value;\n  }\n  /**\n   * @internal\n   */\n  parent(t) {\n    const p = this.pathFromRoot(t);\n    return p.length > 1 ? p[p.length - 2] : null;\n  }\n  /**\n   * @internal\n   */\n  children(t) {\n    const n = findNode(t, this._root);\n    return n ? n.children.map(t => t.value) : [];\n  }\n  /**\n   * @internal\n   */\n  firstChild(t) {\n    const n = findNode(t, this._root);\n    return n && n.children.length > 0 ? n.children[0].value : null;\n  }\n  /**\n   * @internal\n   */\n  siblings(t) {\n    const p = findPath(t, this._root);\n    if (p.length < 2) return [];\n    const c = p[p.length - 2].children.map(c => c.value);\n    return c.filter(cc => cc !== t);\n  }\n  /**\n   * @internal\n   */\n  pathFromRoot(t) {\n    return findPath(t, this._root).map(s => s.value);\n  }\n}\n// DFS for the node matching the value\nfunction findNode(value, node) {\n  if (value === node.value) return node;\n  for (const child of node.children) {\n    const node = findNode(value, child);\n    if (node) return node;\n  }\n  return null;\n}\n// Return the path to the node with the given value using DFS\nfunction findPath(value, node) {\n  if (value === node.value) return [node];\n  for (const child of node.children) {\n    const path = findPath(value, child);\n    if (path.length) {\n      path.unshift(node);\n      return path;\n    }\n  }\n  return [];\n}\nclass TreeNode {\n  constructor(value, children) {\n    this.value = value;\n    this.children = children;\n  }\n  toString() {\n    return `TreeNode(${this.value})`;\n  }\n}\n// Return the list of T indexed by outlet name\nfunction nodeChildrenAsMap(node) {\n  const map = {};\n  if (node) {\n    node.children.forEach(child => map[child.value.outlet] = child);\n  }\n  return map;\n}\n\n/**\n * Represents the state of the router as a tree of activated routes.\n *\n * @usageNotes\n *\n * Every node in the route tree is an `ActivatedRoute` instance\n * that knows about the \"consumed\" URL segments, the extracted parameters,\n * and the resolved data.\n * Use the `ActivatedRoute` properties to traverse the tree from any node.\n *\n * The following fragment shows how a component gets the root node\n * of the current state to establish its own route tree:\n *\n * ```\n * @Component({templateUrl:'template.html'})\n * class MyComponent {\n *   constructor(router: Router) {\n *     const state: RouterState = router.routerState;\n *     const root: ActivatedRoute = state.root;\n *     const child = root.firstChild;\n *     const id: Observable<string> = child.params.map(p => p.id);\n *     //...\n *   }\n * }\n * ```\n *\n * @see {@link ActivatedRoute}\n * @see [Getting route information](guide/routing/common-router-tasks#getting-route-information)\n *\n * @publicApi\n */\nclass RouterState extends Tree {\n  /** @internal */\n  constructor(root, /** The current snapshot of the router state */\n  snapshot) {\n    super(root);\n    this.snapshot = snapshot;\n    setRouterState(this, root);\n  }\n  toString() {\n    return this.snapshot.toString();\n  }\n}\nfunction createEmptyState(rootComponent) {\n  const snapshot = createEmptyStateSnapshot(rootComponent);\n  const emptyUrl = new BehaviorSubject([new UrlSegment('', {})]);\n  const emptyParams = new BehaviorSubject({});\n  const emptyData = new BehaviorSubject({});\n  const emptyQueryParams = new BehaviorSubject({});\n  const fragment = new BehaviorSubject('');\n  const activated = new ActivatedRoute(emptyUrl, emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, snapshot.root);\n  activated.snapshot = snapshot.root;\n  return new RouterState(new TreeNode(activated, []), snapshot);\n}\nfunction createEmptyStateSnapshot(rootComponent) {\n  const emptyParams = {};\n  const emptyData = {};\n  const emptyQueryParams = {};\n  const fragment = '';\n  const activated = new ActivatedRouteSnapshot([], emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, null, {});\n  return new RouterStateSnapshot('', new TreeNode(activated, []));\n}\n/**\n * Provides access to information about a route associated with a component\n * that is loaded in an outlet.\n * Use to traverse the `RouterState` tree and extract information from nodes.\n *\n * The following example shows how to construct a component using information from a\n * currently activated route.\n *\n * Note: the observables in this class only emit when the current and previous values differ based\n * on shallow equality. For example, changing deeply nested properties in resolved `data` will not\n * cause the `ActivatedRoute.data` `Observable` to emit a new value.\n *\n * {@example router/activated-route/module.ts region=\"activated-route\"\n *     header=\"activated-route.component.ts\"}\n *\n * @see [Getting route information](guide/routing/common-router-tasks#getting-route-information)\n *\n * @publicApi\n */\nclass ActivatedRoute {\n  /** @internal */\n  constructor( /** @internal */\n  urlSubject, /** @internal */\n  paramsSubject, /** @internal */\n  queryParamsSubject, /** @internal */\n  fragmentSubject, /** @internal */\n  dataSubject, /** The outlet name of the route, a constant. */\n  outlet, /** The component of the route, a constant. */\n  component, futureSnapshot) {\n    this.urlSubject = urlSubject;\n    this.paramsSubject = paramsSubject;\n    this.queryParamsSubject = queryParamsSubject;\n    this.fragmentSubject = fragmentSubject;\n    this.dataSubject = dataSubject;\n    this.outlet = outlet;\n    this.component = component;\n    this._futureSnapshot = futureSnapshot;\n    this.title = this.dataSubject?.pipe(map(d => d[RouteTitleKey])) ?? of(undefined);\n    // TODO(atscott): Verify that these can be changed to `.asObservable()` with TGP.\n    this.url = urlSubject;\n    this.params = paramsSubject;\n    this.queryParams = queryParamsSubject;\n    this.fragment = fragmentSubject;\n    this.data = dataSubject;\n  }\n  /** The configuration used to match this route. */\n  get routeConfig() {\n    return this._futureSnapshot.routeConfig;\n  }\n  /** The root of the router state. */\n  get root() {\n    return this._routerState.root;\n  }\n  /** The parent of this route in the router state tree. */\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  /** The first child of this route in the router state tree. */\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  /** The children of this route in the router state tree. */\n  get children() {\n    return this._routerState.children(this);\n  }\n  /** The path from the root of the router state tree to this route. */\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  /**\n   * An Observable that contains a map of the required and optional parameters\n   * specific to the route.\n   * The map supports retrieving single and multiple values from the same parameter.\n   */\n  get paramMap() {\n    this._paramMap ??= this.params.pipe(map(p => convertToParamMap(p)));\n    return this._paramMap;\n  }\n  /**\n   * An Observable that contains a map of the query parameters available to all routes.\n   * The map supports retrieving single and multiple values from the query parameter.\n   */\n  get queryParamMap() {\n    this._queryParamMap ??= this.queryParams.pipe(map(p => convertToParamMap(p)));\n    return this._queryParamMap;\n  }\n  toString() {\n    return this.snapshot ? this.snapshot.toString() : `Future(${this._futureSnapshot})`;\n  }\n}\n/**\n * Returns the inherited params, data, and resolve for a given route.\n *\n * By default, we do not inherit parent data unless the current route is path-less or the parent\n * route is component-less.\n */\nfunction getInherited(route, parent, paramsInheritanceStrategy = 'emptyOnly') {\n  let inherited;\n  const {\n    routeConfig\n  } = route;\n  if (parent !== null && (paramsInheritanceStrategy === 'always' ||\n  // inherit parent data if route is empty path\n  routeConfig?.path === '' ||\n  // inherit parent data if parent was componentless\n  !parent.component && !parent.routeConfig?.loadComponent)) {\n    inherited = {\n      params: {\n        ...parent.params,\n        ...route.params\n      },\n      data: {\n        ...parent.data,\n        ...route.data\n      },\n      resolve: {\n        // Snapshots are created with data inherited from parent and guards (i.e. canActivate) can\n        // change data because it's not frozen...\n        // This first line could be deleted chose to break/disallow mutating the `data` object in\n        // guards.\n        // Note that data from parents still override this mutated data so anyone relying on this\n        // might be surprised that it doesn't work if parent data is inherited but otherwise does.\n        ...route.data,\n        // Ensure inherited resolved data overrides inherited static data\n        ...parent.data,\n        // static data from the current route overrides any inherited data\n        ...routeConfig?.data,\n        // resolved data from current route overrides everything\n        ...route._resolvedData\n      }\n    };\n  } else {\n    inherited = {\n      params: {\n        ...route.params\n      },\n      data: {\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...(route._resolvedData ?? {})\n      }\n    };\n  }\n  if (routeConfig && hasStaticTitle(routeConfig)) {\n    inherited.resolve[RouteTitleKey] = routeConfig.title;\n  }\n  return inherited;\n}\n/**\n * @description\n *\n * Contains the information about a route associated with a component loaded in an\n * outlet at a particular moment in time. ActivatedRouteSnapshot can also be used to\n * traverse the router state tree.\n *\n * The following example initializes a component with route information extracted\n * from the snapshot of the root node at the time of creation.\n *\n * ```\n * @Component({templateUrl:'./my-component.html'})\n * class MyComponent {\n *   constructor(route: ActivatedRoute) {\n *     const id: string = route.snapshot.params.id;\n *     const url: string = route.snapshot.url.join('');\n *     const user = route.snapshot.data.user;\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nclass ActivatedRouteSnapshot {\n  /** The resolved route title */\n  get title() {\n    // Note: This _must_ be a getter because the data is mutated in the resolvers. Title will not be\n    // available at the time of class instantiation.\n    return this.data?.[RouteTitleKey];\n  }\n  /** @internal */\n  constructor( /** The URL segments matched by this route */\n  url,\n  /**\n   *  The matrix parameters scoped to this route.\n   *\n   *  You can compute all params (or data) in the router state or to get params outside\n   *  of an activated component by traversing the `RouterState` tree as in the following\n   *  example:\n   *  ```\n   *  collectRouteParams(router: Router) {\n   *    let params = {};\n   *    let stack: ActivatedRouteSnapshot[] = [router.routerState.snapshot.root];\n   *    while (stack.length > 0) {\n   *      const route = stack.pop()!;\n   *      params = {...params, ...route.params};\n   *      stack.push(...route.children);\n   *    }\n   *    return params;\n   *  }\n   *  ```\n   */\n  params, /** The query parameters shared by all the routes */\n  queryParams, /** The URL fragment shared by all the routes */\n  fragment, /** The static and resolved data of this route */\n  data, /** The outlet name of the route */\n  outlet, /** The component of the route */\n  component, routeConfig, resolve) {\n    this.url = url;\n    this.params = params;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    this.data = data;\n    this.outlet = outlet;\n    this.component = component;\n    this.routeConfig = routeConfig;\n    this._resolve = resolve;\n  }\n  /** The root of the router state */\n  get root() {\n    return this._routerState.root;\n  }\n  /** The parent of this route in the router state tree */\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  /** The first child of this route in the router state tree */\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  /** The children of this route in the router state tree */\n  get children() {\n    return this._routerState.children(this);\n  }\n  /** The path from the root of the router state tree to this route */\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= convertToParamMap(this.params);\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    const url = this.url.map(segment => segment.toString()).join('/');\n    const matched = this.routeConfig ? this.routeConfig.path : '';\n    return `Route(url:'${url}', path:'${matched}')`;\n  }\n}\n/**\n * @description\n *\n * Represents the state of the router at a moment in time.\n *\n * This is a tree of activated route snapshots. Every node in this tree knows about\n * the \"consumed\" URL segments, the extracted parameters, and the resolved data.\n *\n * The following example shows how a component is initialized with information\n * from the snapshot of the root node's state at the time of creation.\n *\n * ```\n * @Component({templateUrl:'template.html'})\n * class MyComponent {\n *   constructor(router: Router) {\n *     const state: RouterState = router.routerState;\n *     const snapshot: RouterStateSnapshot = state.snapshot;\n *     const root: ActivatedRouteSnapshot = snapshot.root;\n *     const child = root.firstChild;\n *     const id: Observable<string> = child.params.map(p => p.id);\n *     //...\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nclass RouterStateSnapshot extends Tree {\n  /** @internal */\n  constructor( /** The url from which this snapshot was created */\n  url, root) {\n    super(root);\n    this.url = url;\n    setRouterState(this, root);\n  }\n  toString() {\n    return serializeNode(this._root);\n  }\n}\nfunction setRouterState(state, node) {\n  node.value._routerState = state;\n  node.children.forEach(c => setRouterState(state, c));\n}\nfunction serializeNode(node) {\n  const c = node.children.length > 0 ? ` { ${node.children.map(serializeNode).join(', ')} } ` : '';\n  return `${node.value}${c}`;\n}\n/**\n * The expectation is that the activate route is created with the right set of parameters.\n * So we push new values into the observables only when they are not the initial values.\n * And we detect that by checking if the snapshot field is set.\n */\nfunction advanceActivatedRoute(route) {\n  if (route.snapshot) {\n    const currentSnapshot = route.snapshot;\n    const nextSnapshot = route._futureSnapshot;\n    route.snapshot = nextSnapshot;\n    if (!shallowEqual(currentSnapshot.queryParams, nextSnapshot.queryParams)) {\n      route.queryParamsSubject.next(nextSnapshot.queryParams);\n    }\n    if (currentSnapshot.fragment !== nextSnapshot.fragment) {\n      route.fragmentSubject.next(nextSnapshot.fragment);\n    }\n    if (!shallowEqual(currentSnapshot.params, nextSnapshot.params)) {\n      route.paramsSubject.next(nextSnapshot.params);\n    }\n    if (!shallowEqualArrays(currentSnapshot.url, nextSnapshot.url)) {\n      route.urlSubject.next(nextSnapshot.url);\n    }\n    if (!shallowEqual(currentSnapshot.data, nextSnapshot.data)) {\n      route.dataSubject.next(nextSnapshot.data);\n    }\n  } else {\n    route.snapshot = route._futureSnapshot;\n    // this is for resolved data\n    route.dataSubject.next(route._futureSnapshot.data);\n  }\n}\nfunction equalParamsAndUrlSegments(a, b) {\n  const equalUrlParams = shallowEqual(a.params, b.params) && equalSegments(a.url, b.url);\n  const parentsMismatch = !a.parent !== !b.parent;\n  return equalUrlParams && !parentsMismatch && (!a.parent || equalParamsAndUrlSegments(a.parent, b.parent));\n}\nfunction hasStaticTitle(config) {\n  return typeof config.title === 'string' || config.title === null;\n}\n\n/**\n * @description\n *\n * Acts as a placeholder that Angular dynamically fills based on the current router state.\n *\n * Each outlet can have a unique name, determined by the optional `name` attribute.\n * The name cannot be set or changed dynamically. If not set, default value is \"primary\".\n *\n * ```\n * <router-outlet></router-outlet>\n * <router-outlet name='left'></router-outlet>\n * <router-outlet name='right'></router-outlet>\n * ```\n *\n * Named outlets can be the targets of secondary routes.\n * The `Route` object for a secondary route has an `outlet` property to identify the target outlet:\n *\n * `{path: <base-path>, component: <component>, outlet: <target_outlet_name>}`\n *\n * Using named outlets and secondary routes, you can target multiple outlets in\n * the same `RouterLink` directive.\n *\n * The router keeps track of separate branches in a navigation tree for each named outlet and\n * generates a representation of that tree in the URL.\n * The URL for a secondary route uses the following syntax to specify both the primary and secondary\n * routes at the same time:\n *\n * `http://base-path/primary-route-path(outlet-name:route-path)`\n *\n * A router outlet emits an activate event when a new component is instantiated,\n * deactivate event when a component is destroyed.\n * An attached event emits when the `RouteReuseStrategy` instructs the outlet to reattach the\n * subtree, and the detached event emits when the `RouteReuseStrategy` instructs the outlet to\n * detach the subtree.\n *\n * ```\n * <router-outlet\n *   (activate)='onActivate($event)'\n *   (deactivate)='onDeactivate($event)'\n *   (attach)='onAttach($event)'\n *   (detach)='onDetach($event)'></router-outlet>\n * ```\n *\n * @see {@link RouterLink}\n * @see {@link Route}\n * @ngModule RouterModule\n *\n * @publicApi\n */\nlet RouterOutlet = /*#__PURE__*/(() => {\n  class RouterOutlet {\n    constructor() {\n      this.activated = null;\n      this._activatedRoute = null;\n      /**\n       * The name of the outlet\n       *\n       */\n      this.name = PRIMARY_OUTLET;\n      this.activateEvents = new EventEmitter();\n      this.deactivateEvents = new EventEmitter();\n      /**\n       * Emits an attached component instance when the `RouteReuseStrategy` instructs to re-attach a\n       * previously detached subtree.\n       **/\n      this.attachEvents = new EventEmitter();\n      /**\n       * Emits a detached component instance when the `RouteReuseStrategy` instructs to detach the\n       * subtree.\n       */\n      this.detachEvents = new EventEmitter();\n      this.parentContexts = inject(ChildrenOutletContexts);\n      this.location = inject(ViewContainerRef);\n      this.changeDetector = inject(ChangeDetectorRef);\n      this.inputBinder = inject(INPUT_BINDER, {\n        optional: true\n      });\n      /** @nodoc */\n      this.supportsBindingToComponentInputs = true;\n    }\n    /** @internal */\n    get activatedComponentRef() {\n      return this.activated;\n    }\n    /** @nodoc */\n    ngOnChanges(changes) {\n      if (changes['name']) {\n        const {\n          firstChange,\n          previousValue\n        } = changes['name'];\n        if (firstChange) {\n          // The first change is handled by ngOnInit. Because ngOnChanges doesn't get called when no\n          // input is set at all, we need to centrally handle the first change there.\n          return;\n        }\n        // unregister with the old name\n        if (this.isTrackedInParentContexts(previousValue)) {\n          this.deactivate();\n          this.parentContexts.onChildOutletDestroyed(previousValue);\n        }\n        // register the new name\n        this.initializeOutletWithName();\n      }\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      // Ensure that the registered outlet is this one before removing it on the context.\n      if (this.isTrackedInParentContexts(this.name)) {\n        this.parentContexts.onChildOutletDestroyed(this.name);\n      }\n      this.inputBinder?.unsubscribeFromRouteData(this);\n    }\n    isTrackedInParentContexts(outletName) {\n      return this.parentContexts.getContext(outletName)?.outlet === this;\n    }\n    /** @nodoc */\n    ngOnInit() {\n      this.initializeOutletWithName();\n    }\n    initializeOutletWithName() {\n      this.parentContexts.onChildOutletCreated(this.name, this);\n      if (this.activated) {\n        return;\n      }\n      // If the outlet was not instantiated at the time the route got activated we need to populate\n      // the outlet when it is initialized (ie inside a NgIf)\n      const context = this.parentContexts.getContext(this.name);\n      if (context?.route) {\n        if (context.attachRef) {\n          // `attachRef` is populated when there is an existing component to mount\n          this.attach(context.attachRef, context.route);\n        } else {\n          // otherwise the component defined in the configuration is created\n          this.activateWith(context.route, context.injector);\n        }\n      }\n    }\n    get isActivated() {\n      return !!this.activated;\n    }\n    /**\n     * @returns The currently activated component instance.\n     * @throws An error if the outlet is not activated.\n     */\n    get component() {\n      if (!this.activated) throw new ɵRuntimeError(4012 /* RuntimeErrorCode.OUTLET_NOT_ACTIVATED */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n      return this.activated.instance;\n    }\n    get activatedRoute() {\n      if (!this.activated) throw new ɵRuntimeError(4012 /* RuntimeErrorCode.OUTLET_NOT_ACTIVATED */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n      return this._activatedRoute;\n    }\n    get activatedRouteData() {\n      if (this._activatedRoute) {\n        return this._activatedRoute.snapshot.data;\n      }\n      return {};\n    }\n    /**\n     * Called when the `RouteReuseStrategy` instructs to detach the subtree\n     */\n    detach() {\n      if (!this.activated) throw new ɵRuntimeError(4012 /* RuntimeErrorCode.OUTLET_NOT_ACTIVATED */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n      this.location.detach();\n      const cmp = this.activated;\n      this.activated = null;\n      this._activatedRoute = null;\n      this.detachEvents.emit(cmp.instance);\n      return cmp;\n    }\n    /**\n     * Called when the `RouteReuseStrategy` instructs to re-attach a previously detached subtree\n     */\n    attach(ref, activatedRoute) {\n      this.activated = ref;\n      this._activatedRoute = activatedRoute;\n      this.location.insert(ref.hostView);\n      this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n      this.attachEvents.emit(ref.instance);\n    }\n    deactivate() {\n      if (this.activated) {\n        const c = this.component;\n        this.activated.destroy();\n        this.activated = null;\n        this._activatedRoute = null;\n        this.deactivateEvents.emit(c);\n      }\n    }\n    activateWith(activatedRoute, environmentInjector) {\n      if (this.isActivated) {\n        throw new ɵRuntimeError(4013 /* RuntimeErrorCode.OUTLET_ALREADY_ACTIVATED */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Cannot activate an already activated outlet');\n      }\n      this._activatedRoute = activatedRoute;\n      const location = this.location;\n      const snapshot = activatedRoute.snapshot;\n      const component = snapshot.component;\n      const childContexts = this.parentContexts.getOrCreateContext(this.name).children;\n      const injector = new OutletInjector(activatedRoute, childContexts, location.injector);\n      this.activated = location.createComponent(component, {\n        index: location.length,\n        injector,\n        environmentInjector: environmentInjector\n      });\n      // Calling `markForCheck` to make sure we will run the change detection when the\n      // `RouterOutlet` is inside a `ChangeDetectionStrategy.OnPush` component.\n      this.changeDetector.markForCheck();\n      this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n      this.activateEvents.emit(this.activated.instance);\n    }\n    static {\n      this.ɵfac = function RouterOutlet_Factory(t) {\n        return new (t || RouterOutlet)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: RouterOutlet,\n        selectors: [[\"router-outlet\"]],\n        inputs: {\n          name: \"name\"\n        },\n        outputs: {\n          activateEvents: \"activate\",\n          deactivateEvents: \"deactivate\",\n          attachEvents: \"attach\",\n          detachEvents: \"detach\"\n        },\n        exportAs: [\"outlet\"],\n        standalone: true,\n        features: [i0.ɵɵNgOnChangesFeature]\n      });\n    }\n  }\n  return RouterOutlet;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass OutletInjector {\n  /**\n   * This injector has a special handing for the `ActivatedRoute` and\n   * `ChildrenOutletContexts` tokens: it returns corresponding values for those\n   * tokens dynamically. This behavior is different from the regular injector logic,\n   * when we initialize and store a value, which is later returned for all inject\n   * requests.\n   *\n   * In some cases (e.g. when using `@defer`), this dynamic behavior requires special\n   * handling. This function allows to identify an instance of the `OutletInjector` and\n   * create an instance of it without referring to the class itself (so this logic can\n   * be invoked from the `core` package). This helps to retain dynamic behavior for the\n   * mentioned tokens.\n   *\n   * Note: it's a temporary solution and we should explore how to support this case better.\n   */\n  __ngOutletInjector(parentInjector) {\n    return new OutletInjector(this.route, this.childContexts, parentInjector);\n  }\n  constructor(route, childContexts, parent) {\n    this.route = route;\n    this.childContexts = childContexts;\n    this.parent = parent;\n  }\n  get(token, notFoundValue) {\n    if (token === ActivatedRoute) {\n      return this.route;\n    }\n    if (token === ChildrenOutletContexts) {\n      return this.childContexts;\n    }\n    return this.parent.get(token, notFoundValue);\n  }\n}\nconst INPUT_BINDER = /*#__PURE__*/new InjectionToken('');\n/**\n * Injectable used as a tree-shakable provider for opting in to binding router data to component\n * inputs.\n *\n * The RouterOutlet registers itself with this service when an `ActivatedRoute` is attached or\n * activated. When this happens, the service subscribes to the `ActivatedRoute` observables (params,\n * queryParams, data) and sets the inputs of the component using `ComponentRef.setInput`.\n * Importantly, when an input does not have an item in the route data with a matching key, this\n * input is set to `undefined`. If it were not done this way, the previous information would be\n * retained if the data got removed from the route (i.e. if a query parameter is removed).\n *\n * The `RouterOutlet` should unregister itself when destroyed via `unsubscribeFromRouteData` so that\n * the subscriptions are cleaned up.\n */\nlet RoutedComponentInputBinder = /*#__PURE__*/(() => {\n  class RoutedComponentInputBinder {\n    constructor() {\n      this.outletDataSubscriptions = new Map();\n    }\n    bindActivatedRouteToOutletComponent(outlet) {\n      this.unsubscribeFromRouteData(outlet);\n      this.subscribeToRouteData(outlet);\n    }\n    unsubscribeFromRouteData(outlet) {\n      this.outletDataSubscriptions.get(outlet)?.unsubscribe();\n      this.outletDataSubscriptions.delete(outlet);\n    }\n    subscribeToRouteData(outlet) {\n      const {\n        activatedRoute\n      } = outlet;\n      const dataSubscription = combineLatest([activatedRoute.queryParams, activatedRoute.params, activatedRoute.data]).pipe(switchMap(([queryParams, params, data], index) => {\n        data = {\n          ...queryParams,\n          ...params,\n          ...data\n        };\n        // Get the first result from the data subscription synchronously so it's available to\n        // the component as soon as possible (and doesn't require a second change detection).\n        if (index === 0) {\n          return of(data);\n        }\n        // Promise.resolve is used to avoid synchronously writing the wrong data when\n        // two of the Observables in the `combineLatest` stream emit one after\n        // another.\n        return Promise.resolve(data);\n      })).subscribe(data => {\n        // Outlet may have been deactivated or changed names to be associated with a different\n        // route\n        if (!outlet.isActivated || !outlet.activatedComponentRef || outlet.activatedRoute !== activatedRoute || activatedRoute.component === null) {\n          this.unsubscribeFromRouteData(outlet);\n          return;\n        }\n        const mirror = reflectComponentType(activatedRoute.component);\n        if (!mirror) {\n          this.unsubscribeFromRouteData(outlet);\n          return;\n        }\n        for (const {\n          templateName\n        } of mirror.inputs) {\n          outlet.activatedComponentRef.setInput(templateName, data[templateName]);\n        }\n      });\n      this.outletDataSubscriptions.set(outlet, dataSubscription);\n    }\n    static {\n      this.ɵfac = function RoutedComponentInputBinder_Factory(t) {\n        return new (t || RoutedComponentInputBinder)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RoutedComponentInputBinder,\n        factory: RoutedComponentInputBinder.ɵfac\n      });\n    }\n  }\n  return RoutedComponentInputBinder;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction createRouterState(routeReuseStrategy, curr, prevState) {\n  const root = createNode(routeReuseStrategy, curr._root, prevState ? prevState._root : undefined);\n  return new RouterState(root, curr);\n}\nfunction createNode(routeReuseStrategy, curr, prevState) {\n  // reuse an activated route that is currently displayed on the screen\n  if (prevState && routeReuseStrategy.shouldReuseRoute(curr.value, prevState.value.snapshot)) {\n    const value = prevState.value;\n    value._futureSnapshot = curr.value;\n    const children = createOrReuseChildren(routeReuseStrategy, curr, prevState);\n    return new TreeNode(value, children);\n  } else {\n    if (routeReuseStrategy.shouldAttach(curr.value)) {\n      // retrieve an activated route that is used to be displayed, but is not currently displayed\n      const detachedRouteHandle = routeReuseStrategy.retrieve(curr.value);\n      if (detachedRouteHandle !== null) {\n        const tree = detachedRouteHandle.route;\n        tree.value._futureSnapshot = curr.value;\n        tree.children = curr.children.map(c => createNode(routeReuseStrategy, c));\n        return tree;\n      }\n    }\n    const value = createActivatedRoute(curr.value);\n    const children = curr.children.map(c => createNode(routeReuseStrategy, c));\n    return new TreeNode(value, children);\n  }\n}\nfunction createOrReuseChildren(routeReuseStrategy, curr, prevState) {\n  return curr.children.map(child => {\n    for (const p of prevState.children) {\n      if (routeReuseStrategy.shouldReuseRoute(child.value, p.value.snapshot)) {\n        return createNode(routeReuseStrategy, child, p);\n      }\n    }\n    return createNode(routeReuseStrategy, child);\n  });\n}\nfunction createActivatedRoute(c) {\n  return new ActivatedRoute(new BehaviorSubject(c.url), new BehaviorSubject(c.params), new BehaviorSubject(c.queryParams), new BehaviorSubject(c.fragment), new BehaviorSubject(c.data), c.outlet, c.component, c);\n}\n\n/**\n * Can be returned by a `Router` guard to instruct the `Router` to redirect rather than continue\n * processing the path of the in-flight navigation. The `redirectTo` indicates _where_ the new\n * navigation should go to and the optional `navigationBehaviorOptions` can provide more information\n * about _how_ to perform the navigation.\n *\n * ```ts\n * const route: Route = {\n *   path: \"user/:userId\",\n *   component: User,\n *   canActivate: [\n *     () => {\n *       const router = inject(Router);\n *       const authService = inject(AuthenticationService);\n *\n *       if (!authService.isLoggedIn()) {\n *         const loginPath = router.parseUrl(\"/login\");\n *         return new RedirectCommand(loginPath, {\n *           skipLocationChange: \"true\",\n *         });\n *       }\n *\n *       return true;\n *     },\n *   ],\n * };\n * ```\n * @see [Routing guide](guide/routing/common-router-tasks#preventing-unauthorized-access)\n *\n * @publicApi\n */\nclass RedirectCommand {\n  constructor(redirectTo, navigationBehaviorOptions) {\n    this.redirectTo = redirectTo;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nconst NAVIGATION_CANCELING_ERROR = 'ngNavigationCancelingError';\nfunction redirectingNavigationError(urlSerializer, redirect) {\n  const {\n    redirectTo,\n    navigationBehaviorOptions\n  } = isUrlTree(redirect) ? {\n    redirectTo: redirect,\n    navigationBehaviorOptions: undefined\n  } : redirect;\n  const error = navigationCancelingError(ngDevMode && `Redirecting to \"${urlSerializer.serialize(redirectTo)}\"`, NavigationCancellationCode.Redirect);\n  error.url = redirectTo;\n  error.navigationBehaviorOptions = navigationBehaviorOptions;\n  return error;\n}\nfunction navigationCancelingError(message, code) {\n  const error = new Error(`NavigationCancelingError: ${message || ''}`);\n  error[NAVIGATION_CANCELING_ERROR] = true;\n  error.cancellationCode = code;\n  return error;\n}\nfunction isRedirectingNavigationCancelingError(error) {\n  return isNavigationCancelingError(error) && isUrlTree(error.url);\n}\nfunction isNavigationCancelingError(error) {\n  return !!error && error[NAVIGATION_CANCELING_ERROR];\n}\nlet warnedAboutUnsupportedInputBinding = false;\nconst activateRoutes = (rootContexts, routeReuseStrategy, forwardEvent, inputBindingEnabled) => map(t => {\n  new ActivateRoutes(routeReuseStrategy, t.targetRouterState, t.currentRouterState, forwardEvent, inputBindingEnabled).activate(rootContexts);\n  return t;\n});\nclass ActivateRoutes {\n  constructor(routeReuseStrategy, futureState, currState, forwardEvent, inputBindingEnabled) {\n    this.routeReuseStrategy = routeReuseStrategy;\n    this.futureState = futureState;\n    this.currState = currState;\n    this.forwardEvent = forwardEvent;\n    this.inputBindingEnabled = inputBindingEnabled;\n  }\n  activate(parentContexts) {\n    const futureRoot = this.futureState._root;\n    const currRoot = this.currState ? this.currState._root : null;\n    this.deactivateChildRoutes(futureRoot, currRoot, parentContexts);\n    advanceActivatedRoute(this.futureState.root);\n    this.activateChildRoutes(futureRoot, currRoot, parentContexts);\n  }\n  // De-activate the child route that are not re-used for the future state\n  deactivateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    // Recurse on the routes active in the future state to de-activate deeper children\n    futureNode.children.forEach(futureChild => {\n      const childOutletName = futureChild.value.outlet;\n      this.deactivateRoutes(futureChild, children[childOutletName], contexts);\n      delete children[childOutletName];\n    });\n    // De-activate the routes that will not be re-used\n    Object.values(children).forEach(v => {\n      this.deactivateRouteAndItsChildren(v, contexts);\n    });\n  }\n  deactivateRoutes(futureNode, currNode, parentContext) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    if (future === curr) {\n      // Reusing the node, check to see if the children need to be de-activated\n      if (future.component) {\n        // If we have a normal route, we need to go through an outlet.\n        const context = parentContext.getContext(future.outlet);\n        if (context) {\n          this.deactivateChildRoutes(futureNode, currNode, context.children);\n        }\n      } else {\n        // if we have a componentless route, we recurse but keep the same outlet map.\n        this.deactivateChildRoutes(futureNode, currNode, parentContext);\n      }\n    } else {\n      if (curr) {\n        // Deactivate the current route which will not be re-used\n        this.deactivateRouteAndItsChildren(currNode, parentContext);\n      }\n    }\n  }\n  deactivateRouteAndItsChildren(route, parentContexts) {\n    // If there is no component, the Route is never attached to an outlet (because there is no\n    // component to attach).\n    if (route.value.component && this.routeReuseStrategy.shouldDetach(route.value.snapshot)) {\n      this.detachAndStoreRouteSubtree(route, parentContexts);\n    } else {\n      this.deactivateRouteAndOutlet(route, parentContexts);\n    }\n  }\n  detachAndStoreRouteSubtree(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context && context.outlet) {\n      const componentRef = context.outlet.detach();\n      const contexts = context.children.onOutletDeactivated();\n      this.routeReuseStrategy.store(route.value.snapshot, {\n        componentRef,\n        route,\n        contexts\n      });\n    }\n  }\n  deactivateRouteAndOutlet(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    // The context could be `null` if we are on a componentless route but there may still be\n    // children that need deactivating.\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context) {\n      if (context.outlet) {\n        // Destroy the component\n        context.outlet.deactivate();\n        // Destroy the contexts for all the outlets that were in the component\n        context.children.onOutletDeactivated();\n      }\n      // Clear the information about the attached component on the context but keep the reference to\n      // the outlet. Clear even if outlet was not yet activated to avoid activating later with old\n      // info\n      context.attachRef = null;\n      context.route = null;\n    }\n  }\n  activateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(c => {\n      this.activateRoutes(c, children[c.value.outlet], contexts);\n      this.forwardEvent(new ActivationEnd(c.value.snapshot));\n    });\n    if (futureNode.children.length) {\n      this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot));\n    }\n  }\n  activateRoutes(futureNode, currNode, parentContexts) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    advanceActivatedRoute(future);\n    // reusing the node\n    if (future === curr) {\n      if (future.component) {\n        // If we have a normal route, we need to go through an outlet.\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        this.activateChildRoutes(futureNode, currNode, context.children);\n      } else {\n        // if we have a componentless route, we recurse but keep the same outlet map.\n        this.activateChildRoutes(futureNode, currNode, parentContexts);\n      }\n    } else {\n      if (future.component) {\n        // if we have a normal route, we need to place the component into the outlet and recurse.\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        if (this.routeReuseStrategy.shouldAttach(future.snapshot)) {\n          const stored = this.routeReuseStrategy.retrieve(future.snapshot);\n          this.routeReuseStrategy.store(future.snapshot, null);\n          context.children.onOutletReAttached(stored.contexts);\n          context.attachRef = stored.componentRef;\n          context.route = stored.route.value;\n          if (context.outlet) {\n            // Attach right away when the outlet has already been instantiated\n            // Otherwise attach from `RouterOutlet.ngOnInit` when it is instantiated\n            context.outlet.attach(stored.componentRef, stored.route.value);\n          }\n          advanceActivatedRoute(stored.route.value);\n          this.activateChildRoutes(futureNode, null, context.children);\n        } else {\n          context.attachRef = null;\n          context.route = future;\n          if (context.outlet) {\n            // Activate the outlet when it has already been instantiated\n            // Otherwise it will get activated from its `ngOnInit` when instantiated\n            context.outlet.activateWith(future, context.injector);\n          }\n          this.activateChildRoutes(futureNode, null, context.children);\n        }\n      } else {\n        // if we have a componentless route, we recurse but keep the same outlet map.\n        this.activateChildRoutes(futureNode, null, parentContexts);\n      }\n    }\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      const context = parentContexts.getOrCreateContext(future.outlet);\n      const outlet = context.outlet;\n      if (outlet && this.inputBindingEnabled && !outlet.supportsBindingToComponentInputs && !warnedAboutUnsupportedInputBinding) {\n        console.warn(`'withComponentInputBinding' feature is enabled but ` + `this application is using an outlet that may not support binding to component inputs.`);\n        warnedAboutUnsupportedInputBinding = true;\n      }\n    }\n  }\n}\nclass CanActivate {\n  constructor(path) {\n    this.path = path;\n    this.route = this.path[this.path.length - 1];\n  }\n}\nclass CanDeactivate {\n  constructor(component, route) {\n    this.component = component;\n    this.route = route;\n  }\n}\nfunction getAllRouteGuards(future, curr, parentContexts) {\n  const futureRoot = future._root;\n  const currRoot = curr ? curr._root : null;\n  return getChildRouteGuards(futureRoot, currRoot, parentContexts, [futureRoot.value]);\n}\nfunction getCanActivateChild(p) {\n  const canActivateChild = p.routeConfig ? p.routeConfig.canActivateChild : null;\n  if (!canActivateChild || canActivateChild.length === 0) return null;\n  return {\n    node: p,\n    guards: canActivateChild\n  };\n}\nfunction getTokenOrFunctionIdentity(tokenOrFunction, injector) {\n  const NOT_FOUND = Symbol();\n  const result = injector.get(tokenOrFunction, NOT_FOUND);\n  if (result === NOT_FOUND) {\n    if (typeof tokenOrFunction === 'function' && !ɵisInjectable(tokenOrFunction)) {\n      // We think the token is just a function so return it as-is\n      return tokenOrFunction;\n    } else {\n      // This will throw the not found error\n      return injector.get(tokenOrFunction);\n    }\n  }\n  return result;\n}\nfunction getChildRouteGuards(futureNode, currNode, contexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const prevChildren = nodeChildrenAsMap(currNode);\n  // Process the children of the future route\n  futureNode.children.forEach(c => {\n    getRouteGuards(c, prevChildren[c.value.outlet], contexts, futurePath.concat([c.value]), checks);\n    delete prevChildren[c.value.outlet];\n  });\n  // Process any children left from the current route (not active for the future route)\n  Object.entries(prevChildren).forEach(([k, v]) => deactivateRouteAndItsChildren(v, contexts.getContext(k), checks));\n  return checks;\n}\nfunction getRouteGuards(futureNode, currNode, parentContexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const future = futureNode.value;\n  const curr = currNode ? currNode.value : null;\n  const context = parentContexts ? parentContexts.getContext(futureNode.value.outlet) : null;\n  // reusing the node\n  if (curr && future.routeConfig === curr.routeConfig) {\n    const shouldRun = shouldRunGuardsAndResolvers(curr, future, future.routeConfig.runGuardsAndResolvers);\n    if (shouldRun) {\n      checks.canActivateChecks.push(new CanActivate(futurePath));\n    } else {\n      // we need to set the data\n      future.data = curr.data;\n      future._resolvedData = curr._resolvedData;\n    }\n    // If we have a component, we need to go through an outlet.\n    if (future.component) {\n      getChildRouteGuards(futureNode, currNode, context ? context.children : null, futurePath, checks);\n      // if we have a componentless route, we recurse but keep the same outlet map.\n    } else {\n      getChildRouteGuards(futureNode, currNode, parentContexts, futurePath, checks);\n    }\n    if (shouldRun && context && context.outlet && context.outlet.isActivated) {\n      checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, curr));\n    }\n  } else {\n    if (curr) {\n      deactivateRouteAndItsChildren(currNode, context, checks);\n    }\n    checks.canActivateChecks.push(new CanActivate(futurePath));\n    // If we have a component, we need to go through an outlet.\n    if (future.component) {\n      getChildRouteGuards(futureNode, null, context ? context.children : null, futurePath, checks);\n      // if we have a componentless route, we recurse but keep the same outlet map.\n    } else {\n      getChildRouteGuards(futureNode, null, parentContexts, futurePath, checks);\n    }\n  }\n  return checks;\n}\nfunction shouldRunGuardsAndResolvers(curr, future, mode) {\n  if (typeof mode === 'function') {\n    return mode(curr, future);\n  }\n  switch (mode) {\n    case 'pathParamsChange':\n      return !equalPath(curr.url, future.url);\n    case 'pathParamsOrQueryParamsChange':\n      return !equalPath(curr.url, future.url) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'always':\n      return true;\n    case 'paramsOrQueryParamsChange':\n      return !equalParamsAndUrlSegments(curr, future) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'paramsChange':\n    default:\n      return !equalParamsAndUrlSegments(curr, future);\n  }\n}\nfunction deactivateRouteAndItsChildren(route, context, checks) {\n  const children = nodeChildrenAsMap(route);\n  const r = route.value;\n  Object.entries(children).forEach(([childName, node]) => {\n    if (!r.component) {\n      deactivateRouteAndItsChildren(node, context, checks);\n    } else if (context) {\n      deactivateRouteAndItsChildren(node, context.children.getContext(childName), checks);\n    } else {\n      deactivateRouteAndItsChildren(node, null, checks);\n    }\n  });\n  if (!r.component) {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  } else if (context && context.outlet && context.outlet.isActivated) {\n    checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, r));\n  } else {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  }\n}\n\n/**\n * Simple function check, but generic so type inference will flow. Example:\n *\n * function product(a: number, b: number) {\n *   return a * b;\n * }\n *\n * if (isFunction<product>(fn)) {\n *   return fn(1, 2);\n * } else {\n *   throw \"Must provide the `product` function\";\n * }\n */\nfunction isFunction(v) {\n  return typeof v === 'function';\n}\nfunction isBoolean(v) {\n  return typeof v === 'boolean';\n}\nfunction isCanLoad(guard) {\n  return guard && isFunction(guard.canLoad);\n}\nfunction isCanActivate(guard) {\n  return guard && isFunction(guard.canActivate);\n}\nfunction isCanActivateChild(guard) {\n  return guard && isFunction(guard.canActivateChild);\n}\nfunction isCanDeactivate(guard) {\n  return guard && isFunction(guard.canDeactivate);\n}\nfunction isCanMatch(guard) {\n  return guard && isFunction(guard.canMatch);\n}\nfunction isEmptyError(e) {\n  return e instanceof EmptyError || e?.name === 'EmptyError';\n}\nconst INITIAL_VALUE = /* @__PURE__ */Symbol('INITIAL_VALUE');\nfunction prioritizedGuardValue() {\n  return switchMap(obs => {\n    return combineLatest(obs.map(o => o.pipe(take(1), startWith(INITIAL_VALUE)))).pipe(map(results => {\n      for (const result of results) {\n        if (result === true) {\n          // If result is true, check the next one\n          continue;\n        } else if (result === INITIAL_VALUE) {\n          // If guard has not finished, we need to stop processing.\n          return INITIAL_VALUE;\n        } else if (result === false || isRedirect(result)) {\n          // Result finished and was not true. Return the result.\n          // Note that we only allow false/UrlTree/RedirectCommand. Other values are considered invalid and\n          // ignored.\n          return result;\n        }\n      }\n      // Everything resolved to true. Return true.\n      return true;\n    }), filter(item => item !== INITIAL_VALUE), take(1));\n  });\n}\nfunction isRedirect(val) {\n  return isUrlTree(val) || val instanceof RedirectCommand;\n}\nfunction checkGuards(injector, forwardEvent) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      currentSnapshot,\n      guards: {\n        canActivateChecks,\n        canDeactivateChecks\n      }\n    } = t;\n    if (canDeactivateChecks.length === 0 && canActivateChecks.length === 0) {\n      return of({\n        ...t,\n        guardsResult: true\n      });\n    }\n    return runCanDeactivateChecks(canDeactivateChecks, targetSnapshot, currentSnapshot, injector).pipe(mergeMap(canDeactivate => {\n      return canDeactivate && isBoolean(canDeactivate) ? runCanActivateChecks(targetSnapshot, canActivateChecks, injector, forwardEvent) : of(canDeactivate);\n    }), map(guardsResult => ({\n      ...t,\n      guardsResult\n    })));\n  });\n}\nfunction runCanDeactivateChecks(checks, futureRSS, currRSS, injector) {\n  return from(checks).pipe(mergeMap(check => runCanDeactivate(check.component, check.route, currRSS, futureRSS, injector)), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction runCanActivateChecks(futureSnapshot, checks, injector, forwardEvent) {\n  return from(checks).pipe(concatMap(check => {\n    return concat(fireChildActivationStart(check.route.parent, forwardEvent), fireActivationStart(check.route, forwardEvent), runCanActivateChild(futureSnapshot, check.path, injector), runCanActivate(futureSnapshot, check.route, injector));\n  }), first(result => {\n    return result !== true;\n  }, true));\n}\n/**\n * This should fire off `ActivationStart` events for each route being activated at this\n * level.\n * In other words, if you're activating `a` and `b` below, `path` will contain the\n * `ActivatedRouteSnapshot`s for both and we will fire `ActivationStart` for both. Always\n * return\n * `true` so checks continue to run.\n */\nfunction fireActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ActivationStart(snapshot));\n  }\n  return of(true);\n}\n/**\n * This should fire off `ChildActivationStart` events for each route being activated at this\n * level.\n * In other words, if you're activating `a` and `b` below, `path` will contain the\n * `ActivatedRouteSnapshot`s for both and we will fire `ChildActivationStart` for both. Always\n * return\n * `true` so checks continue to run.\n */\nfunction fireChildActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ChildActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction runCanActivate(futureRSS, futureARS, injector) {\n  const canActivate = futureARS.routeConfig ? futureARS.routeConfig.canActivate : null;\n  if (!canActivate || canActivate.length === 0) return of(true);\n  const canActivateObservables = canActivate.map(canActivate => {\n    return defer(() => {\n      const closestInjector = getClosestRouteInjector(futureARS) ?? injector;\n      const guard = getTokenOrFunctionIdentity(canActivate, closestInjector);\n      const guardVal = isCanActivate(guard) ? guard.canActivate(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n      return wrapIntoObservable(guardVal).pipe(first());\n    });\n  });\n  return of(canActivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanActivateChild(futureRSS, path, injector) {\n  const futureARS = path[path.length - 1];\n  const canActivateChildGuards = path.slice(0, path.length - 1).reverse().map(p => getCanActivateChild(p)).filter(_ => _ !== null);\n  const canActivateChildGuardsMapped = canActivateChildGuards.map(d => {\n    return defer(() => {\n      const guardsMapped = d.guards.map(canActivateChild => {\n        const closestInjector = getClosestRouteInjector(d.node) ?? injector;\n        const guard = getTokenOrFunctionIdentity(canActivateChild, closestInjector);\n        const guardVal = isCanActivateChild(guard) ? guard.canActivateChild(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n        return wrapIntoObservable(guardVal).pipe(first());\n      });\n      return of(guardsMapped).pipe(prioritizedGuardValue());\n    });\n  });\n  return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue());\n}\nfunction runCanDeactivate(component, currARS, currRSS, futureRSS, injector) {\n  const canDeactivate = currARS && currARS.routeConfig ? currARS.routeConfig.canDeactivate : null;\n  if (!canDeactivate || canDeactivate.length === 0) return of(true);\n  const canDeactivateObservables = canDeactivate.map(c => {\n    const closestInjector = getClosestRouteInjector(currARS) ?? injector;\n    const guard = getTokenOrFunctionIdentity(c, closestInjector);\n    const guardVal = isCanDeactivate(guard) ? guard.canDeactivate(component, currARS, currRSS, futureRSS) : runInInjectionContext(closestInjector, () => guard(component, currARS, currRSS, futureRSS));\n    return wrapIntoObservable(guardVal).pipe(first());\n  });\n  return of(canDeactivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanLoadGuards(injector, route, segments, urlSerializer) {\n  const canLoad = route.canLoad;\n  if (canLoad === undefined || canLoad.length === 0) {\n    return of(true);\n  }\n  const canLoadObservables = canLoad.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanLoad(guard) ? guard.canLoad(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    return wrapIntoObservable(guardVal);\n  });\n  return of(canLoadObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nfunction redirectIfUrlTree(urlSerializer) {\n  return pipe(tap(result => {\n    if (typeof result === 'boolean') return;\n    throw redirectingNavigationError(urlSerializer, result);\n  }), map(result => result === true));\n}\nfunction runCanMatchGuards(injector, route, segments, urlSerializer) {\n  const canMatch = route.canMatch;\n  if (!canMatch || canMatch.length === 0) return of(true);\n  const canMatchObservables = canMatch.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanMatch(guard) ? guard.canMatch(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    return wrapIntoObservable(guardVal);\n  });\n  return of(canMatchObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nclass NoMatch {\n  constructor(segmentGroup) {\n    this.segmentGroup = segmentGroup || null;\n  }\n}\nclass AbsoluteRedirect extends Error {\n  constructor(urlTree) {\n    super();\n    this.urlTree = urlTree;\n  }\n}\nfunction noMatch$1(segmentGroup) {\n  return throwError(new NoMatch(segmentGroup));\n}\nfunction absoluteRedirect(newTree) {\n  return throwError(new AbsoluteRedirect(newTree));\n}\nfunction namedOutletsRedirect(redirectTo) {\n  return throwError(new ɵRuntimeError(4000 /* RuntimeErrorCode.NAMED_OUTLET_REDIRECT */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`));\n}\nfunction canLoadFails(route) {\n  return throwError(navigationCancelingError((typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`, NavigationCancellationCode.GuardRejected));\n}\nclass ApplyRedirects {\n  constructor(urlSerializer, urlTree) {\n    this.urlSerializer = urlSerializer;\n    this.urlTree = urlTree;\n  }\n  lineralizeSegments(route, urlTree) {\n    let res = [];\n    let c = urlTree.root;\n    while (true) {\n      res = res.concat(c.segments);\n      if (c.numberOfChildren === 0) {\n        return of(res);\n      }\n      if (c.numberOfChildren > 1 || !c.children[PRIMARY_OUTLET]) {\n        return namedOutletsRedirect(`${route.redirectTo}`);\n      }\n      c = c.children[PRIMARY_OUTLET];\n    }\n  }\n  applyRedirectCommands(segments, redirectTo, posParams, currentSnapshot, injector) {\n    if (typeof redirectTo !== 'string') {\n      const redirectToFn = redirectTo;\n      const {\n        queryParams,\n        fragment,\n        routeConfig,\n        url,\n        outlet,\n        params,\n        data,\n        title\n      } = currentSnapshot;\n      const newRedirect = runInInjectionContext(injector, () => redirectToFn({\n        params,\n        data,\n        queryParams,\n        fragment,\n        routeConfig,\n        url,\n        outlet,\n        title\n      }));\n      if (newRedirect instanceof UrlTree) {\n        throw new AbsoluteRedirect(newRedirect);\n      }\n      redirectTo = newRedirect;\n    }\n    const newTree = this.applyRedirectCreateUrlTree(redirectTo, this.urlSerializer.parse(redirectTo), segments, posParams);\n    if (redirectTo[0] === '/') {\n      throw new AbsoluteRedirect(newTree);\n    }\n    return newTree;\n  }\n  applyRedirectCreateUrlTree(redirectTo, urlTree, segments, posParams) {\n    const newRoot = this.createSegmentGroup(redirectTo, urlTree.root, segments, posParams);\n    return new UrlTree(newRoot, this.createQueryParams(urlTree.queryParams, this.urlTree.queryParams), urlTree.fragment);\n  }\n  createQueryParams(redirectToParams, actualParams) {\n    const res = {};\n    Object.entries(redirectToParams).forEach(([k, v]) => {\n      const copySourceValue = typeof v === 'string' && v[0] === ':';\n      if (copySourceValue) {\n        const sourceName = v.substring(1);\n        res[k] = actualParams[sourceName];\n      } else {\n        res[k] = v;\n      }\n    });\n    return res;\n  }\n  createSegmentGroup(redirectTo, group, segments, posParams) {\n    const updatedSegments = this.createSegments(redirectTo, group.segments, segments, posParams);\n    let children = {};\n    Object.entries(group.children).forEach(([name, child]) => {\n      children[name] = this.createSegmentGroup(redirectTo, child, segments, posParams);\n    });\n    return new UrlSegmentGroup(updatedSegments, children);\n  }\n  createSegments(redirectTo, redirectToSegments, actualSegments, posParams) {\n    return redirectToSegments.map(s => s.path[0] === ':' ? this.findPosParam(redirectTo, s, posParams) : this.findOrReturn(s, actualSegments));\n  }\n  findPosParam(redirectTo, redirectToUrlSegment, posParams) {\n    const pos = posParams[redirectToUrlSegment.path.substring(1)];\n    if (!pos) throw new ɵRuntimeError(4001 /* RuntimeErrorCode.MISSING_REDIRECT */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);\n    return pos;\n  }\n  findOrReturn(redirectToUrlSegment, actualSegments) {\n    let idx = 0;\n    for (const s of actualSegments) {\n      if (s.path === redirectToUrlSegment.path) {\n        actualSegments.splice(idx);\n        return s;\n      }\n      idx++;\n    }\n    return redirectToUrlSegment;\n  }\n}\nconst noMatch = {\n  matched: false,\n  consumedSegments: [],\n  remainingSegments: [],\n  parameters: {},\n  positionalParamSegments: {}\n};\nfunction matchWithChecks(segmentGroup, route, segments, injector, urlSerializer) {\n  const result = match(segmentGroup, route, segments);\n  if (!result.matched) {\n    return of(result);\n  }\n  // Only create the Route's `EnvironmentInjector` if it matches the attempted\n  // navigation\n  injector = getOrCreateRouteInjectorIfNeeded(route, injector);\n  return runCanMatchGuards(injector, route, segments, urlSerializer).pipe(map(v => v === true ? result : {\n    ...noMatch\n  }));\n}\nfunction match(segmentGroup, route, segments) {\n  if (route.path === '**') {\n    return createWildcardMatchResult(segments);\n  }\n  if (route.path === '') {\n    if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || segments.length > 0)) {\n      return {\n        ...noMatch\n      };\n    }\n    return {\n      matched: true,\n      consumedSegments: [],\n      remainingSegments: segments,\n      parameters: {},\n      positionalParamSegments: {}\n    };\n  }\n  const matcher = route.matcher || defaultUrlMatcher;\n  const res = matcher(segments, segmentGroup, route);\n  if (!res) return {\n    ...noMatch\n  };\n  const posParams = {};\n  Object.entries(res.posParams ?? {}).forEach(([k, v]) => {\n    posParams[k] = v.path;\n  });\n  const parameters = res.consumed.length > 0 ? {\n    ...posParams,\n    ...res.consumed[res.consumed.length - 1].parameters\n  } : posParams;\n  return {\n    matched: true,\n    consumedSegments: res.consumed,\n    remainingSegments: segments.slice(res.consumed.length),\n    // TODO(atscott): investigate combining parameters and positionalParamSegments\n    parameters,\n    positionalParamSegments: res.posParams ?? {}\n  };\n}\nfunction createWildcardMatchResult(segments) {\n  return {\n    matched: true,\n    parameters: segments.length > 0 ? last(segments).parameters : {},\n    consumedSegments: segments,\n    remainingSegments: [],\n    positionalParamSegments: {}\n  };\n}\nfunction split(segmentGroup, consumedSegments, slicedSegments, config) {\n  if (slicedSegments.length > 0 && containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(consumedSegments, createChildrenForEmptyPaths(config, new UrlSegmentGroup(slicedSegments, segmentGroup.children)));\n    return {\n      segmentGroup: s,\n      slicedSegments: []\n    };\n  }\n  if (slicedSegments.length === 0 && containsEmptyPathMatches(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(segmentGroup.segments, addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, config, segmentGroup.children));\n    return {\n      segmentGroup: s,\n      slicedSegments\n    };\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, segmentGroup.children);\n  return {\n    segmentGroup: s,\n    slicedSegments\n  };\n}\nfunction addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, routes, children) {\n  const res = {};\n  for (const r of routes) {\n    if (emptyPathMatch(segmentGroup, slicedSegments, r) && !children[getOutlet(r)]) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return {\n    ...children,\n    ...res\n  };\n}\nfunction createChildrenForEmptyPaths(routes, primarySegment) {\n  const res = {};\n  res[PRIMARY_OUTLET] = primarySegment;\n  for (const r of routes) {\n    if (r.path === '' && getOutlet(r) !== PRIMARY_OUTLET) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return res;\n}\nfunction containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r) && getOutlet(r) !== PRIMARY_OUTLET);\n}\nfunction containsEmptyPathMatches(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r));\n}\nfunction emptyPathMatch(segmentGroup, slicedSegments, r) {\n  if ((segmentGroup.hasChildren() || slicedSegments.length > 0) && r.pathMatch === 'full') {\n    return false;\n  }\n  return r.path === '';\n}\n/**\n * Determines if `route` is a path match for the `rawSegment`, `segments`, and `outlet` without\n * verifying that its children are a full match for the remainder of the `rawSegment` children as\n * well.\n */\nfunction isImmediateMatch(route, rawSegment, segments, outlet) {\n  // We allow matches to empty paths when the outlets differ so we can match a url like `/(b:b)` to\n  // a config like\n  // * `{path: '', children: [{path: 'b', outlet: 'b'}]}`\n  // or even\n  // * `{path: '', outlet: 'a', children: [{path: 'b', outlet: 'b'}]`\n  //\n  // The exception here is when the segment outlet is for the primary outlet. This would\n  // result in a match inside the named outlet because all children there are written as primary\n  // outlets. So we need to prevent child named outlet matches in a url like `/b` in a config like\n  // * `{path: '', outlet: 'x' children: [{path: 'b'}]}`\n  // This should only match if the url is `/(x:b)`.\n  if (getOutlet(route) !== outlet && (outlet === PRIMARY_OUTLET || !emptyPathMatch(rawSegment, segments, route))) {\n    return false;\n  }\n  return match(rawSegment, route, segments).matched;\n}\nfunction noLeftoversInUrl(segmentGroup, segments, outlet) {\n  return segments.length === 0 && !segmentGroup.children[outlet];\n}\n\n/**\n * Class used to indicate there were no additional route config matches but that all segments of\n * the URL were consumed during matching so the route was URL matched. When this happens, we still\n * try to match child configs in case there are empty path children.\n */\nclass NoLeftoversInUrl {}\nfunction recognize$1(injector, configLoader, rootComponentType, config, urlTree, urlSerializer, paramsInheritanceStrategy = 'emptyOnly') {\n  return new Recognizer(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer).recognize();\n}\nconst MAX_ALLOWED_REDIRECTS = 31;\nclass Recognizer {\n  constructor(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer) {\n    this.injector = injector;\n    this.configLoader = configLoader;\n    this.rootComponentType = rootComponentType;\n    this.config = config;\n    this.urlTree = urlTree;\n    this.paramsInheritanceStrategy = paramsInheritanceStrategy;\n    this.urlSerializer = urlSerializer;\n    this.applyRedirects = new ApplyRedirects(this.urlSerializer, this.urlTree);\n    this.absoluteRedirectCount = 0;\n    this.allowRedirects = true;\n  }\n  noMatchError(e) {\n    return new ɵRuntimeError(4002 /* RuntimeErrorCode.NO_MATCH */, typeof ngDevMode === 'undefined' || ngDevMode ? `Cannot match any routes. URL Segment: '${e.segmentGroup}'` : `'${e.segmentGroup}'`);\n  }\n  recognize() {\n    const rootSegmentGroup = split(this.urlTree.root, [], [], this.config).segmentGroup;\n    return this.match(rootSegmentGroup).pipe(map(({\n      children,\n      rootSnapshot\n    }) => {\n      const rootNode = new TreeNode(rootSnapshot, children);\n      const routeState = new RouterStateSnapshot('', rootNode);\n      const tree = createUrlTreeFromSnapshot(rootSnapshot, [], this.urlTree.queryParams, this.urlTree.fragment);\n      // https://github.com/angular/angular/issues/47307\n      // Creating the tree stringifies the query params\n      // We don't want to do this here so reassign them to the original.\n      tree.queryParams = this.urlTree.queryParams;\n      routeState.url = this.urlSerializer.serialize(tree);\n      return {\n        state: routeState,\n        tree\n      };\n    }));\n  }\n  match(rootSegmentGroup) {\n    // Use Object.freeze to prevent readers of the Router state from modifying it outside\n    // of a navigation, resulting in the router being out of sync with the browser.\n    const rootSnapshot = new ActivatedRouteSnapshot([], Object.freeze({}), Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, Object.freeze({}), PRIMARY_OUTLET, this.rootComponentType, null, {});\n    return this.processSegmentGroup(this.injector, this.config, rootSegmentGroup, PRIMARY_OUTLET, rootSnapshot).pipe(map(children => {\n      return {\n        children,\n        rootSnapshot\n      };\n    }), catchError(e => {\n      if (e instanceof AbsoluteRedirect) {\n        this.urlTree = e.urlTree;\n        return this.match(e.urlTree.root);\n      }\n      if (e instanceof NoMatch) {\n        throw this.noMatchError(e);\n      }\n      throw e;\n    }));\n  }\n  processSegmentGroup(injector, config, segmentGroup, outlet, parentRoute) {\n    if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n      return this.processChildren(injector, config, segmentGroup, parentRoute);\n    }\n    return this.processSegment(injector, config, segmentGroup, segmentGroup.segments, outlet, true, parentRoute).pipe(map(child => child instanceof TreeNode ? [child] : []));\n  }\n  /**\n   * Matches every child outlet in the `segmentGroup` to a `Route` in the config. Returns `null` if\n   * we cannot find a match for _any_ of the children.\n   *\n   * @param config - The `Routes` to match against\n   * @param segmentGroup - The `UrlSegmentGroup` whose children need to be matched against the\n   *     config.\n   */\n  processChildren(injector, config, segmentGroup, parentRoute) {\n    // Expand outlets one at a time, starting with the primary outlet. We need to do it this way\n    // because an absolute redirect from the primary outlet takes precedence.\n    const childOutlets = [];\n    for (const child of Object.keys(segmentGroup.children)) {\n      if (child === 'primary') {\n        childOutlets.unshift(child);\n      } else {\n        childOutlets.push(child);\n      }\n    }\n    return from(childOutlets).pipe(concatMap(childOutlet => {\n      const child = segmentGroup.children[childOutlet];\n      // Sort the config so that routes with outlets that match the one being activated\n      // appear first, followed by routes for other outlets, which might match if they have\n      // an empty path.\n      const sortedConfig = sortByMatchingOutlets(config, childOutlet);\n      return this.processSegmentGroup(injector, sortedConfig, child, childOutlet, parentRoute);\n    }), scan((children, outletChildren) => {\n      children.push(...outletChildren);\n      return children;\n    }), defaultIfEmpty(null), last$1(), mergeMap(children => {\n      if (children === null) return noMatch$1(segmentGroup);\n      // Because we may have matched two outlets to the same empty path segment, we can have\n      // multiple activated results for the same outlet. We should merge the children of\n      // these results so the final return value is only one `TreeNode` per outlet.\n      const mergedChildren = mergeEmptyPathMatches(children);\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        // This should really never happen - we are only taking the first match for each\n        // outlet and merge the empty path matches.\n        checkOutletNameUniqueness(mergedChildren);\n      }\n      sortActivatedRouteSnapshots(mergedChildren);\n      return of(mergedChildren);\n    }));\n  }\n  processSegment(injector, routes, segmentGroup, segments, outlet, allowRedirects, parentRoute) {\n    return from(routes).pipe(concatMap(r => {\n      return this.processSegmentAgainstRoute(r._injector ?? injector, routes, r, segmentGroup, segments, outlet, allowRedirects, parentRoute).pipe(catchError(e => {\n        if (e instanceof NoMatch) {\n          return of(null);\n        }\n        throw e;\n      }));\n    }), first(x => !!x), catchError(e => {\n      if (isEmptyError(e)) {\n        if (noLeftoversInUrl(segmentGroup, segments, outlet)) {\n          return of(new NoLeftoversInUrl());\n        }\n        return noMatch$1(segmentGroup);\n      }\n      throw e;\n    }));\n  }\n  processSegmentAgainstRoute(injector, routes, route, rawSegment, segments, outlet, allowRedirects, parentRoute) {\n    if (!isImmediateMatch(route, rawSegment, segments, outlet)) return noMatch$1(rawSegment);\n    if (route.redirectTo === undefined) {\n      return this.matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute);\n    }\n    if (this.allowRedirects && allowRedirects) {\n      return this.expandSegmentAgainstRouteUsingRedirect(injector, rawSegment, routes, route, segments, outlet, parentRoute);\n    }\n    return noMatch$1(rawSegment);\n  }\n  expandSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, segments, outlet, parentRoute) {\n    const {\n      matched,\n      parameters,\n      consumedSegments,\n      positionalParamSegments,\n      remainingSegments\n    } = match(segmentGroup, route, segments);\n    if (!matched) return noMatch$1(segmentGroup);\n    // TODO(atscott): Move all of this under an if(ngDevMode) as a breaking change and allow stack\n    // size exceeded in production\n    if (typeof route.redirectTo === 'string' && route.redirectTo[0] === '/') {\n      this.absoluteRedirectCount++;\n      if (this.absoluteRedirectCount > MAX_ALLOWED_REDIRECTS) {\n        if (ngDevMode) {\n          throw new ɵRuntimeError(4016 /* RuntimeErrorCode.INFINITE_REDIRECT */, `Detected possible infinite redirect when redirecting from '${this.urlTree}' to '${route.redirectTo}'.\\n` + `This is currently a dev mode only error but will become a` + ` call stack size exceeded error in production in a future major version.`);\n        }\n        this.allowRedirects = false;\n      }\n    }\n    const currentSnapshot = new ActivatedRouteSnapshot(segments, parameters, Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route));\n    const inherited = getInherited(currentSnapshot, parentRoute, this.paramsInheritanceStrategy);\n    currentSnapshot.params = Object.freeze(inherited.params);\n    currentSnapshot.data = Object.freeze(inherited.data);\n    const newTree = this.applyRedirects.applyRedirectCommands(consumedSegments, route.redirectTo, positionalParamSegments, currentSnapshot, injector);\n    return this.applyRedirects.lineralizeSegments(route, newTree).pipe(mergeMap(newSegments => {\n      return this.processSegment(injector, routes, segmentGroup, newSegments.concat(remainingSegments), outlet, false, parentRoute);\n    }));\n  }\n  matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute) {\n    const matchResult = matchWithChecks(rawSegment, route, segments, injector, this.urlSerializer);\n    if (route.path === '**') {\n      // Prior versions of the route matching algorithm would stop matching at the wildcard route.\n      // We should investigate a better strategy for any existing children. Otherwise, these\n      // child segments are silently dropped from the navigation.\n      // https://github.com/angular/angular/issues/40089\n      rawSegment.children = {};\n    }\n    return matchResult.pipe(switchMap(result => {\n      if (!result.matched) {\n        return noMatch$1(rawSegment);\n      }\n      // If the route has an injector created from providers, we should start using that.\n      injector = route._injector ?? injector;\n      return this.getChildConfig(injector, route, segments).pipe(switchMap(({\n        routes: childConfig\n      }) => {\n        const childInjector = route._loadedInjector ?? injector;\n        const {\n          parameters,\n          consumedSegments,\n          remainingSegments\n        } = result;\n        const snapshot = new ActivatedRouteSnapshot(consumedSegments, parameters, Object.freeze({\n          ...this.urlTree.queryParams\n        }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route));\n        const inherited = getInherited(snapshot, parentRoute, this.paramsInheritanceStrategy);\n        snapshot.params = Object.freeze(inherited.params);\n        snapshot.data = Object.freeze(inherited.data);\n        const {\n          segmentGroup,\n          slicedSegments\n        } = split(rawSegment, consumedSegments, remainingSegments, childConfig);\n        if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {\n          return this.processChildren(childInjector, childConfig, segmentGroup, snapshot).pipe(map(children => {\n            return new TreeNode(snapshot, children);\n          }));\n        }\n        if (childConfig.length === 0 && slicedSegments.length === 0) {\n          return of(new TreeNode(snapshot, []));\n        }\n        const matchedOnOutlet = getOutlet(route) === outlet;\n        // If we matched a config due to empty path match on a different outlet, we need to\n        // continue passing the current outlet for the segment rather than switch to PRIMARY.\n        // Note that we switch to primary when we have a match because outlet configs look like\n        // this: {path: 'a', outlet: 'a', children: [\n        //  {path: 'b', component: B},\n        //  {path: 'c', component: C},\n        // ]}\n        // Notice that the children of the named outlet are configured with the primary outlet\n        return this.processSegment(childInjector, childConfig, segmentGroup, slicedSegments, matchedOnOutlet ? PRIMARY_OUTLET : outlet, true, snapshot).pipe(map(child => {\n          return new TreeNode(snapshot, child instanceof TreeNode ? [child] : []);\n        }));\n      }));\n    }));\n  }\n  getChildConfig(injector, route, segments) {\n    if (route.children) {\n      // The children belong to the same module\n      return of({\n        routes: route.children,\n        injector\n      });\n    }\n    if (route.loadChildren) {\n      // lazy children belong to the loaded module\n      if (route._loadedRoutes !== undefined) {\n        return of({\n          routes: route._loadedRoutes,\n          injector: route._loadedInjector\n        });\n      }\n      return runCanLoadGuards(injector, route, segments, this.urlSerializer).pipe(mergeMap(shouldLoadResult => {\n        if (shouldLoadResult) {\n          return this.configLoader.loadChildren(injector, route).pipe(tap(cfg => {\n            route._loadedRoutes = cfg.routes;\n            route._loadedInjector = cfg.injector;\n          }));\n        }\n        return canLoadFails(route);\n      }));\n    }\n    return of({\n      routes: [],\n      injector\n    });\n  }\n}\nfunction sortActivatedRouteSnapshots(nodes) {\n  nodes.sort((a, b) => {\n    if (a.value.outlet === PRIMARY_OUTLET) return -1;\n    if (b.value.outlet === PRIMARY_OUTLET) return 1;\n    return a.value.outlet.localeCompare(b.value.outlet);\n  });\n}\nfunction hasEmptyPathConfig(node) {\n  const config = node.value.routeConfig;\n  return config && config.path === '';\n}\n/**\n * Finds `TreeNode`s with matching empty path route configs and merges them into `TreeNode` with\n * the children from each duplicate. This is necessary because different outlets can match a\n * single empty path route config and the results need to then be merged.\n */\nfunction mergeEmptyPathMatches(nodes) {\n  const result = [];\n  // The set of nodes which contain children that were merged from two duplicate empty path nodes.\n  const mergedNodes = new Set();\n  for (const node of nodes) {\n    if (!hasEmptyPathConfig(node)) {\n      result.push(node);\n      continue;\n    }\n    const duplicateEmptyPathNode = result.find(resultNode => node.value.routeConfig === resultNode.value.routeConfig);\n    if (duplicateEmptyPathNode !== undefined) {\n      duplicateEmptyPathNode.children.push(...node.children);\n      mergedNodes.add(duplicateEmptyPathNode);\n    } else {\n      result.push(node);\n    }\n  }\n  // For each node which has children from multiple sources, we need to recompute a new `TreeNode`\n  // by also merging those children. This is necessary when there are multiple empty path configs\n  // in a row. Put another way: whenever we combine children of two nodes, we need to also check\n  // if any of those children can be combined into a single node as well.\n  for (const mergedNode of mergedNodes) {\n    const mergedChildren = mergeEmptyPathMatches(mergedNode.children);\n    result.push(new TreeNode(mergedNode.value, mergedChildren));\n  }\n  return result.filter(n => !mergedNodes.has(n));\n}\nfunction checkOutletNameUniqueness(nodes) {\n  const names = {};\n  nodes.forEach(n => {\n    const routeWithSameOutletName = names[n.value.outlet];\n    if (routeWithSameOutletName) {\n      const p = routeWithSameOutletName.url.map(s => s.toString()).join('/');\n      const c = n.value.url.map(s => s.toString()).join('/');\n      throw new ɵRuntimeError(4006 /* RuntimeErrorCode.TWO_SEGMENTS_WITH_SAME_OUTLET */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Two segments cannot have the same outlet name: '${p}' and '${c}'.`);\n    }\n    names[n.value.outlet] = n.value;\n  });\n}\nfunction getData(route) {\n  return route.data || {};\n}\nfunction getResolve(route) {\n  return route.resolve || {};\n}\nfunction recognize(injector, configLoader, rootComponentType, config, serializer, paramsInheritanceStrategy) {\n  return mergeMap(t => recognize$1(injector, configLoader, rootComponentType, config, t.extractedUrl, serializer, paramsInheritanceStrategy).pipe(map(({\n    state: targetSnapshot,\n    tree: urlAfterRedirects\n  }) => {\n    return {\n      ...t,\n      targetSnapshot,\n      urlAfterRedirects\n    };\n  })));\n}\nfunction resolveData(paramsInheritanceStrategy, injector) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      guards: {\n        canActivateChecks\n      }\n    } = t;\n    if (!canActivateChecks.length) {\n      return of(t);\n    }\n    // Iterating a Set in javascript  happens in insertion order so it is safe to use a `Set` to\n    // preserve the correct order that the resolvers should run in.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set#description\n    const routesWithResolversToRun = new Set(canActivateChecks.map(check => check.route));\n    const routesNeedingDataUpdates = new Set();\n    for (const route of routesWithResolversToRun) {\n      if (routesNeedingDataUpdates.has(route)) {\n        continue;\n      }\n      // All children under the route with a resolver to run need to recompute inherited data.\n      for (const newRoute of flattenRouteTree(route)) {\n        routesNeedingDataUpdates.add(newRoute);\n      }\n    }\n    let routesProcessed = 0;\n    return from(routesNeedingDataUpdates).pipe(concatMap(route => {\n      if (routesWithResolversToRun.has(route)) {\n        return runResolve(route, targetSnapshot, paramsInheritanceStrategy, injector);\n      } else {\n        route.data = getInherited(route, route.parent, paramsInheritanceStrategy).resolve;\n        return of(void 0);\n      }\n    }), tap(() => routesProcessed++), takeLast(1), mergeMap(_ => routesProcessed === routesNeedingDataUpdates.size ? of(t) : EMPTY));\n  });\n}\n/**\n *  Returns the `ActivatedRouteSnapshot` tree as an array, using DFS to traverse the route tree.\n */\nfunction flattenRouteTree(route) {\n  const descendants = route.children.map(child => flattenRouteTree(child)).flat();\n  return [route, ...descendants];\n}\nfunction runResolve(futureARS, futureRSS, paramsInheritanceStrategy, injector) {\n  const config = futureARS.routeConfig;\n  const resolve = futureARS._resolve;\n  if (config?.title !== undefined && !hasStaticTitle(config)) {\n    resolve[RouteTitleKey] = config.title;\n  }\n  return resolveNode(resolve, futureARS, futureRSS, injector).pipe(map(resolvedData => {\n    futureARS._resolvedData = resolvedData;\n    futureARS.data = getInherited(futureARS, futureARS.parent, paramsInheritanceStrategy).resolve;\n    return null;\n  }));\n}\nfunction resolveNode(resolve, futureARS, futureRSS, injector) {\n  const keys = getDataKeys(resolve);\n  if (keys.length === 0) {\n    return of({});\n  }\n  const data = {};\n  return from(keys).pipe(mergeMap(key => getResolver(resolve[key], futureARS, futureRSS, injector).pipe(first(), tap(value => {\n    if (value instanceof RedirectCommand) {\n      throw redirectingNavigationError(new DefaultUrlSerializer(), value);\n    }\n    data[key] = value;\n  }))), takeLast(1), mapTo(data), catchError(e => isEmptyError(e) ? EMPTY : throwError(e)));\n}\nfunction getResolver(injectionToken, futureARS, futureRSS, injector) {\n  const closestInjector = getClosestRouteInjector(futureARS) ?? injector;\n  const resolver = getTokenOrFunctionIdentity(injectionToken, closestInjector);\n  const resolverValue = resolver.resolve ? resolver.resolve(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => resolver(futureARS, futureRSS));\n  return wrapIntoObservable(resolverValue);\n}\n\n/**\n * Perform a side effect through a switchMap for every emission on the source Observable,\n * but return an Observable that is identical to the source. It's essentially the same as\n * the `tap` operator, but if the side effectful `next` function returns an ObservableInput,\n * it will wait before continuing with the original value.\n */\nfunction switchTap(next) {\n  return switchMap(v => {\n    const nextResult = next(v);\n    if (nextResult) {\n      return from(nextResult).pipe(map(() => v));\n    }\n    return of(v);\n  });\n}\n\n/**\n * Provides a strategy for setting the page title after a router navigation.\n *\n * The built-in implementation traverses the router state snapshot and finds the deepest primary\n * outlet with `title` property. Given the `Routes` below, navigating to\n * `/base/child(popup:aux)` would result in the document title being set to \"child\".\n * ```\n * [\n *   {path: 'base', title: 'base', children: [\n *     {path: 'child', title: 'child'},\n *   ],\n *   {path: 'aux', outlet: 'popup', title: 'popupTitle'}\n * ]\n * ```\n *\n * This class can be used as a base class for custom title strategies. That is, you can create your\n * own class that extends the `TitleStrategy`. Note that in the above example, the `title`\n * from the named outlet is never used. However, a custom strategy might be implemented to\n * incorporate titles in named outlets.\n *\n * @publicApi\n * @see [Page title guide](guide/routing/common-router-tasks#setting-the-page-title)\n */\nlet TitleStrategy = /*#__PURE__*/(() => {\n  class TitleStrategy {\n    /**\n     * @returns The `title` of the deepest primary route.\n     */\n    buildTitle(snapshot) {\n      let pageTitle;\n      let route = snapshot.root;\n      while (route !== undefined) {\n        pageTitle = this.getResolvedTitleForRoute(route) ?? pageTitle;\n        route = route.children.find(child => child.outlet === PRIMARY_OUTLET);\n      }\n      return pageTitle;\n    }\n    /**\n     * Given an `ActivatedRouteSnapshot`, returns the final value of the\n     * `Route.title` property, which can either be a static string or a resolved value.\n     */\n    getResolvedTitleForRoute(snapshot) {\n      return snapshot.data[RouteTitleKey];\n    }\n    static {\n      this.ɵfac = function TitleStrategy_Factory(t) {\n        return new (t || TitleStrategy)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: TitleStrategy,\n        factory: () => (() => inject(DefaultTitleStrategy))(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return TitleStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * The default `TitleStrategy` used by the router that updates the title using the `Title` service.\n */\nlet DefaultTitleStrategy = /*#__PURE__*/(() => {\n  class DefaultTitleStrategy extends TitleStrategy {\n    constructor(title) {\n      super();\n      this.title = title;\n    }\n    /**\n     * Sets the title of the browser to the given value.\n     *\n     * @param title The `pageTitle` from the deepest primary route.\n     */\n    updateTitle(snapshot) {\n      const title = this.buildTitle(snapshot);\n      if (title !== undefined) {\n        this.title.setTitle(title);\n      }\n    }\n    static {\n      this.ɵfac = function DefaultTitleStrategy_Factory(t) {\n        return new (t || DefaultTitleStrategy)(i0.ɵɵinject(i1.Title));\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: DefaultTitleStrategy,\n        factory: DefaultTitleStrategy.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return DefaultTitleStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * A DI token for the router service.\n *\n * @publicApi\n */\nconst ROUTER_CONFIGURATION = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router config' : '', {\n  providedIn: 'root',\n  factory: () => ({})\n});\n\n/**\n * This component is used internally within the router to be a placeholder when an empty\n * router-outlet is needed. For example, with a config such as:\n *\n * `{path: 'parent', outlet: 'nav', children: [...]}`\n *\n * In order to render, there needs to be a component on this config, which will default\n * to this `EmptyOutletComponent`.\n */\nlet ɵEmptyOutletComponent = /*#__PURE__*/(() => {\n  class ɵEmptyOutletComponent {\n    static {\n      this.ɵfac = function ɵEmptyOutletComponent_Factory(t) {\n        return new (t || ɵEmptyOutletComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: ɵEmptyOutletComponent,\n        selectors: [[\"ng-component\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 1,\n        vars: 0,\n        template: function _EmptyOutletComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"router-outlet\");\n          }\n        },\n        dependencies: [RouterOutlet],\n        encapsulation: 2\n      });\n    }\n  }\n  return ɵEmptyOutletComponent;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Makes a copy of the config and adds any default required properties.\n */\nfunction standardizeConfig(r) {\n  const children = r.children && r.children.map(standardizeConfig);\n  const c = children ? {\n    ...r,\n    children\n  } : {\n    ...r\n  };\n  if (!c.component && !c.loadComponent && (children || c.loadChildren) && c.outlet && c.outlet !== PRIMARY_OUTLET) {\n    c.component = ɵEmptyOutletComponent;\n  }\n  return c;\n}\n\n/**\n * The DI token for a router configuration.\n *\n * `ROUTES` is a low level API for router configuration via dependency injection.\n *\n * We recommend that in almost all cases to use higher level APIs such as `RouterModule.forRoot()`,\n * `provideRouter`, or `Router.resetConfig()`.\n *\n * @publicApi\n */\nconst ROUTES = /*#__PURE__*/new InjectionToken(ngDevMode ? 'ROUTES' : '');\nlet RouterConfigLoader = /*#__PURE__*/(() => {\n  class RouterConfigLoader {\n    constructor() {\n      this.componentLoaders = new WeakMap();\n      this.childrenLoaders = new WeakMap();\n      this.compiler = inject(Compiler);\n    }\n    loadComponent(route) {\n      if (this.componentLoaders.get(route)) {\n        return this.componentLoaders.get(route);\n      } else if (route._loadedComponent) {\n        return of(route._loadedComponent);\n      }\n      if (this.onLoadStartListener) {\n        this.onLoadStartListener(route);\n      }\n      const loadRunner = wrapIntoObservable(route.loadComponent()).pipe(map(maybeUnwrapDefaultExport), tap(component => {\n        if (this.onLoadEndListener) {\n          this.onLoadEndListener(route);\n        }\n        (typeof ngDevMode === 'undefined' || ngDevMode) && assertStandalone(route.path ?? '', component);\n        route._loadedComponent = component;\n      }), finalize(() => {\n        this.componentLoaders.delete(route);\n      }));\n      // Use custom ConnectableObservable as share in runners pipe increasing the bundle size too much\n      const loader = new ConnectableObservable(loadRunner, () => new Subject()).pipe(refCount());\n      this.componentLoaders.set(route, loader);\n      return loader;\n    }\n    loadChildren(parentInjector, route) {\n      if (this.childrenLoaders.get(route)) {\n        return this.childrenLoaders.get(route);\n      } else if (route._loadedRoutes) {\n        return of({\n          routes: route._loadedRoutes,\n          injector: route._loadedInjector\n        });\n      }\n      if (this.onLoadStartListener) {\n        this.onLoadStartListener(route);\n      }\n      const moduleFactoryOrRoutes$ = loadChildren(route, this.compiler, parentInjector, this.onLoadEndListener);\n      const loadRunner = moduleFactoryOrRoutes$.pipe(finalize(() => {\n        this.childrenLoaders.delete(route);\n      }));\n      // Use custom ConnectableObservable as share in runners pipe increasing the bundle size too much\n      const loader = new ConnectableObservable(loadRunner, () => new Subject()).pipe(refCount());\n      this.childrenLoaders.set(route, loader);\n      return loader;\n    }\n    static {\n      this.ɵfac = function RouterConfigLoader_Factory(t) {\n        return new (t || RouterConfigLoader)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RouterConfigLoader,\n        factory: RouterConfigLoader.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return RouterConfigLoader;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Executes a `route.loadChildren` callback and converts the result to an array of child routes and\n * an injector if that callback returned a module.\n *\n * This function is used for the route discovery during prerendering\n * in @angular-devkit/build-angular. If there are any updates to the contract here, it will require\n * an update to the extractor.\n */\nfunction loadChildren(route, compiler, parentInjector, onLoadEndListener) {\n  return wrapIntoObservable(route.loadChildren()).pipe(map(maybeUnwrapDefaultExport), mergeMap(t => {\n    if (t instanceof NgModuleFactory || Array.isArray(t)) {\n      return of(t);\n    } else {\n      return from(compiler.compileModuleAsync(t));\n    }\n  }), map(factoryOrRoutes => {\n    if (onLoadEndListener) {\n      onLoadEndListener(route);\n    }\n    // This injector comes from the `NgModuleRef` when lazy loading an `NgModule`. There is\n    // no injector associated with lazy loading a `Route` array.\n    let injector;\n    let rawRoutes;\n    let requireStandaloneComponents = false;\n    if (Array.isArray(factoryOrRoutes)) {\n      rawRoutes = factoryOrRoutes;\n      requireStandaloneComponents = true;\n    } else {\n      injector = factoryOrRoutes.create(parentInjector).injector;\n      // When loading a module that doesn't provide `RouterModule.forChild()` preloader\n      // will get stuck in an infinite loop. The child module's Injector will look to\n      // its parent `Injector` when it doesn't find any ROUTES so it will return routes\n      // for it's parent module instead.\n      rawRoutes = injector.get(ROUTES, [], {\n        optional: true,\n        self: true\n      }).flat();\n    }\n    const routes = rawRoutes.map(standardizeConfig);\n    (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(routes, route.path, requireStandaloneComponents);\n    return {\n      routes,\n      injector\n    };\n  }));\n}\nfunction isWrappedDefaultExport(value) {\n  // We use `in` here with a string key `'default'`, because we expect `DefaultExport` objects to be\n  // dynamically imported ES modules with a spec-mandated `default` key. Thus we don't expect that\n  // `default` will be a renamed property.\n  return value && typeof value === 'object' && 'default' in value;\n}\nfunction maybeUnwrapDefaultExport(input) {\n  // As per `isWrappedDefaultExport`, the `default` key here is generated by the browser and not\n  // subject to property renaming, so we reference it with bracket access.\n  return isWrappedDefaultExport(input) ? input['default'] : input;\n}\n\n/**\n * @description\n *\n * Provides a way to migrate AngularJS applications to Angular.\n *\n * @publicApi\n */\nlet UrlHandlingStrategy = /*#__PURE__*/(() => {\n  class UrlHandlingStrategy {\n    static {\n      this.ɵfac = function UrlHandlingStrategy_Factory(t) {\n        return new (t || UrlHandlingStrategy)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: UrlHandlingStrategy,\n        factory: () => (() => inject(DefaultUrlHandlingStrategy))(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return UrlHandlingStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @publicApi\n */\nlet DefaultUrlHandlingStrategy = /*#__PURE__*/(() => {\n  class DefaultUrlHandlingStrategy {\n    shouldProcessUrl(url) {\n      return true;\n    }\n    extract(url) {\n      return url;\n    }\n    merge(newUrlPart, wholeUrl) {\n      return newUrlPart;\n    }\n    static {\n      this.ɵfac = function DefaultUrlHandlingStrategy_Factory(t) {\n        return new (t || DefaultUrlHandlingStrategy)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: DefaultUrlHandlingStrategy,\n        factory: DefaultUrlHandlingStrategy.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return DefaultUrlHandlingStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/// <reference types=\"dom-view-transitions\" />\nconst CREATE_VIEW_TRANSITION = /*#__PURE__*/new InjectionToken(ngDevMode ? 'view transition helper' : '');\nconst VIEW_TRANSITION_OPTIONS = /*#__PURE__*/new InjectionToken(ngDevMode ? 'view transition options' : '');\n/**\n * A helper function for using browser view transitions. This function skips the call to\n * `startViewTransition` if the browser does not support it.\n *\n * @returns A Promise that resolves when the view transition callback begins.\n */\nfunction createViewTransition(injector, from, to) {\n  const transitionOptions = injector.get(VIEW_TRANSITION_OPTIONS);\n  const document = injector.get(DOCUMENT);\n  // Create promises outside the Angular zone to avoid causing extra change detections\n  return injector.get(NgZone).runOutsideAngular(() => {\n    if (!document.startViewTransition || transitionOptions.skipNextTransition) {\n      transitionOptions.skipNextTransition = false;\n      // The timing of `startViewTransition` is closer to a macrotask. It won't be called\n      // until the current event loop exits so we use a promise resolved in a timeout instead\n      // of Promise.resolve().\n      return new Promise(resolve => setTimeout(resolve));\n    }\n    let resolveViewTransitionStarted;\n    const viewTransitionStarted = new Promise(resolve => {\n      resolveViewTransitionStarted = resolve;\n    });\n    const transition = document.startViewTransition(() => {\n      resolveViewTransitionStarted();\n      // We don't actually update dom within the transition callback. The resolving of the above\n      // promise unblocks the Router navigation, which synchronously activates and deactivates\n      // routes (the DOM update). This view transition waits for the next change detection to\n      // complete (below), which includes the update phase of the routed components.\n      return createRenderPromise(injector);\n    });\n    const {\n      onViewTransitionCreated\n    } = transitionOptions;\n    if (onViewTransitionCreated) {\n      runInInjectionContext(injector, () => onViewTransitionCreated({\n        transition,\n        from,\n        to\n      }));\n    }\n    return viewTransitionStarted;\n  });\n}\n/**\n * Creates a promise that resolves after next render.\n */\nfunction createRenderPromise(injector) {\n  return new Promise(resolve => {\n    // Wait for the microtask queue to empty after the next render happens (by waiting a macrotask).\n    // This ensures any follow-up renders in the microtask queue are completed before the\n    // view transition starts animating.\n    afterNextRender({\n      read: () => setTimeout(resolve)\n    }, {\n      injector\n    });\n  });\n}\nconst NAVIGATION_ERROR_HANDLER = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'navigation error handler' : '');\nlet NavigationTransitions = /*#__PURE__*/(() => {\n  class NavigationTransitions {\n    get hasRequestedNavigation() {\n      return this.navigationId !== 0;\n    }\n    constructor() {\n      this.currentNavigation = null;\n      this.currentTransition = null;\n      this.lastSuccessfulNavigation = null;\n      /**\n       * These events are used to communicate back to the Router about the state of the transition. The\n       * Router wants to respond to these events in various ways. Because the `NavigationTransition`\n       * class is not public, this event subject is not publicly exposed.\n       */\n      this.events = new Subject();\n      /**\n       * Used to abort the current transition with an error.\n       */\n      this.transitionAbortSubject = new Subject();\n      this.configLoader = inject(RouterConfigLoader);\n      this.environmentInjector = inject(EnvironmentInjector);\n      this.urlSerializer = inject(UrlSerializer);\n      this.rootContexts = inject(ChildrenOutletContexts);\n      this.location = inject(Location);\n      this.inputBindingEnabled = inject(INPUT_BINDER, {\n        optional: true\n      }) !== null;\n      this.titleStrategy = inject(TitleStrategy);\n      this.options = inject(ROUTER_CONFIGURATION, {\n        optional: true\n      }) || {};\n      this.paramsInheritanceStrategy = this.options.paramsInheritanceStrategy || 'emptyOnly';\n      this.urlHandlingStrategy = inject(UrlHandlingStrategy);\n      this.createViewTransition = inject(CREATE_VIEW_TRANSITION, {\n        optional: true\n      });\n      this.navigationErrorHandler = inject(NAVIGATION_ERROR_HANDLER, {\n        optional: true\n      });\n      this.navigationId = 0;\n      /**\n       * Hook that enables you to pause navigation after the preactivation phase.\n       * Used by `RouterModule`.\n       *\n       * @internal\n       */\n      this.afterPreactivation = () => of(void 0);\n      /** @internal */\n      this.rootComponentType = null;\n      const onLoadStart = r => this.events.next(new RouteConfigLoadStart(r));\n      const onLoadEnd = r => this.events.next(new RouteConfigLoadEnd(r));\n      this.configLoader.onLoadEndListener = onLoadEnd;\n      this.configLoader.onLoadStartListener = onLoadStart;\n    }\n    complete() {\n      this.transitions?.complete();\n    }\n    handleNavigationRequest(request) {\n      const id = ++this.navigationId;\n      this.transitions?.next({\n        ...this.transitions.value,\n        ...request,\n        id\n      });\n    }\n    setupNavigations(router, initialUrlTree, initialRouterState) {\n      this.transitions = new BehaviorSubject({\n        id: 0,\n        currentUrlTree: initialUrlTree,\n        currentRawUrl: initialUrlTree,\n        extractedUrl: this.urlHandlingStrategy.extract(initialUrlTree),\n        urlAfterRedirects: this.urlHandlingStrategy.extract(initialUrlTree),\n        rawUrl: initialUrlTree,\n        extras: {},\n        resolve: () => {},\n        reject: () => {},\n        promise: Promise.resolve(true),\n        source: IMPERATIVE_NAVIGATION,\n        restoredState: null,\n        currentSnapshot: initialRouterState.snapshot,\n        targetSnapshot: null,\n        currentRouterState: initialRouterState,\n        targetRouterState: null,\n        guards: {\n          canActivateChecks: [],\n          canDeactivateChecks: []\n        },\n        guardsResult: null\n      });\n      return this.transitions.pipe(filter(t => t.id !== 0),\n      // Extract URL\n      map(t => ({\n        ...t,\n        extractedUrl: this.urlHandlingStrategy.extract(t.rawUrl)\n      })),\n      // Using switchMap so we cancel executing navigations when a new one comes in\n      switchMap(overallTransitionState => {\n        let completed = false;\n        let errored = false;\n        return of(overallTransitionState).pipe(switchMap(t => {\n          // It is possible that `switchMap` fails to cancel previous navigations if a new one happens synchronously while the operator\n          // is processing the `next` notification of that previous navigation. This can happen when a new navigation (say 2) cancels a\n          // previous one (1) and yet another navigation (3) happens synchronously in response to the `NavigationCancel` event for (1).\n          // https://github.com/ReactiveX/rxjs/issues/7455\n          if (this.navigationId > overallTransitionState.id) {\n            const cancellationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n            this.cancelNavigationTransition(overallTransitionState, cancellationReason, NavigationCancellationCode.SupersededByNewNavigation);\n            return EMPTY;\n          }\n          this.currentTransition = overallTransitionState;\n          // Store the Navigation object\n          this.currentNavigation = {\n            id: t.id,\n            initialUrl: t.rawUrl,\n            extractedUrl: t.extractedUrl,\n            targetBrowserUrl: typeof t.extras.browserUrl === 'string' ? this.urlSerializer.parse(t.extras.browserUrl) : t.extras.browserUrl,\n            trigger: t.source,\n            extras: t.extras,\n            previousNavigation: !this.lastSuccessfulNavigation ? null : {\n              ...this.lastSuccessfulNavigation,\n              previousNavigation: null\n            }\n          };\n          const urlTransition = !router.navigated || this.isUpdatingInternalState() || this.isUpdatedBrowserUrl();\n          const onSameUrlNavigation = t.extras.onSameUrlNavigation ?? router.onSameUrlNavigation;\n          if (!urlTransition && onSameUrlNavigation !== 'reload') {\n            const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation to ${t.rawUrl} was ignored because it is the same as the current Router URL.` : '';\n            this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.rawUrl), reason, NavigationSkippedCode.IgnoredSameUrlNavigation));\n            t.resolve(false);\n            return EMPTY;\n          }\n          if (this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl)) {\n            return of(t).pipe(\n            // Fire NavigationStart event\n            switchMap(t => {\n              const transition = this.transitions?.getValue();\n              this.events.next(new NavigationStart(t.id, this.urlSerializer.serialize(t.extractedUrl), t.source, t.restoredState));\n              if (transition !== this.transitions?.getValue()) {\n                return EMPTY;\n              }\n              // This delay is required to match old behavior that forced\n              // navigation to always be async\n              return Promise.resolve(t);\n            }),\n            // Recognize\n            recognize(this.environmentInjector, this.configLoader, this.rootComponentType, router.config, this.urlSerializer, this.paramsInheritanceStrategy),\n            // Update URL if in `eager` update mode\n            tap(t => {\n              overallTransitionState.targetSnapshot = t.targetSnapshot;\n              overallTransitionState.urlAfterRedirects = t.urlAfterRedirects;\n              this.currentNavigation = {\n                ...this.currentNavigation,\n                finalUrl: t.urlAfterRedirects\n              };\n              // Fire RoutesRecognized\n              const routesRecognized = new RoutesRecognized(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n              this.events.next(routesRecognized);\n            }));\n          } else if (urlTransition && this.urlHandlingStrategy.shouldProcessUrl(t.currentRawUrl)) {\n            /* When the current URL shouldn't be processed, but the previous one\n             * was, we handle this \"error condition\" by navigating to the\n             * previously successful URL, but leaving the URL intact.*/\n            const {\n              id,\n              extractedUrl,\n              source,\n              restoredState,\n              extras\n            } = t;\n            const navStart = new NavigationStart(id, this.urlSerializer.serialize(extractedUrl), source, restoredState);\n            this.events.next(navStart);\n            const targetSnapshot = createEmptyState(this.rootComponentType).snapshot;\n            this.currentTransition = overallTransitionState = {\n              ...t,\n              targetSnapshot,\n              urlAfterRedirects: extractedUrl,\n              extras: {\n                ...extras,\n                skipLocationChange: false,\n                replaceUrl: false\n              }\n            };\n            this.currentNavigation.finalUrl = extractedUrl;\n            return of(overallTransitionState);\n          } else {\n            /* When neither the current or previous URL can be processed, do\n             * nothing other than update router's internal reference to the\n             * current \"settled\" URL. This way the next navigation will be coming\n             * from the current URL in the browser.\n             */\n            const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation was ignored because the UrlHandlingStrategy` + ` indicated neither the current URL ${t.currentRawUrl} nor target URL ${t.rawUrl} should be processed.` : '';\n            this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, NavigationSkippedCode.IgnoredByUrlHandlingStrategy));\n            t.resolve(false);\n            return EMPTY;\n          }\n        }),\n        // --- GUARDS ---\n        tap(t => {\n          const guardsStart = new GuardsCheckStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n          this.events.next(guardsStart);\n        }), map(t => {\n          this.currentTransition = overallTransitionState = {\n            ...t,\n            guards: getAllRouteGuards(t.targetSnapshot, t.currentSnapshot, this.rootContexts)\n          };\n          return overallTransitionState;\n        }), checkGuards(this.environmentInjector, evt => this.events.next(evt)), tap(t => {\n          overallTransitionState.guardsResult = t.guardsResult;\n          if (t.guardsResult && typeof t.guardsResult !== 'boolean') {\n            throw redirectingNavigationError(this.urlSerializer, t.guardsResult);\n          }\n          const guardsEnd = new GuardsCheckEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot, !!t.guardsResult);\n          this.events.next(guardsEnd);\n        }), filter(t => {\n          if (!t.guardsResult) {\n            this.cancelNavigationTransition(t, '', NavigationCancellationCode.GuardRejected);\n            return false;\n          }\n          return true;\n        }),\n        // --- RESOLVE ---\n        switchTap(t => {\n          if (t.guards.canActivateChecks.length) {\n            return of(t).pipe(tap(t => {\n              const resolveStart = new ResolveStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n              this.events.next(resolveStart);\n            }), switchMap(t => {\n              let dataResolved = false;\n              return of(t).pipe(resolveData(this.paramsInheritanceStrategy, this.environmentInjector), tap({\n                next: () => dataResolved = true,\n                complete: () => {\n                  if (!dataResolved) {\n                    this.cancelNavigationTransition(t, typeof ngDevMode === 'undefined' || ngDevMode ? `At least one route resolver didn't emit any value.` : '', NavigationCancellationCode.NoDataFromResolver);\n                  }\n                }\n              }));\n            }), tap(t => {\n              const resolveEnd = new ResolveEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n              this.events.next(resolveEnd);\n            }));\n          }\n          return undefined;\n        }),\n        // --- LOAD COMPONENTS ---\n        switchTap(t => {\n          const loadComponents = route => {\n            const loaders = [];\n            if (route.routeConfig?.loadComponent && !route.routeConfig._loadedComponent) {\n              loaders.push(this.configLoader.loadComponent(route.routeConfig).pipe(tap(loadedComponent => {\n                route.component = loadedComponent;\n              }), map(() => void 0)));\n            }\n            for (const child of route.children) {\n              loaders.push(...loadComponents(child));\n            }\n            return loaders;\n          };\n          return combineLatest(loadComponents(t.targetSnapshot.root)).pipe(defaultIfEmpty(null), take(1));\n        }), switchTap(() => this.afterPreactivation()), switchMap(() => {\n          const {\n            currentSnapshot,\n            targetSnapshot\n          } = overallTransitionState;\n          const viewTransitionStarted = this.createViewTransition?.(this.environmentInjector, currentSnapshot.root, targetSnapshot.root);\n          // If view transitions are enabled, block the navigation until the view\n          // transition callback starts. Otherwise, continue immediately.\n          return viewTransitionStarted ? from(viewTransitionStarted).pipe(map(() => overallTransitionState)) : of(overallTransitionState);\n        }), map(t => {\n          const targetRouterState = createRouterState(router.routeReuseStrategy, t.targetSnapshot, t.currentRouterState);\n          this.currentTransition = overallTransitionState = {\n            ...t,\n            targetRouterState\n          };\n          this.currentNavigation.targetRouterState = targetRouterState;\n          return overallTransitionState;\n        }), tap(() => {\n          this.events.next(new BeforeActivateRoutes());\n        }), activateRoutes(this.rootContexts, router.routeReuseStrategy, evt => this.events.next(evt), this.inputBindingEnabled),\n        // Ensure that if some observable used to drive the transition doesn't\n        // complete, the navigation still finalizes This should never happen, but\n        // this is done as a safety measure to avoid surfacing this error (#49567).\n        take(1), tap({\n          next: t => {\n            completed = true;\n            this.lastSuccessfulNavigation = this.currentNavigation;\n            this.events.next(new NavigationEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects)));\n            this.titleStrategy?.updateTitle(t.targetRouterState.snapshot);\n            t.resolve(true);\n          },\n          complete: () => {\n            completed = true;\n          }\n        }),\n        // There used to be a lot more logic happening directly within the\n        // transition Observable. Some of this logic has been refactored out to\n        // other places but there may still be errors that happen there. This gives\n        // us a way to cancel the transition from the outside. This may also be\n        // required in the future to support something like the abort signal of the\n        // Navigation API where the navigation gets aborted from outside the\n        // transition.\n        takeUntil(this.transitionAbortSubject.pipe(tap(err => {\n          throw err;\n        }))), finalize(() => {\n          /* When the navigation stream finishes either through error or success,\n           * we set the `completed` or `errored` flag. However, there are some\n           * situations where we could get here without either of those being set.\n           * For instance, a redirect during NavigationStart. Therefore, this is a\n           * catch-all to make sure the NavigationCancel event is fired when a\n           * navigation gets cancelled but not caught by other means. */\n          if (!completed && !errored) {\n            const cancelationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n            this.cancelNavigationTransition(overallTransitionState, cancelationReason, NavigationCancellationCode.SupersededByNewNavigation);\n          }\n          // Only clear current navigation if it is still set to the one that\n          // finalized.\n          if (this.currentTransition?.id === overallTransitionState.id) {\n            this.currentNavigation = null;\n            this.currentTransition = null;\n          }\n        }), catchError(e => {\n          errored = true;\n          /* This error type is issued during Redirect, and is handled as a\n           * cancellation rather than an error. */\n          if (isNavigationCancelingError(e)) {\n            this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e.message, e.cancellationCode));\n            // When redirecting, we need to delay resolving the navigation\n            // promise and push it to the redirect navigation\n            if (!isRedirectingNavigationCancelingError(e)) {\n              overallTransitionState.resolve(false);\n            } else {\n              this.events.next(new RedirectRequest(e.url, e.navigationBehaviorOptions));\n            }\n            /* All other errors should reset to the router's internal URL reference\n             * to the pre-error state. */\n          } else {\n            const navigationError = new NavigationError(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e, overallTransitionState.targetSnapshot ?? undefined);\n            try {\n              const navigationErrorHandlerResult = runInInjectionContext(this.environmentInjector, () => this.navigationErrorHandler?.(navigationError));\n              if (navigationErrorHandlerResult instanceof RedirectCommand) {\n                const {\n                  message,\n                  cancellationCode\n                } = redirectingNavigationError(this.urlSerializer, navigationErrorHandlerResult);\n                this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), message, cancellationCode));\n                this.events.next(new RedirectRequest(navigationErrorHandlerResult.redirectTo, navigationErrorHandlerResult.navigationBehaviorOptions));\n              } else {\n                this.events.next(navigationError);\n                // TODO(atscott): remove deprecation on errorHandler in RouterModule.forRoot and change behavior to provide NAVIGATION_ERROR_HANDLER\n                // Note: Still remove public `Router.errorHandler` property, as this is supposed to be configured in DI.\n                const errorHandlerResult = router.errorHandler(e);\n                overallTransitionState.resolve(!!errorHandlerResult);\n              }\n            } catch (ee) {\n              // TODO(atscott): consider flipping the default behavior of\n              // resolveNavigationPromiseOnError to be `resolve(false)` when\n              // undefined. This is the most sane thing to do given that\n              // applications very rarely handle the promise rejection and, as a\n              // result, would get \"unhandled promise rejection\" console logs.\n              // The vast majority of applications would not be affected by this\n              // change so omitting a migration seems reasonable. Instead,\n              // applications that rely on rejection can specifically opt-in to the\n              // old behavior.\n              if (this.options.resolveNavigationPromiseOnError) {\n                overallTransitionState.resolve(false);\n              } else {\n                overallTransitionState.reject(ee);\n              }\n            }\n          }\n          return EMPTY;\n        }));\n        // casting because `pipe` returns observable({}) when called with 8+ arguments\n      }));\n    }\n    cancelNavigationTransition(t, reason, code) {\n      const navCancel = new NavigationCancel(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, code);\n      this.events.next(navCancel);\n      t.resolve(false);\n    }\n    /**\n     * @returns Whether we're navigating to somewhere that is not what the Router is\n     * currently set to.\n     */\n    isUpdatingInternalState() {\n      // TODO(atscott): The serializer should likely be used instead of\n      // `UrlTree.toString()`. Custom serializers are often written to handle\n      // things better than the default one (objects, for example will be\n      // [Object object] with the custom serializer and be \"the same\" when they\n      // aren't).\n      // (Same for isUpdatedBrowserUrl)\n      return this.currentTransition?.extractedUrl.toString() !== this.currentTransition?.currentUrlTree.toString();\n    }\n    /**\n     * @returns Whether we're updating the browser URL to something new (navigation is going\n     * to somewhere not displayed in the URL bar and we will update the URL\n     * bar if navigation succeeds).\n     */\n    isUpdatedBrowserUrl() {\n      // The extracted URL is the part of the URL that this application cares about. `extract` may\n      // return only part of the browser URL and that part may have not changed even if some other\n      // portion of the URL did.\n      const currentBrowserUrl = this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(true)));\n      const targetBrowserUrl = this.currentNavigation?.targetBrowserUrl ?? this.currentNavigation?.extractedUrl;\n      return currentBrowserUrl.toString() !== targetBrowserUrl?.toString() && !this.currentNavigation?.extras.skipLocationChange;\n    }\n    static {\n      this.ɵfac = function NavigationTransitions_Factory(t) {\n        return new (t || NavigationTransitions)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: NavigationTransitions,\n        factory: NavigationTransitions.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return NavigationTransitions;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction isBrowserTriggeredNavigation(source) {\n  return source !== IMPERATIVE_NAVIGATION;\n}\n\n/**\n * @description\n *\n * Provides a way to customize when activated routes get reused.\n *\n * @publicApi\n */\nlet RouteReuseStrategy = /*#__PURE__*/(() => {\n  class RouteReuseStrategy {\n    static {\n      this.ɵfac = function RouteReuseStrategy_Factory(t) {\n        return new (t || RouteReuseStrategy)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RouteReuseStrategy,\n        factory: () => (() => inject(DefaultRouteReuseStrategy))(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return RouteReuseStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @description\n *\n * This base route reuse strategy only reuses routes when the matched router configs are\n * identical. This prevents components from being destroyed and recreated\n * when just the route parameters, query parameters or fragment change\n * (that is, the existing component is _reused_).\n *\n * This strategy does not store any routes for later reuse.\n *\n * Angular uses this strategy by default.\n *\n *\n * It can be used as a base class for custom route reuse strategies, i.e. you can create your own\n * class that extends the `BaseRouteReuseStrategy` one.\n * @publicApi\n */\nclass BaseRouteReuseStrategy {\n  /**\n   * Whether the given route should detach for later reuse.\n   * Always returns false for `BaseRouteReuseStrategy`.\n   * */\n  shouldDetach(route) {\n    return false;\n  }\n  /**\n   * A no-op; the route is never stored since this strategy never detaches routes for later re-use.\n   */\n  store(route, detachedTree) {}\n  /** Returns `false`, meaning the route (and its subtree) is never reattached */\n  shouldAttach(route) {\n    return false;\n  }\n  /** Returns `null` because this strategy does not store routes for later re-use. */\n  retrieve(route) {\n    return null;\n  }\n  /**\n   * Determines if a route should be reused.\n   * This strategy returns `true` when the future route config and current route config are\n   * identical.\n   */\n  shouldReuseRoute(future, curr) {\n    return future.routeConfig === curr.routeConfig;\n  }\n}\nlet DefaultRouteReuseStrategy = /*#__PURE__*/(() => {\n  class DefaultRouteReuseStrategy extends BaseRouteReuseStrategy {\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵDefaultRouteReuseStrategy_BaseFactory;\n        return function DefaultRouteReuseStrategy_Factory(t) {\n          return (ɵDefaultRouteReuseStrategy_BaseFactory || (ɵDefaultRouteReuseStrategy_BaseFactory = i0.ɵɵgetInheritedFactory(DefaultRouteReuseStrategy)))(t || DefaultRouteReuseStrategy);\n        };\n      })();\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: DefaultRouteReuseStrategy,\n        factory: DefaultRouteReuseStrategy.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return DefaultRouteReuseStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StateManager = /*#__PURE__*/(() => {\n  class StateManager {\n    static {\n      this.ɵfac = function StateManager_Factory(t) {\n        return new (t || StateManager)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: StateManager,\n        factory: () => (() => inject(HistoryStateManager))(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return StateManager;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet HistoryStateManager = /*#__PURE__*/(() => {\n  class HistoryStateManager extends StateManager {\n    constructor() {\n      super(...arguments);\n      this.location = inject(Location);\n      this.urlSerializer = inject(UrlSerializer);\n      this.options = inject(ROUTER_CONFIGURATION, {\n        optional: true\n      }) || {};\n      this.canceledNavigationResolution = this.options.canceledNavigationResolution || 'replace';\n      this.urlHandlingStrategy = inject(UrlHandlingStrategy);\n      this.urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n      this.currentUrlTree = new UrlTree();\n      this.rawUrlTree = this.currentUrlTree;\n      /**\n       * The id of the currently active page in the router.\n       * Updated to the transition's target id on a successful navigation.\n       *\n       * This is used to track what page the router last activated. When an attempted navigation fails,\n       * the router can then use this to compute how to restore the state back to the previously active\n       * page.\n       */\n      this.currentPageId = 0;\n      this.lastSuccessfulId = -1;\n      this.routerState = createEmptyState(null);\n      this.stateMemento = this.createStateMemento();\n    }\n    getCurrentUrlTree() {\n      return this.currentUrlTree;\n    }\n    getRawUrlTree() {\n      return this.rawUrlTree;\n    }\n    restoredState() {\n      return this.location.getState();\n    }\n    /**\n     * The ɵrouterPageId of whatever page is currently active in the browser history. This is\n     * important for computing the target page id for new navigations because we need to ensure each\n     * page id in the browser history is 1 more than the previous entry.\n     */\n    get browserPageId() {\n      if (this.canceledNavigationResolution !== 'computed') {\n        return this.currentPageId;\n      }\n      return this.restoredState()?.ɵrouterPageId ?? this.currentPageId;\n    }\n    getRouterState() {\n      return this.routerState;\n    }\n    createStateMemento() {\n      return {\n        rawUrlTree: this.rawUrlTree,\n        currentUrlTree: this.currentUrlTree,\n        routerState: this.routerState\n      };\n    }\n    registerNonRouterCurrentEntryChangeListener(listener) {\n      return this.location.subscribe(event => {\n        if (event['type'] === 'popstate') {\n          listener(event['url'], event.state);\n        }\n      });\n    }\n    handleRouterEvent(e, currentTransition) {\n      if (e instanceof NavigationStart) {\n        this.stateMemento = this.createStateMemento();\n      } else if (e instanceof NavigationSkipped) {\n        this.rawUrlTree = currentTransition.initialUrl;\n      } else if (e instanceof RoutesRecognized) {\n        if (this.urlUpdateStrategy === 'eager') {\n          if (!currentTransition.extras.skipLocationChange) {\n            const rawUrl = this.urlHandlingStrategy.merge(currentTransition.finalUrl, currentTransition.initialUrl);\n            this.setBrowserUrl(currentTransition.targetBrowserUrl ?? rawUrl, currentTransition);\n          }\n        }\n      } else if (e instanceof BeforeActivateRoutes) {\n        this.currentUrlTree = currentTransition.finalUrl;\n        this.rawUrlTree = this.urlHandlingStrategy.merge(currentTransition.finalUrl, currentTransition.initialUrl);\n        this.routerState = currentTransition.targetRouterState;\n        if (this.urlUpdateStrategy === 'deferred' && !currentTransition.extras.skipLocationChange) {\n          this.setBrowserUrl(currentTransition.targetBrowserUrl ?? this.rawUrlTree, currentTransition);\n        }\n      } else if (e instanceof NavigationCancel && (e.code === NavigationCancellationCode.GuardRejected || e.code === NavigationCancellationCode.NoDataFromResolver)) {\n        this.restoreHistory(currentTransition);\n      } else if (e instanceof NavigationError) {\n        this.restoreHistory(currentTransition, true);\n      } else if (e instanceof NavigationEnd) {\n        this.lastSuccessfulId = e.id;\n        this.currentPageId = this.browserPageId;\n      }\n    }\n    setBrowserUrl(url, transition) {\n      const path = url instanceof UrlTree ? this.urlSerializer.serialize(url) : url;\n      if (this.location.isCurrentPathEqualTo(path) || !!transition.extras.replaceUrl) {\n        // replacements do not update the target page\n        const currentBrowserPageId = this.browserPageId;\n        const state = {\n          ...transition.extras.state,\n          ...this.generateNgRouterState(transition.id, currentBrowserPageId)\n        };\n        this.location.replaceState(path, '', state);\n      } else {\n        const state = {\n          ...transition.extras.state,\n          ...this.generateNgRouterState(transition.id, this.browserPageId + 1)\n        };\n        this.location.go(path, '', state);\n      }\n    }\n    /**\n     * Performs the necessary rollback action to restore the browser URL to the\n     * state before the transition.\n     */\n    restoreHistory(navigation, restoringFromCaughtError = false) {\n      if (this.canceledNavigationResolution === 'computed') {\n        const currentBrowserPageId = this.browserPageId;\n        const targetPagePosition = this.currentPageId - currentBrowserPageId;\n        if (targetPagePosition !== 0) {\n          this.location.historyGo(targetPagePosition);\n        } else if (this.currentUrlTree === navigation.finalUrl && targetPagePosition === 0) {\n          // We got to the activation stage (where currentUrlTree is set to the navigation's\n          // finalUrl), but we weren't moving anywhere in history (skipLocationChange or replaceUrl).\n          // We still need to reset the router state back to what it was when the navigation started.\n          this.resetState(navigation);\n          this.resetUrlToCurrentUrlTree();\n        } else {\n          // The browser URL and router state was not updated before the navigation cancelled so\n          // there's no restoration needed.\n        }\n      } else if (this.canceledNavigationResolution === 'replace') {\n        // TODO(atscott): It seems like we should _always_ reset the state here. It would be a no-op\n        // for `deferred` navigations that haven't change the internal state yet because guards\n        // reject. For 'eager' navigations, it seems like we also really should reset the state\n        // because the navigation was cancelled. Investigate if this can be done by running TGP.\n        if (restoringFromCaughtError) {\n          this.resetState(navigation);\n        }\n        this.resetUrlToCurrentUrlTree();\n      }\n    }\n    resetState(navigation) {\n      this.routerState = this.stateMemento.routerState;\n      this.currentUrlTree = this.stateMemento.currentUrlTree;\n      // Note here that we use the urlHandlingStrategy to get the reset `rawUrlTree` because it may be\n      // configured to handle only part of the navigation URL. This means we would only want to reset\n      // the part of the navigation handled by the Angular router rather than the whole URL. In\n      // addition, the URLHandlingStrategy may be configured to specifically preserve parts of the URL\n      // when merging, such as the query params so they are not lost on a refresh.\n      this.rawUrlTree = this.urlHandlingStrategy.merge(this.currentUrlTree, navigation.finalUrl ?? this.rawUrlTree);\n    }\n    resetUrlToCurrentUrlTree() {\n      this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree), '', this.generateNgRouterState(this.lastSuccessfulId, this.currentPageId));\n    }\n    generateNgRouterState(navigationId, routerPageId) {\n      if (this.canceledNavigationResolution === 'computed') {\n        return {\n          navigationId,\n          ɵrouterPageId: routerPageId\n        };\n      }\n      return {\n        navigationId\n      };\n    }\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵHistoryStateManager_BaseFactory;\n        return function HistoryStateManager_Factory(t) {\n          return (ɵHistoryStateManager_BaseFactory || (ɵHistoryStateManager_BaseFactory = i0.ɵɵgetInheritedFactory(HistoryStateManager)))(t || HistoryStateManager);\n        };\n      })();\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: HistoryStateManager,\n        factory: HistoryStateManager.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return HistoryStateManager;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar NavigationResult = /*#__PURE__*/function (NavigationResult) {\n  NavigationResult[NavigationResult[\"COMPLETE\"] = 0] = \"COMPLETE\";\n  NavigationResult[NavigationResult[\"FAILED\"] = 1] = \"FAILED\";\n  NavigationResult[NavigationResult[\"REDIRECTING\"] = 2] = \"REDIRECTING\";\n  return NavigationResult;\n}(NavigationResult || {});\n/**\n * Performs the given action once the router finishes its next/current navigation.\n *\n * The navigation is considered complete under the following conditions:\n * - `NavigationCancel` event emits and the code is not `NavigationCancellationCode.Redirect` or\n * `NavigationCancellationCode.SupersededByNewNavigation`. In these cases, the\n * redirecting/superseding navigation must finish.\n * - `NavigationError`, `NavigationEnd`, or `NavigationSkipped` event emits\n */\nfunction afterNextNavigation(router, action) {\n  router.events.pipe(filter(e => e instanceof NavigationEnd || e instanceof NavigationCancel || e instanceof NavigationError || e instanceof NavigationSkipped), map(e => {\n    if (e instanceof NavigationEnd || e instanceof NavigationSkipped) {\n      return NavigationResult.COMPLETE;\n    }\n    const redirecting = e instanceof NavigationCancel ? e.code === NavigationCancellationCode.Redirect || e.code === NavigationCancellationCode.SupersededByNewNavigation : false;\n    return redirecting ? NavigationResult.REDIRECTING : NavigationResult.FAILED;\n  }), filter(result => result !== NavigationResult.REDIRECTING), take(1)).subscribe(() => {\n    action();\n  });\n}\nfunction defaultErrorHandler(error) {\n  throw error;\n}\n/**\n * The equivalent `IsActiveMatchOptions` options for `Router.isActive` is called with `true`\n * (exact = true).\n */\nconst exactMatchOptions = {\n  paths: 'exact',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'exact'\n};\n/**\n * The equivalent `IsActiveMatchOptions` options for `Router.isActive` is called with `false`\n * (exact = false).\n */\nconst subsetMatchOptions = {\n  paths: 'subset',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'subset'\n};\n/**\n * @description\n *\n * A service that provides navigation among views and URL manipulation capabilities.\n *\n * @see {@link Route}\n * @see [Routing and Navigation Guide](guide/routing/common-router-tasks).\n *\n * @ngModule RouterModule\n *\n * @publicApi\n */\nlet Router = /*#__PURE__*/(() => {\n  class Router {\n    get currentUrlTree() {\n      return this.stateManager.getCurrentUrlTree();\n    }\n    get rawUrlTree() {\n      return this.stateManager.getRawUrlTree();\n    }\n    /**\n     * An event stream for routing events.\n     */\n    get events() {\n      // TODO(atscott): This _should_ be events.asObservable(). However, this change requires internal\n      // cleanup: tests are doing `(route.events as Subject<Event>).next(...)`. This isn't\n      // allowed/supported but we still have to fix these or file bugs against the teams before making\n      // the change.\n      return this._events;\n    }\n    /**\n     * The current state of routing in this NgModule.\n     */\n    get routerState() {\n      return this.stateManager.getRouterState();\n    }\n    constructor() {\n      this.disposed = false;\n      this.console = inject(ɵConsole);\n      this.stateManager = inject(StateManager);\n      this.options = inject(ROUTER_CONFIGURATION, {\n        optional: true\n      }) || {};\n      this.pendingTasks = inject(ɵPendingTasks);\n      this.urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n      this.navigationTransitions = inject(NavigationTransitions);\n      this.urlSerializer = inject(UrlSerializer);\n      this.location = inject(Location);\n      this.urlHandlingStrategy = inject(UrlHandlingStrategy);\n      /**\n       * The private `Subject` type for the public events exposed in the getter. This is used internally\n       * to push events to. The separate field allows us to expose separate types in the public API\n       * (i.e., an Observable rather than the Subject).\n       */\n      this._events = new Subject();\n      /**\n       * A handler for navigation errors in this NgModule.\n       *\n       * @deprecated Subscribe to the `Router` events and watch for `NavigationError` instead.\n       *   `provideRouter` has the `withNavigationErrorHandler` feature to make this easier.\n       * @see {@link withNavigationErrorHandler}\n       */\n      this.errorHandler = this.options.errorHandler || defaultErrorHandler;\n      /**\n       * True if at least one navigation event has occurred,\n       * false otherwise.\n       */\n      this.navigated = false;\n      /**\n       * A strategy for re-using routes.\n       *\n       * @deprecated Configure using `providers` instead:\n       *   `{provide: RouteReuseStrategy, useClass: MyStrategy}`.\n       */\n      this.routeReuseStrategy = inject(RouteReuseStrategy);\n      /**\n       * How to handle a navigation request to the current URL.\n       *\n       *\n       * @deprecated Configure this through `provideRouter` or `RouterModule.forRoot` instead.\n       * @see {@link withRouterConfig}\n       * @see {@link provideRouter}\n       * @see {@link RouterModule}\n       */\n      this.onSameUrlNavigation = this.options.onSameUrlNavigation || 'ignore';\n      this.config = inject(ROUTES, {\n        optional: true\n      })?.flat() ?? [];\n      /**\n       * Indicates whether the application has opted in to binding Router data to component inputs.\n       *\n       * This option is enabled by the `withComponentInputBinding` feature of `provideRouter` or\n       * `bindToComponentInputs` in the `ExtraOptions` of `RouterModule.forRoot`.\n       */\n      this.componentInputBindingEnabled = !!inject(INPUT_BINDER, {\n        optional: true\n      });\n      this.eventsSubscription = new Subscription();\n      this.resetConfig(this.config);\n      this.navigationTransitions.setupNavigations(this, this.currentUrlTree, this.routerState).subscribe({\n        error: e => {\n          this.console.warn(ngDevMode ? `Unhandled Navigation Error: ${e}` : e);\n        }\n      });\n      this.subscribeToNavigationEvents();\n    }\n    subscribeToNavigationEvents() {\n      const subscription = this.navigationTransitions.events.subscribe(e => {\n        try {\n          const currentTransition = this.navigationTransitions.currentTransition;\n          const currentNavigation = this.navigationTransitions.currentNavigation;\n          if (currentTransition !== null && currentNavigation !== null) {\n            this.stateManager.handleRouterEvent(e, currentNavigation);\n            if (e instanceof NavigationCancel && e.code !== NavigationCancellationCode.Redirect && e.code !== NavigationCancellationCode.SupersededByNewNavigation) {\n              // It seems weird that `navigated` is set to `true` when the navigation is rejected,\n              // however it's how things were written initially. Investigation would need to be done\n              // to determine if this can be removed.\n              this.navigated = true;\n            } else if (e instanceof NavigationEnd) {\n              this.navigated = true;\n            } else if (e instanceof RedirectRequest) {\n              const opts = e.navigationBehaviorOptions;\n              const mergedTree = this.urlHandlingStrategy.merge(e.url, currentTransition.currentRawUrl);\n              const extras = {\n                browserUrl: currentTransition.extras.browserUrl,\n                info: currentTransition.extras.info,\n                skipLocationChange: currentTransition.extras.skipLocationChange,\n                // The URL is already updated at this point if we have 'eager' URL\n                // updates or if the navigation was triggered by the browser (back\n                // button, URL bar, etc). We want to replace that item in history\n                // if the navigation is rejected.\n                replaceUrl: currentTransition.extras.replaceUrl || this.urlUpdateStrategy === 'eager' || isBrowserTriggeredNavigation(currentTransition.source),\n                // allow developer to override default options with RedirectCommand\n                ...opts\n              };\n              this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras, {\n                resolve: currentTransition.resolve,\n                reject: currentTransition.reject,\n                promise: currentTransition.promise\n              });\n            }\n          }\n          // Note that it's important to have the Router process the events _before_ the event is\n          // pushed through the public observable. This ensures the correct router state is in place\n          // before applications observe the events.\n          if (isPublicRouterEvent(e)) {\n            this._events.next(e);\n          }\n        } catch (e) {\n          this.navigationTransitions.transitionAbortSubject.next(e);\n        }\n      });\n      this.eventsSubscription.add(subscription);\n    }\n    /** @internal */\n    resetRootComponentType(rootComponentType) {\n      // TODO: vsavkin router 4.0 should make the root component set to null\n      // this will simplify the lifecycle of the router.\n      this.routerState.root.component = rootComponentType;\n      this.navigationTransitions.rootComponentType = rootComponentType;\n    }\n    /**\n     * Sets up the location change listener and performs the initial navigation.\n     */\n    initialNavigation() {\n      this.setUpLocationChangeListener();\n      if (!this.navigationTransitions.hasRequestedNavigation) {\n        this.navigateToSyncWithBrowser(this.location.path(true), IMPERATIVE_NAVIGATION, this.stateManager.restoredState());\n      }\n    }\n    /**\n     * Sets up the location change listener. This listener detects navigations triggered from outside\n     * the Router (the browser back/forward buttons, for example) and schedules a corresponding Router\n     * navigation so that the correct events, guards, etc. are triggered.\n     */\n    setUpLocationChangeListener() {\n      // Don't need to use Zone.wrap any more, because zone.js\n      // already patch onPopState, so location change callback will\n      // run into ngZone\n      this.nonRouterCurrentEntryChangeSubscription ??= this.stateManager.registerNonRouterCurrentEntryChangeListener((url, state) => {\n        // The `setTimeout` was added in #12160 and is likely to support Angular/AngularJS\n        // hybrid apps.\n        setTimeout(() => {\n          this.navigateToSyncWithBrowser(url, 'popstate', state);\n        }, 0);\n      });\n    }\n    /**\n     * Schedules a router navigation to synchronize Router state with the browser state.\n     *\n     * This is done as a response to a popstate event and the initial navigation. These\n     * two scenarios represent times when the browser URL/state has been updated and\n     * the Router needs to respond to ensure its internal state matches.\n     */\n    navigateToSyncWithBrowser(url, source, state) {\n      const extras = {\n        replaceUrl: true\n      };\n      // TODO: restoredState should always include the entire state, regardless\n      // of navigationId. This requires a breaking change to update the type on\n      // NavigationStart’s restoredState, which currently requires navigationId\n      // to always be present. The Router used to only restore history state if\n      // a navigationId was present.\n      // The stored navigationId is used by the RouterScroller to retrieve the scroll\n      // position for the page.\n      const restoredState = state?.navigationId ? state : null;\n      // Separate to NavigationStart.restoredState, we must also restore the state to\n      // history.state and generate a new navigationId, since it will be overwritten\n      if (state) {\n        const stateCopy = {\n          ...state\n        };\n        delete stateCopy.navigationId;\n        delete stateCopy.ɵrouterPageId;\n        if (Object.keys(stateCopy).length !== 0) {\n          extras.state = stateCopy;\n        }\n      }\n      const urlTree = this.parseUrl(url);\n      this.scheduleNavigation(urlTree, source, restoredState, extras);\n    }\n    /** The current URL. */\n    get url() {\n      return this.serializeUrl(this.currentUrlTree);\n    }\n    /**\n     * Returns the current `Navigation` object when the router is navigating,\n     * and `null` when idle.\n     */\n    getCurrentNavigation() {\n      return this.navigationTransitions.currentNavigation;\n    }\n    /**\n     * The `Navigation` object of the most recent navigation to succeed and `null` if there\n     *     has not been a successful navigation yet.\n     */\n    get lastSuccessfulNavigation() {\n      return this.navigationTransitions.lastSuccessfulNavigation;\n    }\n    /**\n     * Resets the route configuration used for navigation and generating links.\n     *\n     * @param config The route array for the new configuration.\n     *\n     * @usageNotes\n     *\n     * ```\n     * router.resetConfig([\n     *  { path: 'team/:id', component: TeamCmp, children: [\n     *    { path: 'simple', component: SimpleCmp },\n     *    { path: 'user/:name', component: UserCmp }\n     *  ]}\n     * ]);\n     * ```\n     */\n    resetConfig(config) {\n      (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(config);\n      this.config = config.map(standardizeConfig);\n      this.navigated = false;\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      this.dispose();\n    }\n    /** Disposes of the router. */\n    dispose() {\n      this.navigationTransitions.complete();\n      if (this.nonRouterCurrentEntryChangeSubscription) {\n        this.nonRouterCurrentEntryChangeSubscription.unsubscribe();\n        this.nonRouterCurrentEntryChangeSubscription = undefined;\n      }\n      this.disposed = true;\n      this.eventsSubscription.unsubscribe();\n    }\n    /**\n     * Appends URL segments to the current URL tree to create a new URL tree.\n     *\n     * @param commands An array of URL fragments with which to construct the new URL tree.\n     * If the path is static, can be the literal URL string. For a dynamic path, pass an array of path\n     * segments, followed by the parameters for each segment.\n     * The fragments are applied to the current URL tree or the one provided  in the `relativeTo`\n     * property of the options object, if supplied.\n     * @param navigationExtras Options that control the navigation strategy.\n     * @returns The new URL tree.\n     *\n     * @usageNotes\n     *\n     * ```\n     * // create /team/33/user/11\n     * router.createUrlTree(['/team', 33, 'user', 11]);\n     *\n     * // create /team/33;expand=true/user/11\n     * router.createUrlTree(['/team', 33, {expand: true}, 'user', 11]);\n     *\n     * // you can collapse static segments like this (this works only with the first passed-in value):\n     * router.createUrlTree(['/team/33/user', userId]);\n     *\n     * // If the first segment can contain slashes, and you do not want the router to split it,\n     * // you can do the following:\n     * router.createUrlTree([{segmentPath: '/one/two'}]);\n     *\n     * // create /team/33/(user/11//right:chat)\n     * router.createUrlTree(['/team', 33, {outlets: {primary: 'user/11', right: 'chat'}}]);\n     *\n     * // remove the right secondary node\n     * router.createUrlTree(['/team', 33, {outlets: {primary: 'user/11', right: null}}]);\n     *\n     * // assuming the current url is `/team/33/user/11` and the route points to `user/11`\n     *\n     * // navigate to /team/33/user/11/details\n     * router.createUrlTree(['details'], {relativeTo: route});\n     *\n     * // navigate to /team/33/user/22\n     * router.createUrlTree(['../22'], {relativeTo: route});\n     *\n     * // navigate to /team/44/user/22\n     * router.createUrlTree(['../../team/44/user/22'], {relativeTo: route});\n     *\n     * Note that a value of `null` or `undefined` for `relativeTo` indicates that the\n     * tree should be created relative to the root.\n     * ```\n     */\n    createUrlTree(commands, navigationExtras = {}) {\n      const {\n        relativeTo,\n        queryParams,\n        fragment,\n        queryParamsHandling,\n        preserveFragment\n      } = navigationExtras;\n      const f = preserveFragment ? this.currentUrlTree.fragment : fragment;\n      let q = null;\n      switch (queryParamsHandling) {\n        case 'merge':\n          q = {\n            ...this.currentUrlTree.queryParams,\n            ...queryParams\n          };\n          break;\n        case 'preserve':\n          q = this.currentUrlTree.queryParams;\n          break;\n        default:\n          q = queryParams || null;\n      }\n      if (q !== null) {\n        q = this.removeEmptyProps(q);\n      }\n      let relativeToUrlSegmentGroup;\n      try {\n        const relativeToSnapshot = relativeTo ? relativeTo.snapshot : this.routerState.snapshot.root;\n        relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeToSnapshot);\n      } catch (e) {\n        // This is strictly for backwards compatibility with tests that create\n        // invalid `ActivatedRoute` mocks.\n        // Note: the difference between having this fallback for invalid `ActivatedRoute` setups and\n        // just throwing is ~500 test failures. Fixing all of those tests by hand is not feasible at\n        // the moment.\n        if (typeof commands[0] !== 'string' || commands[0][0] !== '/') {\n          // Navigations that were absolute in the old way of creating UrlTrees\n          // would still work because they wouldn't attempt to match the\n          // segments in the `ActivatedRoute` to the `currentUrlTree` but\n          // instead just replace the root segment with the navigation result.\n          // Non-absolute navigations would fail to apply the commands because\n          // the logic could not find the segment to replace (so they'd act like there were no\n          // commands).\n          commands = [];\n        }\n        relativeToUrlSegmentGroup = this.currentUrlTree.root;\n      }\n      return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, q, f ?? null);\n    }\n    /**\n     * Navigates to a view using an absolute route path.\n     *\n     * @param url An absolute path for a defined route. The function does not apply any delta to the\n     *     current URL.\n     * @param extras An object containing properties that modify the navigation strategy.\n     *\n     * @returns A Promise that resolves to 'true' when navigation succeeds,\n     * to 'false' when navigation fails, or is rejected on error.\n     *\n     * @usageNotes\n     *\n     * The following calls request navigation to an absolute path.\n     *\n     * ```\n     * router.navigateByUrl(\"/team/33/user/11\");\n     *\n     * // Navigate without updating the URL\n     * router.navigateByUrl(\"/team/33/user/11\", { skipLocationChange: true });\n     * ```\n     *\n     * @see [Routing and Navigation guide](guide/routing/common-router-tasks)\n     *\n     */\n    navigateByUrl(url, extras = {\n      skipLocationChange: false\n    }) {\n      const urlTree = isUrlTree(url) ? url : this.parseUrl(url);\n      const mergedTree = this.urlHandlingStrategy.merge(urlTree, this.rawUrlTree);\n      return this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras);\n    }\n    /**\n     * Navigate based on the provided array of commands and a starting point.\n     * If no starting route is provided, the navigation is absolute.\n     *\n     * @param commands An array of URL fragments with which to construct the target URL.\n     * If the path is static, can be the literal URL string. For a dynamic path, pass an array of path\n     * segments, followed by the parameters for each segment.\n     * The fragments are applied to the current URL or the one provided  in the `relativeTo` property\n     * of the options object, if supplied.\n     * @param extras An options object that determines how the URL should be constructed or\n     *     interpreted.\n     *\n     * @returns A Promise that resolves to `true` when navigation succeeds, or `false` when navigation\n     *     fails. The Promise is rejected when an error occurs if `resolveNavigationPromiseOnError` is\n     * not `true`.\n     *\n     * @usageNotes\n     *\n     * The following calls request navigation to a dynamic route path relative to the current URL.\n     *\n     * ```\n     * router.navigate(['team', 33, 'user', 11], {relativeTo: route});\n     *\n     * // Navigate without updating the URL, overriding the default behavior\n     * router.navigate(['team', 33, 'user', 11], {relativeTo: route, skipLocationChange: true});\n     * ```\n     *\n     * @see [Routing and Navigation guide](guide/routing/common-router-tasks)\n     *\n     */\n    navigate(commands, extras = {\n      skipLocationChange: false\n    }) {\n      validateCommands(commands);\n      return this.navigateByUrl(this.createUrlTree(commands, extras), extras);\n    }\n    /** Serializes a `UrlTree` into a string */\n    serializeUrl(url) {\n      return this.urlSerializer.serialize(url);\n    }\n    /** Parses a string into a `UrlTree` */\n    parseUrl(url) {\n      try {\n        return this.urlSerializer.parse(url);\n      } catch {\n        return this.urlSerializer.parse('/');\n      }\n    }\n    isActive(url, matchOptions) {\n      let options;\n      if (matchOptions === true) {\n        options = {\n          ...exactMatchOptions\n        };\n      } else if (matchOptions === false) {\n        options = {\n          ...subsetMatchOptions\n        };\n      } else {\n        options = matchOptions;\n      }\n      if (isUrlTree(url)) {\n        return containsTree(this.currentUrlTree, url, options);\n      }\n      const urlTree = this.parseUrl(url);\n      return containsTree(this.currentUrlTree, urlTree, options);\n    }\n    removeEmptyProps(params) {\n      return Object.entries(params).reduce((result, [key, value]) => {\n        if (value !== null && value !== undefined) {\n          result[key] = value;\n        }\n        return result;\n      }, {});\n    }\n    scheduleNavigation(rawUrl, source, restoredState, extras, priorPromise) {\n      if (this.disposed) {\n        return Promise.resolve(false);\n      }\n      let resolve;\n      let reject;\n      let promise;\n      if (priorPromise) {\n        resolve = priorPromise.resolve;\n        reject = priorPromise.reject;\n        promise = priorPromise.promise;\n      } else {\n        promise = new Promise((res, rej) => {\n          resolve = res;\n          reject = rej;\n        });\n      }\n      // Indicate that the navigation is happening.\n      const taskId = this.pendingTasks.add();\n      afterNextNavigation(this, () => {\n        // Remove pending task in a microtask to allow for cancelled\n        // initial navigations and redirects within the same task.\n        queueMicrotask(() => this.pendingTasks.remove(taskId));\n      });\n      this.navigationTransitions.handleNavigationRequest({\n        source,\n        restoredState,\n        currentUrlTree: this.currentUrlTree,\n        currentRawUrl: this.currentUrlTree,\n        rawUrl,\n        extras,\n        resolve: resolve,\n        reject: reject,\n        promise,\n        currentSnapshot: this.routerState.snapshot,\n        currentRouterState: this.routerState\n      });\n      // Make sure that the error is propagated even though `processNavigations` catch\n      // handler does not rethrow\n      return promise.catch(e => {\n        return Promise.reject(e);\n      });\n    }\n    static {\n      this.ɵfac = function Router_Factory(t) {\n        return new (t || Router)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: Router,\n        factory: Router.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return Router;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction validateCommands(commands) {\n  for (let i = 0; i < commands.length; i++) {\n    const cmd = commands[i];\n    if (cmd == null) {\n      throw new ɵRuntimeError(4008 /* RuntimeErrorCode.NULLISH_COMMAND */, (typeof ngDevMode === 'undefined' || ngDevMode) && `The requested path contains ${cmd} segment at index ${i}`);\n    }\n  }\n}\nfunction isPublicRouterEvent(e) {\n  return !(e instanceof BeforeActivateRoutes) && !(e instanceof RedirectRequest);\n}\n\n/**\n * @description\n *\n * When applied to an element in a template, makes that element a link\n * that initiates navigation to a route. Navigation opens one or more routed components\n * in one or more `<router-outlet>` locations on the page.\n *\n * Given a route configuration `[{ path: 'user/:name', component: UserCmp }]`,\n * the following creates a static link to the route:\n * `<a routerLink=\"/user/bob\">link to user component</a>`\n *\n * You can use dynamic values to generate the link.\n * For a dynamic link, pass an array of path segments,\n * followed by the params for each segment.\n * For example, `['/team', teamId, 'user', userName, {details: true}]`\n * generates a link to `/team/11/user/bob;details=true`.\n *\n * Multiple static segments can be merged into one term and combined with dynamic segments.\n * For example, `['/team/11/user', userName, {details: true}]`\n *\n * The input that you provide to the link is treated as a delta to the current URL.\n * For instance, suppose the current URL is `/user/(box//aux:team)`.\n * The link `<a [routerLink]=\"['/user/jim']\">Jim</a>` creates the URL\n * `/user/(jim//aux:team)`.\n * See {@link Router#createUrlTree} for more information.\n *\n * @usageNotes\n *\n * You can use absolute or relative paths in a link, set query parameters,\n * control how parameters are handled, and keep a history of navigation states.\n *\n * ### Relative link paths\n *\n * The first segment name can be prepended with `/`, `./`, or `../`.\n * * If the first segment begins with `/`, the router looks up the route from the root of the\n *   app.\n * * If the first segment begins with `./`, or doesn't begin with a slash, the router\n *   looks in the children of the current activated route.\n * * If the first segment begins with `../`, the router goes up one level in the route tree.\n *\n * ### Setting and handling query params and fragments\n *\n * The following link adds a query parameter and a fragment to the generated URL:\n *\n * ```\n * <a [routerLink]=\"['/user/bob']\" [queryParams]=\"{debug: true}\" fragment=\"education\">\n *   link to user component\n * </a>\n * ```\n * By default, the directive constructs the new URL using the given query parameters.\n * The example generates the link: `/user/bob?debug=true#education`.\n *\n * You can instruct the directive to handle query parameters differently\n * by specifying the `queryParamsHandling` option in the link.\n * Allowed values are:\n *\n *  - `'merge'`: Merge the given `queryParams` into the current query params.\n *  - `'preserve'`: Preserve the current query params.\n *\n * For example:\n *\n * ```\n * <a [routerLink]=\"['/user/bob']\" [queryParams]=\"{debug: true}\" queryParamsHandling=\"merge\">\n *   link to user component\n * </a>\n * ```\n *\n * `queryParams`, `fragment`, `queryParamsHandling`, `preserveFragment`, and `relativeTo`\n * cannot be used when the `routerLink` input is a `UrlTree`.\n *\n * See {@link UrlCreationOptions#queryParamsHandling}.\n *\n * ### Preserving navigation history\n *\n * You can provide a `state` value to be persisted to the browser's\n * [`History.state` property](https://developer.mozilla.org/en-US/docs/Web/API/History#Properties).\n * For example:\n *\n * ```\n * <a [routerLink]=\"['/user/bob']\" [state]=\"{tracingId: 123}\">\n *   link to user component\n * </a>\n * ```\n *\n * Use {@link Router#getCurrentNavigation} to retrieve a saved\n * navigation-state value. For example, to capture the `tracingId` during the `NavigationStart`\n * event:\n *\n * ```\n * // Get NavigationStart events\n * router.events.pipe(filter(e => e instanceof NavigationStart)).subscribe(e => {\n *   const navigation = router.getCurrentNavigation();\n *   tracingService.trace({id: navigation.extras.state.tracingId});\n * });\n * ```\n *\n * @ngModule RouterModule\n *\n * @publicApi\n */\nlet RouterLink = /*#__PURE__*/(() => {\n  class RouterLink {\n    constructor(router, route, tabIndexAttribute, renderer, el, locationStrategy) {\n      this.router = router;\n      this.route = route;\n      this.tabIndexAttribute = tabIndexAttribute;\n      this.renderer = renderer;\n      this.el = el;\n      this.locationStrategy = locationStrategy;\n      /**\n       * Represents an `href` attribute value applied to a host element,\n       * when a host element is `<a>`. For other tags, the value is `null`.\n       */\n      this.href = null;\n      /** @internal */\n      this.onChanges = new Subject();\n      /**\n       * Passed to {@link Router#createUrlTree} as part of the\n       * `UrlCreationOptions`.\n       * @see {@link UrlCreationOptions#preserveFragment}\n       * @see {@link Router#createUrlTree}\n       */\n      this.preserveFragment = false;\n      /**\n       * Passed to {@link Router#navigateByUrl} as part of the\n       * `NavigationBehaviorOptions`.\n       * @see {@link NavigationBehaviorOptions#skipLocationChange}\n       * @see {@link Router#navigateByUrl}\n       */\n      this.skipLocationChange = false;\n      /**\n       * Passed to {@link Router#navigateByUrl} as part of the\n       * `NavigationBehaviorOptions`.\n       * @see {@link NavigationBehaviorOptions#replaceUrl}\n       * @see {@link Router#navigateByUrl}\n       */\n      this.replaceUrl = false;\n      this.routerLinkInput = null;\n      const tagName = el.nativeElement.tagName?.toLowerCase();\n      this.isAnchorElement = tagName === 'a' || tagName === 'area';\n      if (this.isAnchorElement) {\n        this.subscription = router.events.subscribe(s => {\n          if (s instanceof NavigationEnd) {\n            this.updateHref();\n          }\n        });\n      } else {\n        this.setTabIndexIfNotOnNativeEl('0');\n      }\n    }\n    /**\n     * Modifies the tab index if there was not a tabindex attribute on the element during\n     * instantiation.\n     */\n    setTabIndexIfNotOnNativeEl(newTabIndex) {\n      if (this.tabIndexAttribute != null /* both `null` and `undefined` */ || this.isAnchorElement) {\n        return;\n      }\n      this.applyAttributeValue('tabindex', newTabIndex);\n    }\n    /** @nodoc */\n    // TODO(atscott): Remove changes parameter in major version as a breaking change.\n    ngOnChanges(changes) {\n      if (ngDevMode && isUrlTree(this.routerLinkInput) && (this.fragment !== undefined || this.queryParams || this.queryParamsHandling || this.preserveFragment || this.relativeTo)) {\n        throw new ɵRuntimeError(4016 /* RuntimeErrorCode.INVALID_ROUTER_LINK_INPUTS */, 'Cannot configure queryParams or fragment when using a UrlTree as the routerLink input value.');\n      }\n      if (this.isAnchorElement) {\n        this.updateHref();\n      }\n      // This is subscribed to by `RouterLinkActive` so that it knows to update when there are changes\n      // to the RouterLinks it's tracking.\n      this.onChanges.next(this);\n    }\n    /**\n     * Commands to pass to {@link Router#createUrlTree} or a `UrlTree`.\n     *   - **array**: commands to pass to {@link Router#createUrlTree}.\n     *   - **string**: shorthand for array of commands with just the string, i.e. `['/route']`\n     *   - **UrlTree**: a `UrlTree` for this link rather than creating one from the commands\n     *     and other inputs that correspond to properties of `UrlCreationOptions`.\n     *   - **null|undefined**: effectively disables the `routerLink`\n     * @see {@link Router#createUrlTree}\n     */\n    set routerLink(commandsOrUrlTree) {\n      if (commandsOrUrlTree == null) {\n        this.routerLinkInput = null;\n        this.setTabIndexIfNotOnNativeEl(null);\n      } else {\n        if (isUrlTree(commandsOrUrlTree)) {\n          this.routerLinkInput = commandsOrUrlTree;\n        } else {\n          this.routerLinkInput = Array.isArray(commandsOrUrlTree) ? commandsOrUrlTree : [commandsOrUrlTree];\n        }\n        this.setTabIndexIfNotOnNativeEl('0');\n      }\n    }\n    /** @nodoc */\n    onClick(button, ctrlKey, shiftKey, altKey, metaKey) {\n      const urlTree = this.urlTree;\n      if (urlTree === null) {\n        return true;\n      }\n      if (this.isAnchorElement) {\n        if (button !== 0 || ctrlKey || shiftKey || altKey || metaKey) {\n          return true;\n        }\n        if (typeof this.target === 'string' && this.target != '_self') {\n          return true;\n        }\n      }\n      const extras = {\n        skipLocationChange: this.skipLocationChange,\n        replaceUrl: this.replaceUrl,\n        state: this.state,\n        info: this.info\n      };\n      this.router.navigateByUrl(urlTree, extras);\n      // Return `false` for `<a>` elements to prevent default action\n      // and cancel the native behavior, since the navigation is handled\n      // by the Router.\n      return !this.isAnchorElement;\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      this.subscription?.unsubscribe();\n    }\n    updateHref() {\n      const urlTree = this.urlTree;\n      this.href = urlTree !== null && this.locationStrategy ? this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(urlTree)) : null;\n      const sanitizedValue = this.href === null ? null :\n      // This class represents a directive that can be added to both `<a>` elements,\n      // as well as other elements. As a result, we can't define security context at\n      // compile time. So the security context is deferred to runtime.\n      // The `ɵɵsanitizeUrlOrResourceUrl` selects the necessary sanitizer function\n      // based on the tag and property names. The logic mimics the one from\n      // `packages/compiler/src/schema/dom_security_schema.ts`, which is used at compile time.\n      //\n      // Note: we should investigate whether we can switch to using `@HostBinding('attr.href')`\n      // instead of applying a value via a renderer, after a final merge of the\n      // `RouterLinkWithHref` directive.\n      ɵɵsanitizeUrlOrResourceUrl(this.href, this.el.nativeElement.tagName.toLowerCase(), 'href');\n      this.applyAttributeValue('href', sanitizedValue);\n    }\n    applyAttributeValue(attrName, attrValue) {\n      const renderer = this.renderer;\n      const nativeElement = this.el.nativeElement;\n      if (attrValue !== null) {\n        renderer.setAttribute(nativeElement, attrName, attrValue);\n      } else {\n        renderer.removeAttribute(nativeElement, attrName);\n      }\n    }\n    get urlTree() {\n      if (this.routerLinkInput === null) {\n        return null;\n      } else if (isUrlTree(this.routerLinkInput)) {\n        return this.routerLinkInput;\n      }\n      return this.router.createUrlTree(this.routerLinkInput, {\n        // If the `relativeTo` input is not defined, we want to use `this.route` by default.\n        // Otherwise, we should use the value provided by the user in the input.\n        relativeTo: this.relativeTo !== undefined ? this.relativeTo : this.route,\n        queryParams: this.queryParams,\n        fragment: this.fragment,\n        queryParamsHandling: this.queryParamsHandling,\n        preserveFragment: this.preserveFragment\n      });\n    }\n    static {\n      this.ɵfac = function RouterLink_Factory(t) {\n        return new (t || RouterLink)(i0.ɵɵdirectiveInject(Router), i0.ɵɵdirectiveInject(ActivatedRoute), i0.ɵɵinjectAttribute('tabindex'), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i3.LocationStrategy));\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: RouterLink,\n        selectors: [[\"\", \"routerLink\", \"\"]],\n        hostVars: 1,\n        hostBindings: function RouterLink_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"click\", function RouterLink_click_HostBindingHandler($event) {\n              return ctx.onClick($event.button, $event.ctrlKey, $event.shiftKey, $event.altKey, $event.metaKey);\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵattribute(\"target\", ctx.target);\n          }\n        },\n        inputs: {\n          target: \"target\",\n          queryParams: \"queryParams\",\n          fragment: \"fragment\",\n          queryParamsHandling: \"queryParamsHandling\",\n          state: \"state\",\n          info: \"info\",\n          relativeTo: \"relativeTo\",\n          preserveFragment: [2, \"preserveFragment\", \"preserveFragment\", booleanAttribute],\n          skipLocationChange: [2, \"skipLocationChange\", \"skipLocationChange\", booleanAttribute],\n          replaceUrl: [2, \"replaceUrl\", \"replaceUrl\", booleanAttribute],\n          routerLink: \"routerLink\"\n        },\n        standalone: true,\n        features: [i0.ɵɵInputTransformsFeature, i0.ɵɵNgOnChangesFeature]\n      });\n    }\n  }\n  return RouterLink;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n *\n * @description\n *\n * Tracks whether the linked route of an element is currently active, and allows you\n * to specify one or more CSS classes to add to the element when the linked route\n * is active.\n *\n * Use this directive to create a visual distinction for elements associated with an active route.\n * For example, the following code highlights the word \"Bob\" when the router\n * activates the associated route:\n *\n * ```\n * <a routerLink=\"/user/bob\" routerLinkActive=\"active-link\">Bob</a>\n * ```\n *\n * Whenever the URL is either '/user' or '/user/bob', the \"active-link\" class is\n * added to the anchor tag. If the URL changes, the class is removed.\n *\n * You can set more than one class using a space-separated string or an array.\n * For example:\n *\n * ```\n * <a routerLink=\"/user/bob\" routerLinkActive=\"class1 class2\">Bob</a>\n * <a routerLink=\"/user/bob\" [routerLinkActive]=\"['class1', 'class2']\">Bob</a>\n * ```\n *\n * To add the classes only when the URL matches the link exactly, add the option `exact: true`:\n *\n * ```\n * <a routerLink=\"/user/bob\" routerLinkActive=\"active-link\" [routerLinkActiveOptions]=\"{exact:\n * true}\">Bob</a>\n * ```\n *\n * To directly check the `isActive` status of the link, assign the `RouterLinkActive`\n * instance to a template variable.\n * For example, the following checks the status without assigning any CSS classes:\n *\n * ```\n * <a routerLink=\"/user/bob\" routerLinkActive #rla=\"routerLinkActive\">\n *   Bob {{ rla.isActive ? '(already open)' : ''}}\n * </a>\n * ```\n *\n * You can apply the `RouterLinkActive` directive to an ancestor of linked elements.\n * For example, the following sets the active-link class on the `<div>`  parent tag\n * when the URL is either '/user/jim' or '/user/bob'.\n *\n * ```\n * <div routerLinkActive=\"active-link\" [routerLinkActiveOptions]=\"{exact: true}\">\n *   <a routerLink=\"/user/jim\">Jim</a>\n *   <a routerLink=\"/user/bob\">Bob</a>\n * </div>\n * ```\n *\n * The `RouterLinkActive` directive can also be used to set the aria-current attribute\n * to provide an alternative distinction for active elements to visually impaired users.\n *\n * For example, the following code adds the 'active' class to the Home Page link when it is\n * indeed active and in such case also sets its aria-current attribute to 'page':\n *\n * ```\n * <a routerLink=\"/\" routerLinkActive=\"active\" ariaCurrentWhenActive=\"page\">Home Page</a>\n * ```\n *\n * @ngModule RouterModule\n *\n * @publicApi\n */\nlet RouterLinkActive = /*#__PURE__*/(() => {\n  class RouterLinkActive {\n    get isActive() {\n      return this._isActive;\n    }\n    constructor(router, element, renderer, cdr, link) {\n      this.router = router;\n      this.element = element;\n      this.renderer = renderer;\n      this.cdr = cdr;\n      this.link = link;\n      this.classes = [];\n      this._isActive = false;\n      /**\n       * Options to configure how to determine if the router link is active.\n       *\n       * These options are passed to the `Router.isActive()` function.\n       *\n       * @see {@link Router#isActive}\n       */\n      this.routerLinkActiveOptions = {\n        exact: false\n      };\n      /**\n       *\n       * You can use the output `isActiveChange` to get notified each time the link becomes\n       * active or inactive.\n       *\n       * Emits:\n       * true  -> Route is active\n       * false -> Route is inactive\n       *\n       * ```\n       * <a\n       *  routerLink=\"/user/bob\"\n       *  routerLinkActive=\"active-link\"\n       *  (isActiveChange)=\"this.onRouterLinkActive($event)\">Bob</a>\n       * ```\n       */\n      this.isActiveChange = new EventEmitter();\n      this.routerEventsSubscription = router.events.subscribe(s => {\n        if (s instanceof NavigationEnd) {\n          this.update();\n        }\n      });\n    }\n    /** @nodoc */\n    ngAfterContentInit() {\n      // `of(null)` is used to force subscribe body to execute once immediately (like `startWith`).\n      of(this.links.changes, of(null)).pipe(mergeAll()).subscribe(_ => {\n        this.update();\n        this.subscribeToEachLinkOnChanges();\n      });\n    }\n    subscribeToEachLinkOnChanges() {\n      this.linkInputChangesSubscription?.unsubscribe();\n      const allLinkChanges = [...this.links.toArray(), this.link].filter(link => !!link).map(link => link.onChanges);\n      this.linkInputChangesSubscription = from(allLinkChanges).pipe(mergeAll()).subscribe(link => {\n        if (this._isActive !== this.isLinkActive(this.router)(link)) {\n          this.update();\n        }\n      });\n    }\n    set routerLinkActive(data) {\n      const classes = Array.isArray(data) ? data : data.split(' ');\n      this.classes = classes.filter(c => !!c);\n    }\n    /** @nodoc */\n    ngOnChanges(changes) {\n      this.update();\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      this.routerEventsSubscription.unsubscribe();\n      this.linkInputChangesSubscription?.unsubscribe();\n    }\n    update() {\n      if (!this.links || !this.router.navigated) return;\n      queueMicrotask(() => {\n        const hasActiveLinks = this.hasActiveLinks();\n        this.classes.forEach(c => {\n          if (hasActiveLinks) {\n            this.renderer.addClass(this.element.nativeElement, c);\n          } else {\n            this.renderer.removeClass(this.element.nativeElement, c);\n          }\n        });\n        if (hasActiveLinks && this.ariaCurrentWhenActive !== undefined) {\n          this.renderer.setAttribute(this.element.nativeElement, 'aria-current', this.ariaCurrentWhenActive.toString());\n        } else {\n          this.renderer.removeAttribute(this.element.nativeElement, 'aria-current');\n        }\n        // Only emit change if the active state changed.\n        if (this._isActive !== hasActiveLinks) {\n          this._isActive = hasActiveLinks;\n          this.cdr.markForCheck();\n          // Emit on isActiveChange after classes are updated\n          this.isActiveChange.emit(hasActiveLinks);\n        }\n      });\n    }\n    isLinkActive(router) {\n      const options = isActiveMatchOptions(this.routerLinkActiveOptions) ? this.routerLinkActiveOptions :\n      // While the types should disallow `undefined` here, it's possible without strict inputs\n      this.routerLinkActiveOptions.exact || false;\n      return link => {\n        const urlTree = link.urlTree;\n        return urlTree ? router.isActive(urlTree, options) : false;\n      };\n    }\n    hasActiveLinks() {\n      const isActiveCheckFn = this.isLinkActive(this.router);\n      return this.link && isActiveCheckFn(this.link) || this.links.some(isActiveCheckFn);\n    }\n    static {\n      this.ɵfac = function RouterLinkActive_Factory(t) {\n        return new (t || RouterLinkActive)(i0.ɵɵdirectiveInject(Router), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(RouterLink, 8));\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: RouterLinkActive,\n        selectors: [[\"\", \"routerLinkActive\", \"\"]],\n        contentQueries: function RouterLinkActive_ContentQueries(rf, ctx, dirIndex) {\n          if (rf & 1) {\n            i0.ɵɵcontentQuery(dirIndex, RouterLink, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.links = _t);\n          }\n        },\n        inputs: {\n          routerLinkActiveOptions: \"routerLinkActiveOptions\",\n          ariaCurrentWhenActive: \"ariaCurrentWhenActive\",\n          routerLinkActive: \"routerLinkActive\"\n        },\n        outputs: {\n          isActiveChange: \"isActiveChange\"\n        },\n        exportAs: [\"routerLinkActive\"],\n        standalone: true,\n        features: [i0.ɵɵNgOnChangesFeature]\n      });\n    }\n  }\n  return RouterLinkActive;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use instead of `'paths' in options` to be compatible with property renaming\n */\nfunction isActiveMatchOptions(options) {\n  return !!options.paths;\n}\n\n/**\n * @description\n *\n * Provides a preloading strategy.\n *\n * @publicApi\n */\nclass PreloadingStrategy {}\n/**\n * @description\n *\n * Provides a preloading strategy that preloads all modules as quickly as possible.\n *\n * ```\n * RouterModule.forRoot(ROUTES, {preloadingStrategy: PreloadAllModules})\n * ```\n *\n * @publicApi\n */\nlet PreloadAllModules = /*#__PURE__*/(() => {\n  class PreloadAllModules {\n    preload(route, fn) {\n      return fn().pipe(catchError(() => of(null)));\n    }\n    static {\n      this.ɵfac = function PreloadAllModules_Factory(t) {\n        return new (t || PreloadAllModules)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: PreloadAllModules,\n        factory: PreloadAllModules.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return PreloadAllModules;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @description\n *\n * Provides a preloading strategy that does not preload any modules.\n *\n * This strategy is enabled by default.\n *\n * @publicApi\n */\nlet NoPreloading = /*#__PURE__*/(() => {\n  class NoPreloading {\n    preload(route, fn) {\n      return of(null);\n    }\n    static {\n      this.ɵfac = function NoPreloading_Factory(t) {\n        return new (t || NoPreloading)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: NoPreloading,\n        factory: NoPreloading.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return NoPreloading;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * The preloader optimistically loads all router configurations to\n * make navigations into lazily-loaded sections of the application faster.\n *\n * The preloader runs in the background. When the router bootstraps, the preloader\n * starts listening to all navigation events. After every such event, the preloader\n * will check if any configurations can be loaded lazily.\n *\n * If a route is protected by `canLoad` guards, the preloaded will not load it.\n *\n * @publicApi\n */\nlet RouterPreloader = /*#__PURE__*/(() => {\n  class RouterPreloader {\n    constructor(router, compiler, injector, preloadingStrategy, loader) {\n      this.router = router;\n      this.injector = injector;\n      this.preloadingStrategy = preloadingStrategy;\n      this.loader = loader;\n    }\n    setUpPreloading() {\n      this.subscription = this.router.events.pipe(filter(e => e instanceof NavigationEnd), concatMap(() => this.preload())).subscribe(() => {});\n    }\n    preload() {\n      return this.processRoutes(this.injector, this.router.config);\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n    processRoutes(injector, routes) {\n      const res = [];\n      for (const route of routes) {\n        if (route.providers && !route._injector) {\n          route._injector = createEnvironmentInjector(route.providers, injector, `Route: ${route.path}`);\n        }\n        const injectorForCurrentRoute = route._injector ?? injector;\n        const injectorForChildren = route._loadedInjector ?? injectorForCurrentRoute;\n        // Note that `canLoad` is only checked as a condition that prevents `loadChildren` and not\n        // `loadComponent`. `canLoad` guards only block loading of child routes by design. This\n        // happens as a consequence of needing to descend into children for route matching immediately\n        // while component loading is deferred until route activation. Because `canLoad` guards can\n        // have side effects, we cannot execute them here so we instead skip preloading altogether\n        // when present. Lastly, it remains to be decided whether `canLoad` should behave this way\n        // at all. Code splitting and lazy loading is separate from client-side authorization checks\n        // and should not be used as a security measure to prevent loading of code.\n        if (route.loadChildren && !route._loadedRoutes && route.canLoad === undefined || route.loadComponent && !route._loadedComponent) {\n          res.push(this.preloadConfig(injectorForCurrentRoute, route));\n        }\n        if (route.children || route._loadedRoutes) {\n          res.push(this.processRoutes(injectorForChildren, route.children ?? route._loadedRoutes));\n        }\n      }\n      return from(res).pipe(mergeAll());\n    }\n    preloadConfig(injector, route) {\n      return this.preloadingStrategy.preload(route, () => {\n        let loadedChildren$;\n        if (route.loadChildren && route.canLoad === undefined) {\n          loadedChildren$ = this.loader.loadChildren(injector, route);\n        } else {\n          loadedChildren$ = of(null);\n        }\n        const recursiveLoadChildren$ = loadedChildren$.pipe(mergeMap(config => {\n          if (config === null) {\n            return of(void 0);\n          }\n          route._loadedRoutes = config.routes;\n          route._loadedInjector = config.injector;\n          // If the loaded config was a module, use that as the module/module injector going\n          // forward. Otherwise, continue using the current module/module injector.\n          return this.processRoutes(config.injector ?? injector, config.routes);\n        }));\n        if (route.loadComponent && !route._loadedComponent) {\n          const loadComponent$ = this.loader.loadComponent(route);\n          return from([recursiveLoadChildren$, loadComponent$]).pipe(mergeAll());\n        } else {\n          return recursiveLoadChildren$;\n        }\n      });\n    }\n    static {\n      this.ɵfac = function RouterPreloader_Factory(t) {\n        return new (t || RouterPreloader)(i0.ɵɵinject(Router), i0.ɵɵinject(i0.Compiler), i0.ɵɵinject(i0.EnvironmentInjector), i0.ɵɵinject(PreloadingStrategy), i0.ɵɵinject(RouterConfigLoader));\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RouterPreloader,\n        factory: RouterPreloader.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return RouterPreloader;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst ROUTER_SCROLLER = /*#__PURE__*/new InjectionToken('');\nlet RouterScroller = /*#__PURE__*/(() => {\n  class RouterScroller {\n    /** @nodoc */\n    constructor(urlSerializer, transitions, viewportScroller, zone, options = {}) {\n      this.urlSerializer = urlSerializer;\n      this.transitions = transitions;\n      this.viewportScroller = viewportScroller;\n      this.zone = zone;\n      this.options = options;\n      this.lastId = 0;\n      this.lastSource = 'imperative';\n      this.restoredId = 0;\n      this.store = {};\n      this.environmentInjector = inject(EnvironmentInjector);\n      // Default both options to 'disabled'\n      options.scrollPositionRestoration ||= 'disabled';\n      options.anchorScrolling ||= 'disabled';\n    }\n    init() {\n      // we want to disable the automatic scrolling because having two places\n      // responsible for scrolling results race conditions, especially given\n      // that browser don't implement this behavior consistently\n      if (this.options.scrollPositionRestoration !== 'disabled') {\n        this.viewportScroller.setHistoryScrollRestoration('manual');\n      }\n      this.routerEventsSubscription = this.createScrollEvents();\n      this.scrollEventsSubscription = this.consumeScrollEvents();\n    }\n    createScrollEvents() {\n      return this.transitions.events.subscribe(e => {\n        if (e instanceof NavigationStart) {\n          // store the scroll position of the current stable navigations.\n          this.store[this.lastId] = this.viewportScroller.getScrollPosition();\n          this.lastSource = e.navigationTrigger;\n          this.restoredId = e.restoredState ? e.restoredState.navigationId : 0;\n        } else if (e instanceof NavigationEnd) {\n          this.lastId = e.id;\n          this.scheduleScrollEvent(e, this.urlSerializer.parse(e.urlAfterRedirects).fragment);\n        } else if (e instanceof NavigationSkipped && e.code === NavigationSkippedCode.IgnoredSameUrlNavigation) {\n          this.lastSource = undefined;\n          this.restoredId = 0;\n          this.scheduleScrollEvent(e, this.urlSerializer.parse(e.url).fragment);\n        }\n      });\n    }\n    consumeScrollEvents() {\n      return this.transitions.events.subscribe(e => {\n        if (!(e instanceof Scroll)) return;\n        // a popstate event. The pop state event will always ignore anchor scrolling.\n        if (e.position) {\n          if (this.options.scrollPositionRestoration === 'top') {\n            this.viewportScroller.scrollToPosition([0, 0]);\n          } else if (this.options.scrollPositionRestoration === 'enabled') {\n            this.viewportScroller.scrollToPosition(e.position);\n          }\n          // imperative navigation \"forward\"\n        } else {\n          if (e.anchor && this.options.anchorScrolling === 'enabled') {\n            this.viewportScroller.scrollToAnchor(e.anchor);\n          } else if (this.options.scrollPositionRestoration !== 'disabled') {\n            this.viewportScroller.scrollToPosition([0, 0]);\n          }\n        }\n      });\n    }\n    scheduleScrollEvent(routerEvent, anchor) {\n      this.zone.runOutsideAngular(async () => {\n        // The scroll event needs to be delayed until after change detection. Otherwise we may\n        // attempt to restore the scroll position before the router outlet has fully rendered the\n        // component by executing its update block of the template function.\n        await new Promise(resolve => {\n          // TODO(atscott): Attempt to remove the setTimeout in a future PR.\n          setTimeout(() => {\n            resolve();\n          });\n          afterNextRender(() => {\n            resolve();\n          }, {\n            injector: this.environmentInjector\n          });\n        });\n        this.zone.run(() => {\n          this.transitions.events.next(new Scroll(routerEvent, this.lastSource === 'popstate' ? this.store[this.restoredId] : null, anchor));\n        });\n      });\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      this.routerEventsSubscription?.unsubscribe();\n      this.scrollEventsSubscription?.unsubscribe();\n    }\n    static {\n      this.ɵfac = function RouterScroller_Factory(t) {\n        i0.ɵɵinvalidFactory();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RouterScroller,\n        factory: RouterScroller.ɵfac\n      });\n    }\n  }\n  return RouterScroller;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Sets up providers necessary to enable `Router` functionality for the application.\n * Allows to configure a set of routes as well as extra features that should be enabled.\n *\n * @usageNotes\n *\n * Basic example of how you can add a Router to your application:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent, {\n *   providers: [provideRouter(appRoutes)]\n * });\n * ```\n *\n * You can also enable optional features in the Router by adding functions from the `RouterFeatures`\n * type:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes,\n *         withDebugTracing(),\n *         withRouterConfig({paramsInheritanceStrategy: 'always'}))\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link RouterFeatures}\n *\n * @publicApi\n * @param routes A set of `Route`s to use for the application routing table.\n * @param features Optional features to configure additional router behaviors.\n * @returns A set of providers to setup a Router.\n */\nfunction provideRouter(routes, ...features) {\n  return makeEnvironmentProviders([{\n    provide: ROUTES,\n    multi: true,\n    useValue: routes\n  }, typeof ngDevMode === 'undefined' || ngDevMode ? {\n    provide: ROUTER_IS_PROVIDED,\n    useValue: true\n  } : [], {\n    provide: ActivatedRoute,\n    useFactory: rootRoute,\n    deps: [Router]\n  }, {\n    provide: APP_BOOTSTRAP_LISTENER,\n    multi: true,\n    useFactory: getBootstrapListener\n  }, features.map(feature => feature.ɵproviders)]);\n}\nfunction rootRoute(router) {\n  return router.routerState.root;\n}\n/**\n * Helper function to create an object that represents a Router feature.\n */\nfunction routerFeature(kind, providers) {\n  return {\n    ɵkind: kind,\n    ɵproviders: providers\n  };\n}\n/**\n * An Injection token used to indicate whether `provideRouter` or `RouterModule.forRoot` was ever\n * called.\n */\nconst ROUTER_IS_PROVIDED = /*#__PURE__*/new InjectionToken('', {\n  providedIn: 'root',\n  factory: () => false\n});\nconst routerIsProvidedDevModeCheck = {\n  provide: ENVIRONMENT_INITIALIZER,\n  multi: true,\n  useFactory() {\n    return () => {\n      if (!inject(ROUTER_IS_PROVIDED)) {\n        console.warn('`provideRoutes` was called without `provideRouter` or `RouterModule.forRoot`. ' + 'This is likely a mistake.');\n      }\n    };\n  }\n};\n/**\n * Registers a DI provider for a set of routes.\n * @param routes The route configuration to provide.\n *\n * @usageNotes\n *\n * ```\n * @NgModule({\n *   providers: [provideRoutes(ROUTES)]\n * })\n * class LazyLoadedChildModule {}\n * ```\n *\n * @deprecated If necessary, provide routes using the `ROUTES` `InjectionToken`.\n * @see {@link ROUTES}\n * @publicApi\n */\nfunction provideRoutes(routes) {\n  return [{\n    provide: ROUTES,\n    multi: true,\n    useValue: routes\n  }, typeof ngDevMode === 'undefined' || ngDevMode ? routerIsProvidedDevModeCheck : []];\n}\n/**\n * Enables customizable scrolling behavior for router navigations.\n *\n * @usageNotes\n *\n * Basic example of how you can enable scrolling feature:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withInMemoryScrolling())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n * @see {@link ViewportScroller}\n *\n * @publicApi\n * @param options Set of configuration parameters to customize scrolling behavior, see\n *     `InMemoryScrollingOptions` for additional information.\n * @returns A set of providers for use with `provideRouter`.\n */\nfunction withInMemoryScrolling(options = {}) {\n  const providers = [{\n    provide: ROUTER_SCROLLER,\n    useFactory: () => {\n      const viewportScroller = inject(ViewportScroller);\n      const zone = inject(NgZone);\n      const transitions = inject(NavigationTransitions);\n      const urlSerializer = inject(UrlSerializer);\n      return new RouterScroller(urlSerializer, transitions, viewportScroller, zone, options);\n    }\n  }];\n  return routerFeature(4 /* RouterFeatureKind.InMemoryScrollingFeature */, providers);\n}\nfunction getBootstrapListener() {\n  const injector = inject(Injector);\n  return bootstrappedComponentRef => {\n    const ref = injector.get(ApplicationRef);\n    if (bootstrappedComponentRef !== ref.components[0]) {\n      return;\n    }\n    const router = injector.get(Router);\n    const bootstrapDone = injector.get(BOOTSTRAP_DONE);\n    if (injector.get(INITIAL_NAVIGATION) === 1 /* InitialNavigation.EnabledNonBlocking */) {\n      router.initialNavigation();\n    }\n    injector.get(ROUTER_PRELOADER, null, InjectFlags.Optional)?.setUpPreloading();\n    injector.get(ROUTER_SCROLLER, null, InjectFlags.Optional)?.init();\n    router.resetRootComponentType(ref.componentTypes[0]);\n    if (!bootstrapDone.closed) {\n      bootstrapDone.next();\n      bootstrapDone.complete();\n      bootstrapDone.unsubscribe();\n    }\n  };\n}\n/**\n * A subject used to indicate that the bootstrapping phase is done. When initial navigation is\n * `enabledBlocking`, the first navigation waits until bootstrapping is finished before continuing\n * to the activation phase.\n */\nconst BOOTSTRAP_DONE = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'bootstrap done indicator' : '', {\n  factory: () => {\n    return new Subject();\n  }\n});\nconst INITIAL_NAVIGATION = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'initial navigation' : '', {\n  providedIn: 'root',\n  factory: () => 1 /* InitialNavigation.EnabledNonBlocking */\n});\n/**\n * Configures initial navigation to start before the root component is created.\n *\n * The bootstrap is blocked until the initial navigation is complete. This value is required for\n * [server-side rendering](guide/ssr) to work.\n *\n * @usageNotes\n *\n * Basic example of how you can enable this navigation behavior:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withEnabledBlockingInitialNavigation())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @publicApi\n * @returns A set of providers for use with `provideRouter`.\n */\nfunction withEnabledBlockingInitialNavigation() {\n  const providers = [{\n    provide: INITIAL_NAVIGATION,\n    useValue: 0 /* InitialNavigation.EnabledBlocking */\n  }, {\n    provide: APP_INITIALIZER,\n    multi: true,\n    deps: [Injector],\n    useFactory: injector => {\n      const locationInitialized = injector.get(LOCATION_INITIALIZED, Promise.resolve());\n      return () => {\n        return locationInitialized.then(() => {\n          return new Promise(resolve => {\n            const router = injector.get(Router);\n            const bootstrapDone = injector.get(BOOTSTRAP_DONE);\n            afterNextNavigation(router, () => {\n              // Unblock APP_INITIALIZER in case the initial navigation was canceled or errored\n              // without a redirect.\n              resolve(true);\n            });\n            injector.get(NavigationTransitions).afterPreactivation = () => {\n              // Unblock APP_INITIALIZER once we get to `afterPreactivation`. At this point, we\n              // assume activation will complete successfully (even though this is not\n              // guaranteed).\n              resolve(true);\n              return bootstrapDone.closed ? of(void 0) : bootstrapDone;\n            };\n            router.initialNavigation();\n          });\n        });\n      };\n    }\n  }];\n  return routerFeature(2 /* RouterFeatureKind.EnabledBlockingInitialNavigationFeature */, providers);\n}\n/**\n * Disables initial navigation.\n *\n * Use if there is a reason to have more control over when the router starts its initial navigation\n * due to some complex initialization logic.\n *\n * @usageNotes\n *\n * Basic example of how you can disable initial navigation:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withDisabledInitialNavigation())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withDisabledInitialNavigation() {\n  const providers = [{\n    provide: APP_INITIALIZER,\n    multi: true,\n    useFactory: () => {\n      const router = inject(Router);\n      return () => {\n        router.setUpLocationChangeListener();\n      };\n    }\n  }, {\n    provide: INITIAL_NAVIGATION,\n    useValue: 2 /* InitialNavigation.Disabled */\n  }];\n  return routerFeature(3 /* RouterFeatureKind.DisabledInitialNavigationFeature */, providers);\n}\n/**\n * Enables logging of all internal navigation events to the console.\n * Extra logging might be useful for debugging purposes to inspect Router event sequence.\n *\n * @usageNotes\n *\n * Basic example of how you can enable debug tracing:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withDebugTracing())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withDebugTracing() {\n  let providers = [];\n  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n    providers = [{\n      provide: ENVIRONMENT_INITIALIZER,\n      multi: true,\n      useFactory: () => {\n        const router = inject(Router);\n        return () => router.events.subscribe(e => {\n          // tslint:disable:no-console\n          console.group?.(`Router Event: ${e.constructor.name}`);\n          console.log(stringifyEvent(e));\n          console.log(e);\n          console.groupEnd?.();\n          // tslint:enable:no-console\n        });\n      }\n    }];\n  } else {\n    providers = [];\n  }\n  return routerFeature(1 /* RouterFeatureKind.DebugTracingFeature */, providers);\n}\nconst ROUTER_PRELOADER = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router preloader' : '');\n/**\n * Allows to configure a preloading strategy to use. The strategy is configured by providing a\n * reference to a class that implements a `PreloadingStrategy`.\n *\n * @usageNotes\n *\n * Basic example of how you can configure preloading:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withPreloading(PreloadAllModules))\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @param preloadingStrategy A reference to a class that implements a `PreloadingStrategy` that\n *     should be used.\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withPreloading(preloadingStrategy) {\n  const providers = [{\n    provide: ROUTER_PRELOADER,\n    useExisting: RouterPreloader\n  }, {\n    provide: PreloadingStrategy,\n    useExisting: preloadingStrategy\n  }];\n  return routerFeature(0 /* RouterFeatureKind.PreloadingFeature */, providers);\n}\n/**\n * Allows to provide extra parameters to configure Router.\n *\n * @usageNotes\n *\n * Basic example of how you can provide extra configuration options:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withRouterConfig({\n *          onSameUrlNavigation: 'reload'\n *       }))\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @param options A set of parameters to configure Router, see `RouterConfigOptions` for\n *     additional information.\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withRouterConfig(options) {\n  const providers = [{\n    provide: ROUTER_CONFIGURATION,\n    useValue: options\n  }];\n  return routerFeature(5 /* RouterFeatureKind.RouterConfigurationFeature */, providers);\n}\n/**\n * Provides the location strategy that uses the URL fragment instead of the history API.\n *\n * @usageNotes\n *\n * Basic example of how you can use the hash location option:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withHashLocation())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n * @see {@link HashLocationStrategy}\n *\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withHashLocation() {\n  const providers = [{\n    provide: LocationStrategy,\n    useClass: HashLocationStrategy\n  }];\n  return routerFeature(6 /* RouterFeatureKind.RouterHashLocationFeature */, providers);\n}\n/**\n * Provides a function which is called when a navigation error occurs.\n *\n * This function is run inside application's [injection context](guide/di/dependency-injection-context)\n * so you can use the [`inject`](api/core/inject) function.\n *\n * This function can return a `RedirectCommand` to convert the error to a redirect, similar to returning\n * a `UrlTree` or `RedirectCommand` from a guard. This will also prevent the `Router` from emitting\n * `NavigationError`; it will instead emit `NavigationCancel` with code NavigationCancellationCode.Redirect.\n * Return values other than `RedirectCommand` are ignored and do not change any behavior with respect to\n * how the `Router` handles the error.\n *\n * @usageNotes\n *\n * Basic example of how you can use the error handler option:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withNavigationErrorHandler((e: NavigationError) =>\n * inject(MyErrorTracker).trackError(e)))\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link NavigationError}\n * @see {@link core/inject}\n * @see {@link runInInjectionContext}\n *\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withNavigationErrorHandler(handler) {\n  const providers = [{\n    provide: NAVIGATION_ERROR_HANDLER,\n    useValue: handler\n  }];\n  return routerFeature(7 /* RouterFeatureKind.NavigationErrorHandlerFeature */, providers);\n}\n/**\n * Enables binding information from the `Router` state directly to the inputs of the component in\n * `Route` configurations.\n *\n * @usageNotes\n *\n * Basic example of how you can enable the feature:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withComponentInputBinding())\n *     ]\n *   }\n * );\n * ```\n *\n * @returns A set of providers for use with `provideRouter`.\n */\nfunction withComponentInputBinding() {\n  const providers = [RoutedComponentInputBinder, {\n    provide: INPUT_BINDER,\n    useExisting: RoutedComponentInputBinder\n  }];\n  return routerFeature(8 /* RouterFeatureKind.ComponentInputBindingFeature */, providers);\n}\n/**\n * Enables view transitions in the Router by running the route activation and deactivation inside of\n * `document.startViewTransition`.\n *\n * Note: The View Transitions API is not available in all browsers. If the browser does not support\n * view transitions, the Router will not attempt to start a view transition and continue processing\n * the navigation as usual.\n *\n * @usageNotes\n *\n * Basic example of how you can enable the feature:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withViewTransitions())\n *     ]\n *   }\n * );\n * ```\n *\n * @returns A set of providers for use with `provideRouter`.\n * @see https://developer.chrome.com/docs/web-platform/view-transitions/\n * @see https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API\n * @experimental\n */\nfunction withViewTransitions(options) {\n  const providers = [{\n    provide: CREATE_VIEW_TRANSITION,\n    useValue: createViewTransition\n  }, {\n    provide: VIEW_TRANSITION_OPTIONS,\n    useValue: {\n      skipNextTransition: !!options?.skipInitialTransition,\n      ...options\n    }\n  }];\n  return routerFeature(9 /* RouterFeatureKind.ViewTransitionsFeature */, providers);\n}\n\n/**\n * The directives defined in the `RouterModule`.\n */\nconst ROUTER_DIRECTIVES = [RouterOutlet, RouterLink, RouterLinkActive, ɵEmptyOutletComponent];\n/**\n * @docsNotRequired\n */\nconst ROUTER_FORROOT_GUARD = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router duplicate forRoot guard' : 'ROUTER_FORROOT_GUARD');\n// TODO(atscott): All of these except `ActivatedRoute` are `providedIn: 'root'`. They are only kept\n// here to avoid a breaking change whereby the provider order matters based on where the\n// `RouterModule`/`RouterTestingModule` is imported. These can/should be removed as a \"breaking\"\n// change in a major version.\nconst ROUTER_PROVIDERS = [Location, {\n  provide: UrlSerializer,\n  useClass: DefaultUrlSerializer\n}, Router, ChildrenOutletContexts, {\n  provide: ActivatedRoute,\n  useFactory: rootRoute,\n  deps: [Router]\n}, RouterConfigLoader,\n// Only used to warn when `provideRoutes` is used without `RouterModule` or `provideRouter`. Can\n// be removed when `provideRoutes` is removed.\ntypeof ngDevMode === 'undefined' || ngDevMode ? {\n  provide: ROUTER_IS_PROVIDED,\n  useValue: true\n} : []];\n/**\n * @description\n *\n * Adds directives and providers for in-app navigation among views defined in an application.\n * Use the Angular `Router` service to declaratively specify application states and manage state\n * transitions.\n *\n * You can import this NgModule multiple times, once for each lazy-loaded bundle.\n * However, only one `Router` service can be active.\n * To ensure this, there are two ways to register routes when importing this module:\n *\n * * The `forRoot()` method creates an `NgModule` that contains all the directives, the given\n * routes, and the `Router` service itself.\n * * The `forChild()` method creates an `NgModule` that contains all the directives and the given\n * routes, but does not include the `Router` service.\n *\n * @see [Routing and Navigation guide](guide/routing/common-router-tasks) for an\n * overview of how the `Router` service should be used.\n *\n * @publicApi\n */\nlet RouterModule = /*#__PURE__*/(() => {\n  class RouterModule {\n    constructor(guard) {}\n    /**\n     * Creates and configures a module with all the router providers and directives.\n     * Optionally sets up an application listener to perform an initial navigation.\n     *\n     * When registering the NgModule at the root, import as follows:\n     *\n     * ```\n     * @NgModule({\n     *   imports: [RouterModule.forRoot(ROUTES)]\n     * })\n     * class MyNgModule {}\n     * ```\n     *\n     * @param routes An array of `Route` objects that define the navigation paths for the application.\n     * @param config An `ExtraOptions` configuration object that controls how navigation is performed.\n     * @return The new `NgModule`.\n     *\n     */\n    static forRoot(routes, config) {\n      return {\n        ngModule: RouterModule,\n        providers: [ROUTER_PROVIDERS, typeof ngDevMode === 'undefined' || ngDevMode ? config?.enableTracing ? withDebugTracing().ɵproviders : [] : [], {\n          provide: ROUTES,\n          multi: true,\n          useValue: routes\n        }, {\n          provide: ROUTER_FORROOT_GUARD,\n          useFactory: provideForRootGuard,\n          deps: [[Router, new Optional(), new SkipSelf()]]\n        }, {\n          provide: ROUTER_CONFIGURATION,\n          useValue: config ? config : {}\n        }, config?.useHash ? provideHashLocationStrategy() : providePathLocationStrategy(), provideRouterScroller(), config?.preloadingStrategy ? withPreloading(config.preloadingStrategy).ɵproviders : [], config?.initialNavigation ? provideInitialNavigation(config) : [], config?.bindToComponentInputs ? withComponentInputBinding().ɵproviders : [], config?.enableViewTransitions ? withViewTransitions().ɵproviders : [], provideRouterInitializer()]\n      };\n    }\n    /**\n     * Creates a module with all the router directives and a provider registering routes,\n     * without creating a new Router service.\n     * When registering for submodules and lazy-loaded submodules, create the NgModule as follows:\n     *\n     * ```\n     * @NgModule({\n     *   imports: [RouterModule.forChild(ROUTES)]\n     * })\n     * class MyNgModule {}\n     * ```\n     *\n     * @param routes An array of `Route` objects that define the navigation paths for the submodule.\n     * @return The new NgModule.\n     *\n     */\n    static forChild(routes) {\n      return {\n        ngModule: RouterModule,\n        providers: [{\n          provide: ROUTES,\n          multi: true,\n          useValue: routes\n        }]\n      };\n    }\n    static {\n      this.ɵfac = function RouterModule_Factory(t) {\n        return new (t || RouterModule)(i0.ɵɵinject(ROUTER_FORROOT_GUARD, 8));\n      };\n    }\n    static {\n      this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n        type: RouterModule\n      });\n    }\n    static {\n      this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n    }\n  }\n  return RouterModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * For internal use by `RouterModule` only. Note that this differs from `withInMemoryRouterScroller`\n * because it reads from the `ExtraOptions` which should not be used in the standalone world.\n */\nfunction provideRouterScroller() {\n  return {\n    provide: ROUTER_SCROLLER,\n    useFactory: () => {\n      const viewportScroller = inject(ViewportScroller);\n      const zone = inject(NgZone);\n      const config = inject(ROUTER_CONFIGURATION);\n      const transitions = inject(NavigationTransitions);\n      const urlSerializer = inject(UrlSerializer);\n      if (config.scrollOffset) {\n        viewportScroller.setOffset(config.scrollOffset);\n      }\n      return new RouterScroller(urlSerializer, transitions, viewportScroller, zone, config);\n    }\n  };\n}\n// Note: For internal use only with `RouterModule`. Standalone setup via `provideRouter` should\n// provide hash location directly via `{provide: LocationStrategy, useClass: HashLocationStrategy}`.\nfunction provideHashLocationStrategy() {\n  return {\n    provide: LocationStrategy,\n    useClass: HashLocationStrategy\n  };\n}\n// Note: For internal use only with `RouterModule`. Standalone setup via `provideRouter` does not\n// need this at all because `PathLocationStrategy` is the default factory for `LocationStrategy`.\nfunction providePathLocationStrategy() {\n  return {\n    provide: LocationStrategy,\n    useClass: PathLocationStrategy\n  };\n}\nfunction provideForRootGuard(router) {\n  if ((typeof ngDevMode === 'undefined' || ngDevMode) && router) {\n    throw new ɵRuntimeError(4007 /* RuntimeErrorCode.FOR_ROOT_CALLED_TWICE */, `The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector.` + ` Lazy loaded modules should use RouterModule.forChild() instead.`);\n  }\n  return 'guarded';\n}\n// Note: For internal use only with `RouterModule`. Standalone router setup with `provideRouter`\n// users call `withXInitialNavigation` directly.\nfunction provideInitialNavigation(config) {\n  return [config.initialNavigation === 'disabled' ? withDisabledInitialNavigation().ɵproviders : [], config.initialNavigation === 'enabledBlocking' ? withEnabledBlockingInitialNavigation().ɵproviders : []];\n}\n// TODO(atscott): This should not be in the public API\n/**\n * A DI token for the router initializer that\n * is called after the app is bootstrapped.\n *\n * @publicApi\n */\nconst ROUTER_INITIALIZER = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'Router Initializer' : '');\nfunction provideRouterInitializer() {\n  return [\n  // ROUTER_INITIALIZER token should be removed. It's public API but shouldn't be. We can just\n  // have `getBootstrapListener` directly attached to APP_BOOTSTRAP_LISTENER.\n  {\n    provide: ROUTER_INITIALIZER,\n    useFactory: getBootstrapListener\n  }, {\n    provide: APP_BOOTSTRAP_LISTENER,\n    multi: true,\n    useExisting: ROUTER_INITIALIZER\n  }];\n}\n\n/**\n * Maps an array of injectable classes with canMatch functions to an array of equivalent\n * `CanMatchFn` for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='CanActivate'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToCanMatch(providers) {\n  return providers.map(provider => (...params) => inject(provider).canMatch(...params));\n}\n/**\n * Maps an array of injectable classes with canActivate functions to an array of equivalent\n * `CanActivateFn` for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='CanActivate'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToCanActivate(providers) {\n  return providers.map(provider => (...params) => inject(provider).canActivate(...params));\n}\n/**\n * Maps an array of injectable classes with canActivateChild functions to an array of equivalent\n * `CanActivateChildFn` for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='CanActivate'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToCanActivateChild(providers) {\n  return providers.map(provider => (...params) => inject(provider).canActivateChild(...params));\n}\n/**\n * Maps an array of injectable classes with canDeactivate functions to an array of equivalent\n * `CanDeactivateFn` for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='CanActivate'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToCanDeactivate(providers) {\n  return providers.map(provider => (...params) => inject(provider).canDeactivate(...params));\n}\n/**\n * Maps an injectable class with a resolve function to an equivalent `ResolveFn`\n * for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='Resolve'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToResolve(provider) {\n  return (...params) => inject(provider).resolve(...params);\n}\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of the router package.\n */\n/**\n * @publicApi\n */\nconst VERSION = /*#__PURE__*/new Version('18.1.1');\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of this package.\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n// This file is not used to build this module. It is only used during editing\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ActivatedRoute, ActivatedRouteSnapshot, ActivationEnd, ActivationStart, BaseRouteReuseStrategy, ChildActivationEnd, ChildActivationStart, ChildrenOutletContexts, DefaultTitleStrategy, DefaultUrlSerializer, EventType, GuardsCheckEnd, GuardsCheckStart, NavigationCancel, NavigationCancellationCode, NavigationEnd, NavigationError, NavigationSkipped, NavigationSkippedCode, NavigationStart, NoPreloading, OutletContext, PRIMARY_OUTLET, PreloadAllModules, PreloadingStrategy, ROUTER_CONFIGURATION, ROUTER_INITIALIZER, ROUTES, RedirectCommand, ResolveEnd, ResolveStart, RouteConfigLoadEnd, RouteConfigLoadStart, RouteReuseStrategy, Router, RouterEvent, RouterLink, RouterLinkActive, RouterLink as RouterLinkWithHref, RouterModule, RouterOutlet, RouterPreloader, RouterState, RouterStateSnapshot, RoutesRecognized, Scroll, TitleStrategy, UrlHandlingStrategy, UrlSegment, UrlSegmentGroup, UrlSerializer, UrlTree, VERSION, convertToParamMap, createUrlTreeFromSnapshot, defaultUrlMatcher, mapToCanActivate, mapToCanActivateChild, mapToCanDeactivate, mapToCanMatch, mapToResolve, provideRouter, provideRoutes, withComponentInputBinding, withDebugTracing, withDisabledInitialNavigation, withEnabledBlockingInitialNavigation, withHashLocation, withInMemoryScrolling, withNavigationErrorHandler, withPreloading, withRouterConfig, withViewTransitions, ɵEmptyOutletComponent, ROUTER_PROVIDERS as ɵROUTER_PROVIDERS, afterNextNavigation as ɵafterNextNavigation, loadChildren as ɵloadChildren };\n","function tuiIsEdge(userAgent) {\n  return userAgent.toLowerCase().includes('edge');\n}\nconst EDGE = 'edge/';\nfunction tuiIsEdgeOlderThan(version, userAgent) {\n  const currentVersion = parseInt(userAgent.slice(userAgent.toLowerCase().indexOf(EDGE) + EDGE.length), 10);\n  return currentVersion < version;\n}\nfunction tuiIsFirefox(userAgent) {\n  return userAgent.toLowerCase().includes('firefox');\n}\nfunction tuiIsSafari({\n  ownerDocument: doc\n}) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const win = doc === null || doc === void 0 ? void 0 : doc.defaultView;\n  const isMacOsSafari = typeof win.safari !== 'undefined' && ((_b = (_a = win.safari) === null || _a === void 0 ? void 0 : _a.pushNotification) === null || _b === void 0 ? void 0 : _b.toString()) === '[object SafariRemoteNotification]';\n  const isIosSafari = !!((_d = (_c = win.navigator) === null || _c === void 0 ? void 0 : _c.vendor) === null || _d === void 0 ? void 0 : _d.includes('Apple')) && !((_f = (_e = win.navigator) === null || _e === void 0 ? void 0 : _e.userAgent) === null || _f === void 0 ? void 0 : _f.includes('CriOS')) && !((_h = (_g = win.navigator) === null || _g === void 0 ? void 0 : _g.userAgent) === null || _h === void 0 ? void 0 : _h.includes('FxiOS'));\n  return isMacOsSafari || isIosSafari;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiIsEdge, tuiIsEdgeOlderThan, tuiIsFirefox, tuiIsSafari };\n","import { tuiIsString } from '@taiga-ui/cdk/utils/miscellaneous';\nfunction makeRandomSalt() {\n  return Math.floor(Math.random() * Date.now());\n}\nfunction escapeRegExp(search) {\n  return search.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n}\nfunction extractLinearGradientIdsFromSvg(svg) {\n  var _a;\n  const ids = ((_a = svg.match(/url\\((\"?)('*)#(.*?)('*)\\)/g)) !== null && _a !== void 0 ? _a : []).map(url => url.slice(4, url.length - 1).replace(/['\"#]+/g, ''));\n  return Array.from(new Set(ids));\n}\n/**\n * @description:\n * Any ‘linearGradient’ attributes which are defined on the referenced\n * element which are not defined on this element are inherited by this element.\n * If this element has no defined gradient stops, and the referenced element does\n * (possibly due to its own ‘xlink:href’ attribute), then this element inherits\n * the gradient stop from the referenced element. Inheritance can be indirect\n * to an arbitrary level; thus, if the referenced element inherits attribute\n * or gradient stops due to its own ‘xlink:href’ attribute, then the current\n * element can inherit those attributes or gradient stops.\n *\n * Documentation: https://www.w3.org/TR/SVG11/pservers.html\n *\n */\nfunction tuiSvgLinearGradientProcessor(svg, salt = makeRandomSalt()) {\n  if (tuiIsString(svg)) {\n    const uniqueIds = extractLinearGradientIdsFromSvg(svg);\n    return uniqueIds.reduce((newSvg, previousId) => {\n      const escapedId = escapeRegExp(previousId);\n      const newId = `id_${salt}_${previousId}`;\n      return newSvg.replace(new RegExp(`\"${escapedId}\"`, 'g'), `\"${newId}\"`).replace(new RegExp(`'${escapedId}'`, 'g'), `'${newId}'`).replace(new RegExp(`url\\\\('#${escapedId}'\\\\)`, 'g'), `url('#${newId}')`).replace(new RegExp(`url\\\\(\"#${escapedId}\"\\\\)`, 'g'), `url(\"#${newId}\")`).replace(new RegExp(`url\\\\(#${escapedId}\\\\)`, 'g'), `url(#${newId})`);\n    }, svg);\n  }\n  return svg;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiSvgLinearGradientProcessor };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, Injector, Directive, Self, TemplateRef, ChangeDetectorRef, ComponentFactoryResolver, NgModule } from '@angular/core';\n\n/**\n * Use this token to access context within your components when\n * instantiating them through {@link PolymorpheusOutletDirective}\n */\nconst POLYMORPHEUS_CONTEXT = new InjectionToken('POLYMORPHEUS_CONTEXT');\n\n/**\n * Wrapper class for a component that will be used as content for {@link PolymorpheusOutletDirective}\n *\n * @param component — an Angular component to be dynamically created\n * @param injector — optional {@link Injector} for lazy loaded module case\n *\n * TODO: Remove second generic as it is irrelevant, remove `null` from injector type\n */\nclass PolymorpheusComponent {\n  constructor(component, i) {\n    this.component = component;\n    this.i = i;\n  }\n  createInjector(injector, useValue) {\n    return Injector.create({\n      parent: this.i || injector,\n      providers: [{\n        provide: POLYMORPHEUS_CONTEXT,\n        useValue\n      }]\n    });\n  }\n}\n\n/**\n * ng-template wrapper directive also stores {@link ChangeDetectorRef} to properly handle change detection.\n */\nlet PolymorpheusTemplate = /*#__PURE__*/(() => {\n  class PolymorpheusTemplate {\n    constructor(template, cdr) {\n      this.template = template;\n      this.cdr = cdr;\n      this.polymorpheus = '';\n    }\n    check() {\n      this.cdr.markForCheck();\n    }\n    static ngTemplateContextGuard(_dir, _ctx) {\n      return true;\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */PolymorpheusTemplate.ɵfac = function PolymorpheusTemplate_Factory(t) {\n    return new (t || PolymorpheusTemplate)(i0.ɵɵdirectiveInject(i0.TemplateRef, 2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  PolymorpheusTemplate.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: PolymorpheusTemplate,\n    selectors: [[\"ng-template\", \"polymorpheus\", \"\"]],\n    inputs: {\n      polymorpheus: \"polymorpheus\"\n    },\n    exportAs: [\"polymorpheus\"]\n  });\n  return PolymorpheusTemplate;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass PolymorpheusContext {\n  constructor($implicit) {\n    this.$implicit = $implicit;\n  }\n  get polymorpheusOutlet() {\n    return this.$implicit;\n  }\n}\n/**\n * @deprecated: use {@link PolymorpheusContext} instead\n * Primitive types used as content by {@link PolymorpheusOutletDirective}\n */\nclass PrimitiveContext extends PolymorpheusContext {}\nlet PolymorpheusOutletDirective = /*#__PURE__*/(() => {\n  class PolymorpheusOutletDirective {\n    constructor(vcr, i, t) {\n      this.vcr = vcr;\n      this.i = i;\n      this.t = t;\n      this.content = '';\n    }\n    get template() {\n      if (isDirective(this.content)) {\n        return this.content.template;\n      }\n      return this.content instanceof TemplateRef ? this.content : this.t;\n    }\n    ngOnChanges({\n      content\n    }) {\n      var _a;\n      const context = this.getContext();\n      (_a = this.c) === null || _a === void 0 ? void 0 : _a.injector.get(ChangeDetectorRef).markForCheck();\n      if (!content) {\n        return;\n      }\n      this.vcr.clear();\n      const proxy = context && new Proxy(context, {\n        get: (_, key) => {\n          var _a;\n          return (_a = this.getContext()) === null || _a === void 0 ? void 0 : _a[key];\n        }\n      });\n      if (isComponent(this.content)) {\n        this.process(this.content, proxy);\n      } else if (\n      // tslint:disable-next-line:triple-equals\n      (context instanceof PolymorpheusContext && context.$implicit) != null) {\n        this.vcr.createEmbeddedView(this.template, proxy);\n      }\n    }\n    ngDoCheck() {\n      if (isDirective(this.content)) {\n        this.content.check();\n      }\n    }\n    static ngTemplateContextGuard(_dir, _ctx) {\n      return true;\n    }\n    getContext() {\n      if (isTemplate(this.content) || isComponent(this.content)) {\n        return this.context;\n      }\n      return new PolymorpheusContext(typeof this.content === 'function' ? this.content(this.context) : this.content);\n    }\n    process(content, proxy) {\n      const injector = content.createInjector(this.i, proxy);\n      this.c = this.vcr.createComponent(injector.get(ComponentFactoryResolver).resolveComponentFactory(content.component), 0, injector);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */PolymorpheusOutletDirective.ɵfac = function PolymorpheusOutletDirective_Factory(t) {\n    return new (t || PolymorpheusOutletDirective)(i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i0.TemplateRef));\n  };\n  PolymorpheusOutletDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: PolymorpheusOutletDirective,\n    selectors: [[\"\", \"polymorpheusOutlet\", \"\"]],\n    inputs: {\n      content: [0, \"polymorpheusOutlet\", \"content\"],\n      context: [0, \"polymorpheusOutletContext\", \"context\"]\n    },\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n  return PolymorpheusOutletDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction isDirective(content) {\n  return content instanceof PolymorpheusTemplate;\n}\nfunction isComponent(content) {\n  return content instanceof PolymorpheusComponent;\n}\nfunction isTemplate(content) {\n  return isDirective(content) || content instanceof TemplateRef;\n}\nlet PolymorpheusModule = /*#__PURE__*/(() => {\n  class PolymorpheusModule {}\n  /** @nocollapse */\n  /** @nocollapse */\n  /** @nocollapse */PolymorpheusModule.ɵfac = function PolymorpheusModule_Factory(t) {\n    return new (t || PolymorpheusModule)();\n  };\n  PolymorpheusModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PolymorpheusModule\n  });\n  PolymorpheusModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return PolymorpheusModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Public API Surface of ng-polymorpheus\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { POLYMORPHEUS_CONTEXT, PolymorpheusComponent, PolymorpheusModule, PolymorpheusOutletDirective, PolymorpheusTemplate };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Directive, Input, HostBinding, Output, Optional, Inject, Injectable, TemplateRef, ChangeDetectorRef, ComponentFactoryResolver, Injector, INJECTOR, ElementRef, ViewContainerRef, ViewChild } from '@angular/core';\nimport * as i1 from '@angular/forms';\nimport { NgModel } from '@angular/forms';\nimport { tuiAssert } from '@taiga-ui/cdk/classes';\nimport { EMPTY_FUNCTION } from '@taiga-ui/cdk/constants';\nimport { tuiIsPresent } from '@taiga-ui/cdk/utils';\nimport { Subject, merge, Observable, BehaviorSubject } from 'rxjs';\nimport { delay, startWith, map, filter, distinctUntilChanged, switchMap, takeUntil, ignoreElements, endWith, share } from 'rxjs/operators';\nimport { tuiIfMap } from '@taiga-ui/cdk/observables';\nimport { PolymorpheusTemplate } from '@tinkoff/ng-polymorpheus';\nimport * as i1$1 from '@taiga-ui/cdk/services';\nimport { TuiIdService } from '@taiga-ui/cdk/services';\nimport { TuiNoHostException } from '@taiga-ui/cdk/exceptions';\nimport { DOCUMENT } from '@angular/common';\nconst _c0 = [\"viewContainer\"];\nconst TUI = 'tui_interactive_';\n/**\n * The most basic class for interactive components\n */\nlet AbstractTuiInteractive = /*#__PURE__*/(() => {\n  class AbstractTuiInteractive {\n    constructor() {\n      this.pseudoHover = null;\n      this.pseudoActive = null;\n      this.pseudoFocus = null;\n      /**\n       * Determines if component is focusable with keyboard.\n       */\n      this.focusable = true;\n      this.nativeId = '';\n      /**\n       * Emits 'true' on focus and 'false' on blur.\n       */\n      this.focusedChange = new EventEmitter();\n      this.focusVisibleChange = new EventEmitter();\n      this.focusVisible = false;\n      this.autoIdString = `${TUI}${AbstractTuiInteractive.autoId++}${Date.now()}`;\n    }\n    get computedDisabled() {\n      return this.disabled;\n    }\n    get computedFocusable() {\n      return !this.computedDisabled && (this.focusable || this.focused);\n    }\n    get computedFocused() {\n      var _a;\n      return !this.computedDisabled && ((_a = this.pseudoFocus) !== null && _a !== void 0 ? _a : this.focused);\n    }\n    get computedFocusVisible() {\n      var _a;\n      return !this.computedDisabled && ((_a = this.pseudoFocus) !== null && _a !== void 0 ? _a : this.focusVisible);\n    }\n    // TODO: 3.0 Consider removing since native input is exposed\n    get id() {\n      return this.nativeId || this.autoIdString;\n    }\n    updateFocused(focused) {\n      this.focusedChange.emit(focused);\n    }\n    updateFocusVisible(focusVisible) {\n      if (this.focusVisible === focusVisible) {\n        return;\n      }\n      this.focusVisible = focusVisible;\n      this.focusVisibleChange.emit(focusVisible);\n    }\n  }\n  AbstractTuiInteractive.autoId = 0;\n  AbstractTuiInteractive.ɵfac = function AbstractTuiInteractive_Factory(t) {\n    return new (t || AbstractTuiInteractive)();\n  };\n  AbstractTuiInteractive.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiInteractive,\n    hostVars: 7,\n    hostBindings: function AbstractTuiInteractive_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-focused\", ctx.pseudoFocus);\n        i0.ɵɵclassProp(\"_disabled\", ctx.computedDisabled)(\"_focused\", ctx.computedFocused)(\"_focus-visible\", ctx.computedFocusVisible);\n      }\n    },\n    inputs: {\n      pseudoHover: \"pseudoHover\",\n      pseudoActive: \"pseudoActive\",\n      pseudoFocus: \"pseudoFocus\",\n      focusable: \"focusable\",\n      nativeId: \"nativeId\"\n    },\n    outputs: {\n      focusedChange: \"focusedChange\",\n      focusVisibleChange: \"focusVisibleChange\"\n    }\n  });\n  return AbstractTuiInteractive;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass AbstractTuiValueTransformer {}\n\n/**\n * Basic ControlValueAccessor class to build form components upon\n */\nlet AbstractTuiControl = /*#__PURE__*/(() => {\n  class AbstractTuiControl extends AbstractTuiInteractive {\n    constructor(ngControl, cdr, valueTransformer) {\n      super();\n      this.ngControl = ngControl;\n      this.cdr = cdr;\n      this.valueTransformer = valueTransformer;\n      this.refresh$ = new Subject();\n      this.onTouched = EMPTY_FUNCTION;\n      this.onChange = EMPTY_FUNCTION;\n      this.fallbackValue = this.getFallbackValue();\n      this.destroy$ = new Subject();\n      this.readOnly = false;\n      this.pseudoInvalid = null;\n      if (ngDevMode && this.ngControl === null) {\n        tuiAssert.assert(false, `NgControl not injected in ${this.constructor.name}!\\n`, 'Use [(ngModel)] or [formControl] or formControlName for correct work.');\n      }\n      if (this.ngControl) {\n        this.ngControl.valueAccessor = this;\n      }\n    }\n    get computedInvalid() {\n      return this.interactive && (this.pseudoInvalid !== null ? this.pseudoInvalid : this.touched && this.invalid);\n    }\n    get value() {\n      var _a;\n      return (_a = this.previousInternalValue) !== null && _a !== void 0 ? _a : this.fallbackValue;\n    }\n    set value(value) {\n      this.updateValue(value);\n    }\n    get safeCurrentValue() {\n      var _a;\n      return (_a = this.rawValue) !== null && _a !== void 0 ? _a : this.fallbackValue;\n    }\n    get invalid() {\n      return this.safeNgControlData(({\n        invalid\n      }) => invalid, false);\n    }\n    get valid() {\n      return this.safeNgControlData(({\n        valid\n      }) => valid, false);\n    }\n    get touched() {\n      return this.safeNgControlData(({\n        touched\n      }) => touched, false);\n    }\n    get disabled() {\n      return this.safeNgControlData(({\n        disabled\n      }) => disabled, false);\n    }\n    get interactive() {\n      return !this.readOnly && !this.computedDisabled;\n    }\n    get control() {\n      return this.safeNgControlData(({\n        control\n      }) => control, null);\n    }\n    get computedName() {\n      var _a, _b;\n      return (_b = (_a = this.controlName) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : null;\n    }\n    get controlName() {\n      var _a, _b, _c;\n      return (_c = (_b = (_a = this.ngControl) === null || _a === void 0 ? void 0 : _a.name) === null || _b === void 0 ? void 0 : _b.toString()) !== null && _c !== void 0 ? _c : null;\n    }\n    get rawValue() {\n      const {\n        ngControl\n      } = this;\n      if (ngControl === null) {\n        return undefined;\n      }\n      const controlValue = ngControl instanceof NgModel && this.previousInternalValue === undefined ? ngControl.viewModel : ngControl.value;\n      return this.fromControlValue(controlValue);\n    }\n    ngOnInit() {\n      this.refresh$.pipe(delay(0), startWith(null), map(() => {\n        var _a;\n        return (_a = this.ngControl) === null || _a === void 0 ? void 0 : _a.control;\n      }), filter(tuiIsPresent), distinctUntilChanged(), switchMap(control => merge(control.valueChanges, control.statusChanges)), takeUntil(this.destroy$)).subscribe(() => {\n        this.refreshLocalValue(this.safeCurrentValue);\n      });\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    checkControlUpdate() {\n      this.cdr.markForCheck();\n    }\n    registerOnChange(onChange) {\n      this.onChange = componentValue => {\n        onChange(this.toControlValue(componentValue));\n      };\n      this.refresh$.next();\n    }\n    registerOnTouched(onTouched) {\n      this.onTouched = onTouched;\n    }\n    setDisabledState() {\n      this.checkControlUpdate();\n    }\n    writeValue(value) {\n      const controlValue = this.ngControl instanceof NgModel && this.previousInternalValue === undefined ? this.ngControl.model : value;\n      this.refreshLocalValue(this.fromControlValue(controlValue));\n    }\n    updateFocused(focused) {\n      if (!focused) {\n        this.controlMarkAsTouched();\n      }\n      super.updateFocused(focused);\n    }\n    /**\n     * @deprecated use `value` setter\n     */\n    updateValue(value) {\n      if (this.disabled || this.valueIdenticalComparator(this.value, value)) {\n        return;\n      }\n      this.previousInternalValue = value;\n      this.controlSetValue(value);\n    }\n    valueIdenticalComparator(oldValue, newValue) {\n      return oldValue === newValue;\n    }\n    safeNgControlData(extractor, defaultFieldValue) {\n      var _a;\n      return (_a = this.ngControl && extractor(this.ngControl)) !== null && _a !== void 0 ? _a : defaultFieldValue;\n    }\n    controlMarkAsTouched() {\n      this.onTouched();\n      this.checkControlUpdate();\n    }\n    controlSetValue(value) {\n      this.onChange(value);\n      this.checkControlUpdate();\n    }\n    refreshLocalValue(value) {\n      this.previousInternalValue = value;\n      this.checkControlUpdate();\n    }\n    fromControlValue(controlValue) {\n      return this.valueTransformer ? this.valueTransformer.fromControlValue(controlValue) : controlValue;\n    }\n    toControlValue(componentValue) {\n      return this.valueTransformer ? this.valueTransformer.toControlValue(componentValue) : componentValue;\n    }\n  }\n  AbstractTuiControl.ɵfac = function AbstractTuiControl_Factory(t) {\n    return new (t || AbstractTuiControl)(i0.ɵɵdirectiveInject(i1.NgControl, 8), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(AbstractTuiValueTransformer, 8));\n  };\n  AbstractTuiControl.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiControl,\n    hostVars: 4,\n    hostBindings: function AbstractTuiControl_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_readonly\", ctx.readOnly)(\"_invalid\", ctx.computedInvalid);\n      }\n    },\n    inputs: {\n      readOnly: \"readOnly\",\n      pseudoInvalid: \"pseudoInvalid\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return AbstractTuiControl;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction tuiAsControl(useExisting) {\n  return {\n    provide: AbstractTuiControl,\n    useExisting\n  };\n}\nlet AbstractTuiController = /*#__PURE__*/(() => {\n  class AbstractTuiController {\n    constructor() {\n      this.change$ = new Subject();\n    }\n    ngOnChanges() {\n      this.change$.next();\n    }\n  }\n  AbstractTuiController.ɵfac = function AbstractTuiController_Factory(t) {\n    return new (t || AbstractTuiController)();\n  };\n  AbstractTuiController.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiController,\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n  return AbstractTuiController;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiDialogService = /*#__PURE__*/(() => {\n  class AbstractTuiDialogService extends Observable {\n    constructor(idService) {\n      super(observer => this.dialogs$.subscribe(observer));\n      this.idService = idService;\n      this.dialogs$ = new BehaviorSubject([]);\n    }\n    open(content, options = {}) {\n      return new Observable(observer => {\n        const completeWith = result => {\n          observer.next(result);\n          observer.complete();\n        };\n        const dialog = Object.assign(Object.assign(Object.assign({}, this.defaultOptions), options), {\n          content,\n          completeWith,\n          $implicit: observer,\n          component: this.component,\n          createdAt: Date.now(),\n          id: this.idService.generate()\n        });\n        this.dialogs$.next([...this.dialogs$.value, dialog]);\n        return () => {\n          this.dialogs$.next(this.dialogs$.value.filter(item => item !== dialog));\n        };\n      });\n    }\n  }\n  AbstractTuiDialogService.ɵfac = function AbstractTuiDialogService_Factory(t) {\n    return new (t || AbstractTuiDialogService)(i0.ɵɵinject(TuiIdService));\n  };\n  AbstractTuiDialogService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: AbstractTuiDialogService,\n    factory: AbstractTuiDialogService.ɵfac\n  });\n  return AbstractTuiDialogService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiDialogDirective = /*#__PURE__*/(() => {\n  class AbstractTuiDialogDirective extends PolymorpheusTemplate {\n    constructor(templateRef, cdr, service) {\n      super(templateRef, cdr);\n      this.service = service;\n      this.open$ = new Subject();\n      this.options = {};\n      this.open = false;\n      this.openChange = this.open$.pipe(distinctUntilChanged(), tuiIfMap(() => this.service.open(this, this.options).pipe(ignoreElements(), endWith(false))), share());\n    }\n    ngOnChanges() {\n      this.open$.next(this.open);\n    }\n  }\n  AbstractTuiDialogDirective.ɵfac = function AbstractTuiDialogDirective_Factory(t) {\n    return new (t || AbstractTuiDialogDirective)(i0.ɵɵdirectiveInject(TemplateRef), i0.ɵɵdirectiveInject(ChangeDetectorRef), i0.ɵɵdirectiveInject(AbstractTuiDialogService));\n  };\n  AbstractTuiDialogDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiDialogDirective,\n    features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  return AbstractTuiDialogDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiMultipleControl = /*#__PURE__*/(() => {\n  class AbstractTuiMultipleControl extends AbstractTuiControl {\n    clear() {\n      this.value = [];\n    }\n    getFallbackValue() {\n      return [];\n    }\n  }\n  AbstractTuiMultipleControl.ɵfac = /* @__PURE__ */(() => {\n    let ɵAbstractTuiMultipleControl_BaseFactory;\n    return function AbstractTuiMultipleControl_Factory(t) {\n      return (ɵAbstractTuiMultipleControl_BaseFactory || (ɵAbstractTuiMultipleControl_BaseFactory = i0.ɵɵgetInheritedFactory(AbstractTuiMultipleControl)))(t || AbstractTuiMultipleControl);\n    };\n  })();\n  AbstractTuiMultipleControl.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiMultipleControl,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return AbstractTuiMultipleControl;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiNullableControl = /*#__PURE__*/(() => {\n  class AbstractTuiNullableControl extends AbstractTuiControl {\n    getFallbackValue() {\n      return null;\n    }\n  }\n  AbstractTuiNullableControl.ɵfac = /* @__PURE__ */(() => {\n    let ɵAbstractTuiNullableControl_BaseFactory;\n    return function AbstractTuiNullableControl_Factory(t) {\n      return (ɵAbstractTuiNullableControl_BaseFactory || (ɵAbstractTuiNullableControl_BaseFactory = i0.ɵɵgetInheritedFactory(AbstractTuiNullableControl)))(t || AbstractTuiNullableControl);\n    };\n  })();\n  AbstractTuiNullableControl.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiNullableControl,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return AbstractTuiNullableControl;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Abstract service for displaying portals\n */\nlet AbstractTuiPortalService = /*#__PURE__*/(() => {\n  class AbstractTuiPortalService {\n    get safeHost() {\n      if (!this.host) {\n        throw new TuiNoHostException();\n      }\n      return this.host;\n    }\n    attach(host) {\n      this.host = host;\n    }\n    add(component) {\n      return this.safeHost.addComponentChild(component);\n    }\n    remove({\n      hostView\n    }) {\n      if (!hostView.destroyed) {\n        hostView.destroy();\n      }\n    }\n    addTemplate(templateRef, context) {\n      return this.safeHost.addTemplateChild(templateRef, context);\n    }\n    removeTemplate(viewRef) {\n      if (!viewRef.destroyed) {\n        viewRef.destroy();\n      }\n    }\n  }\n  AbstractTuiPortalService.ɵfac = function AbstractTuiPortalService_Factory(t) {\n    return new (t || AbstractTuiPortalService)();\n  };\n  AbstractTuiPortalService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: AbstractTuiPortalService,\n    factory: AbstractTuiPortalService.ɵfac\n  });\n  return AbstractTuiPortalService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Abstract class for host element for dynamically created portals.\n */\nlet AbstractTuiPortalHostComponent = /*#__PURE__*/(() => {\n  class AbstractTuiPortalHostComponent {\n    constructor(injector, el, portalService) {\n      this.injector = injector;\n      this.el = el;\n      portalService.attach(this);\n    }\n    /** @deprecated unused, will be removed in 4.0 **/\n    get clientRect() {\n      return this.el.nativeElement.getBoundingClientRect();\n    }\n    addComponentChild(component) {\n      const parent = component.createInjector(this.injector);\n      const resolver = parent.get(ComponentFactoryResolver);\n      const factory = resolver.resolveComponentFactory(component.component);\n      // TODO: Remove in 4.0\n      const providers = [{\n        provide: AbstractTuiPortalHostComponent,\n        useValue: this\n      }];\n      const injector = Injector.create({\n        parent,\n        providers\n      });\n      const ref = this.vcr.createComponent(factory, undefined, injector);\n      ref.changeDetectorRef.detectChanges();\n      return ref;\n    }\n    addTemplateChild(templateRef, context) {\n      return this.vcr.createEmbeddedView(templateRef, context);\n    }\n  }\n  AbstractTuiPortalHostComponent.ɵfac = function AbstractTuiPortalHostComponent_Factory(t) {\n    return new (t || AbstractTuiPortalHostComponent)(i0.ɵɵdirectiveInject(INJECTOR), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(AbstractTuiPortalService));\n  };\n  AbstractTuiPortalHostComponent.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiPortalHostComponent,\n    viewQuery: function AbstractTuiPortalHostComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5, ViewContainerRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.vcr = _t.first);\n      }\n    }\n  });\n  return AbstractTuiPortalHostComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Use this abstract class to create your own toggleable themes.\n * A component extending this class must have CSS variables definitions\n * and have ViewEncapsulation set to NONE. A boolean input allows to\n * switch theme on or off.\n */\nlet AbstractTuiThemeSwitcher = /*#__PURE__*/(() => {\n  class AbstractTuiThemeSwitcher {\n    constructor(doc) {\n      this.doc = doc;\n      if (this.style !== null) {\n        this.addTheme();\n        return;\n      }\n      const styles = this.doc.head.querySelectorAll('style');\n      this.constructor.style = styles[styles.length - 1];\n    }\n    get style() {\n      return this.constructor.style;\n    }\n    ngOnDestroy() {\n      this.removeTheme();\n    }\n    addTheme() {\n      if (this.style) {\n        this.doc.head.appendChild(this.style);\n      }\n    }\n    removeTheme() {\n      var _a;\n      (_a = this.style) === null || _a === void 0 ? void 0 : _a.remove();\n    }\n  }\n  AbstractTuiThemeSwitcher.style = null;\n  AbstractTuiThemeSwitcher.ɵfac = function AbstractTuiThemeSwitcher_Factory(t) {\n    return new (t || AbstractTuiThemeSwitcher)(i0.ɵɵdirectiveInject(DOCUMENT));\n  };\n  AbstractTuiThemeSwitcher.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiThemeSwitcher\n  });\n  return AbstractTuiThemeSwitcher;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiControl, AbstractTuiController, AbstractTuiDialogDirective, AbstractTuiDialogService, AbstractTuiInteractive, AbstractTuiMultipleControl, AbstractTuiNullableControl, AbstractTuiPortalHostComponent, AbstractTuiPortalService, AbstractTuiThemeSwitcher, AbstractTuiValueTransformer, tuiAsControl };\n","import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { NgZone, ElementRef, Directive, Inject, Optional, SkipSelf, Input, Output, NgModule } from '@angular/core';\nimport { tuiPure } from '@taiga-ui/cdk/decorators';\nimport { tuiZoneOptimized } from '@taiga-ui/cdk/observables';\nimport { TUI_ACTIVE_ELEMENT } from '@taiga-ui/cdk/tokens';\nimport { tuiArrayRemove } from '@taiga-ui/cdk/utils';\nimport { map, startWith, distinctUntilChanged, skip } from 'rxjs/operators';\nimport * as i1 from 'rxjs';\nlet TuiActiveZoneDirective = /*#__PURE__*/(() => {\n  class TuiActiveZoneDirective {\n    constructor(active$, zone, el, directParentActiveZone) {\n      var _a;\n      this.active$ = active$;\n      this.zone = zone;\n      this.el = el;\n      this.directParentActiveZone = directParentActiveZone;\n      this.subActiveZones = [];\n      this.tuiActiveZoneParent = null;\n      this.tuiActiveZoneChange = this.active$.pipe(map(element => !!element && this.contains(element)), startWith(false), distinctUntilChanged(), skip(1), tuiZoneOptimized(this.zone));\n      (_a = this.directParentActiveZone) === null || _a === void 0 ? void 0 : _a.addSubActiveZone(this);\n    }\n    set tuiActiveZoneParentSetter(zone) {\n      this.setZone(zone);\n    }\n    ngOnDestroy() {\n      var _a, _b;\n      (_a = this.directParentActiveZone) === null || _a === void 0 ? void 0 : _a.removeSubActiveZone(this);\n      (_b = this.tuiActiveZoneParent) === null || _b === void 0 ? void 0 : _b.removeSubActiveZone(this);\n    }\n    contains(node) {\n      return this.el.nativeElement.contains(node) || this.subActiveZones.some((item, index, array) => array.indexOf(item) === index && item.contains(node));\n    }\n    setZone(zone) {\n      var _a;\n      (_a = this.tuiActiveZoneParent) === null || _a === void 0 ? void 0 : _a.removeSubActiveZone(this);\n      zone === null || zone === void 0 ? void 0 : zone.addSubActiveZone(this);\n      this.tuiActiveZoneParent = zone;\n    }\n    addSubActiveZone(activeZone) {\n      this.subActiveZones = [...this.subActiveZones, activeZone];\n    }\n    removeSubActiveZone(activeZone) {\n      this.subActiveZones = tuiArrayRemove(this.subActiveZones, this.subActiveZones.indexOf(activeZone));\n    }\n  }\n  TuiActiveZoneDirective.ɵfac = function TuiActiveZoneDirective_Factory(t) {\n    return new (t || TuiActiveZoneDirective)(i0.ɵɵdirectiveInject(TUI_ACTIVE_ELEMENT), i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TuiActiveZoneDirective, 12));\n  };\n  TuiActiveZoneDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiActiveZoneDirective,\n    selectors: [[\"\", \"tuiActiveZone\", \"\", 5, \"ng-container\"], [\"\", \"tuiActiveZoneChange\", \"\", 5, \"ng-container\"], [\"\", \"tuiActiveZoneParent\", \"\", 5, \"ng-container\"]],\n    hostBindings: function TuiActiveZoneDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown.silent\", function TuiActiveZoneDirective_mousedown_silent_HostBindingHandler() {\n          return 0;\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      tuiActiveZoneParentSetter: [0, \"tuiActiveZoneParent\", \"tuiActiveZoneParentSetter\"]\n    },\n    outputs: {\n      tuiActiveZoneChange: \"tuiActiveZoneChange\"\n    },\n    exportAs: [\"tuiActiveZone\"]\n  });\n  __decorate([tuiPure], TuiActiveZoneDirective.prototype, \"setZone\", null);\n  return TuiActiveZoneDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiActiveZoneModule = /*#__PURE__*/(() => {\n  class TuiActiveZoneModule {}\n  TuiActiveZoneModule.ɵfac = function TuiActiveZoneModule_Factory(t) {\n    return new (t || TuiActiveZoneModule)();\n  };\n  TuiActiveZoneModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiActiveZoneModule\n  });\n  TuiActiveZoneModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiActiveZoneModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiActiveZoneDirective, TuiActiveZoneModule };\n","/**\n * Coerces a data-bound value (typically a string) to a boolean.\n * @example {@link https://material.angular.io/cdk/coercion/api#functions}\n */\nfunction tuiCoerceBooleanProperty(value) {\n  return value !== null && typeof value !== 'undefined' && `${value}` !== 'false';\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiCoerceBooleanProperty };\n","import * as i0 from '@angular/core';\nimport { Directive, ElementRef, Optional, Self, Inject, Renderer2, NgZone, InjectionToken, Input, NgModule } from '@angular/core';\nimport { tuiCoerceBooleanProperty } from '@taiga-ui/cdk/coercion';\nimport * as i1$1 from '@taiga-ui/cdk/services';\nimport { TuiDestroyService } from '@taiga-ui/cdk/services';\nimport * as i1 from 'rxjs';\nimport { race, timer } from 'rxjs';\nimport { throttleTime, map, skipWhile, take, takeUntil } from 'rxjs/operators';\nimport { ANIMATION_FRAME, WINDOW } from '@ng-web-apis/common';\nimport { TUI_FOCUSABLE_ITEM_ACCESSOR, TUI_IS_IOS } from '@taiga-ui/cdk/tokens';\nimport { tuiCreateToken, tuiProvideOptions } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { POLLING_TIME } from '@taiga-ui/cdk/constants';\nimport { tuiPx, tuiIsPresent } from '@taiga-ui/cdk/utils';\nlet AbstractTuiAutofocusHandler = /*#__PURE__*/(() => {\n  class AbstractTuiAutofocusHandler {\n    constructor(focusable, el) {\n      this.focusable = focusable;\n      this.el = el;\n    }\n    get element() {\n      var _a;\n      return ((_a = this.focusable) === null || _a === void 0 ? void 0 : _a.nativeFocusableElement) || this.el.nativeElement;\n    }\n    get isTextFieldElement() {\n      return this.element.matches('input, textarea, [contenteditable]');\n    }\n  }\n  AbstractTuiAutofocusHandler.ɵfac = function AbstractTuiAutofocusHandler_Factory(t) {\n    i0.ɵɵinvalidFactory();\n  };\n  AbstractTuiAutofocusHandler.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiAutofocusHandler\n  });\n  return AbstractTuiAutofocusHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TIMEOUT = 1000;\nconst NG_ANIMATION_SELECTOR = '.ng-animating';\nlet TuiDefaultAutofocusHandler = /*#__PURE__*/(() => {\n  class TuiDefaultAutofocusHandler extends AbstractTuiAutofocusHandler {\n    constructor(focusable, el, animationFrame$) {\n      super(focusable, el);\n      this.animationFrame$ = animationFrame$;\n    }\n    setFocus() {\n      if (this.isTextFieldElement) {\n        race(timer(TIMEOUT), this.animationFrame$.pipe(throttleTime(POLLING_TIME), map(() => this.element.closest(NG_ANIMATION_SELECTOR)), skipWhile(Boolean), take(1))).subscribe(() => this.element.focus({\n          preventScroll: true\n        }));\n      } else {\n        this.element.focus({\n          preventScroll: true\n        });\n      }\n    }\n  }\n  TuiDefaultAutofocusHandler.ɵfac = function TuiDefaultAutofocusHandler_Factory(t) {\n    return new (t || TuiDefaultAutofocusHandler)(i0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 10), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(ANIMATION_FRAME));\n  };\n  TuiDefaultAutofocusHandler.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDefaultAutofocusHandler,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDefaultAutofocusHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TEXTFIELD_ATTRS = ['type', 'inputMode', 'autocomplete', 'accept', 'min', 'max', 'step', 'pattern', 'size', 'maxlength'];\nlet TuiIosAutofocusHandler = /*#__PURE__*/(() => {\n  class TuiIosAutofocusHandler extends AbstractTuiAutofocusHandler {\n    constructor(focusable, el, renderer, zone, win) {\n      super(focusable, el);\n      this.renderer = renderer;\n      this.zone = zone;\n      this.win = win;\n      this.patchCssStyles();\n    }\n    setFocus() {\n      if (this.isTextFieldElement) {\n        this.zone.runOutsideAngular(() => this.iosWebkitAutofocus());\n      } else {\n        this.element.focus({\n          preventScroll: true\n        });\n      }\n    }\n    iosWebkitAutofocus() {\n      var _a;\n      const fakeInput = this.makeFakeInput();\n      const duration = this.getDurationTimeBeforeFocus();\n      let fakeFocusTimeoutId = 0;\n      let elementFocusTimeoutId = 0;\n      const blurHandler = () => fakeInput.focus({\n        preventScroll: true\n      });\n      const focusHandler = () => {\n        clearTimeout(fakeFocusTimeoutId);\n        fakeFocusTimeoutId = this.win.setTimeout(() => {\n          clearTimeout(elementFocusTimeoutId);\n          fakeInput.removeEventListener('blur', blurHandler);\n          fakeInput.removeEventListener('focus', focusHandler);\n          elementFocusTimeoutId = this.win.setTimeout(() => {\n            this.element.focus({\n              preventScroll: false\n            });\n            fakeInput.remove();\n          }, duration);\n        });\n      };\n      fakeInput.addEventListener('blur', blurHandler, {\n        once: true\n      });\n      fakeInput.addEventListener('focus', focusHandler);\n      if (this.insideDialog()) {\n        this.win.document.body.appendChild(fakeInput);\n      } else {\n        (_a = this.element.parentElement) === null || _a === void 0 ? void 0 : _a.appendChild(fakeInput);\n      }\n      fakeInput.focus({\n        preventScroll: true\n      });\n    }\n    /**\n     * @note:\n     * emulate textfield position in layout with cursor\n     * before focus to real textfield element\n     *\n     * required note:\n     * [fakeInput.readOnly = true] ~\n     * don't use {readOnly: true} value, it's doesn't work for emulate autofill\n     *\n     * [fakeInput.style.opacity = 0] ~\n     * don't use {opacity: 0}, sometimes it's doesn't work for emulate real input\n     *\n     * [fakeInput.style.fontSize = 16px] ~\n     * disable possible auto zoom\n     *\n     * [fakeInput.style.top/left] ~\n     * emulate position cursor before focus to real textfield element\n     */\n    makeFakeInput() {\n      const fakeInput = this.renderer.createElement('input');\n      const rect = this.element.getBoundingClientRect();\n      this.patchFakeInputFromFocusableElement(fakeInput);\n      fakeInput.style.height = tuiPx(rect.height);\n      fakeInput.style.width = tuiPx(rect.width / 2);\n      fakeInput.style.position = 'fixed';\n      fakeInput.style.zIndex = '-99999999';\n      fakeInput.style.caretColor = 'transparent';\n      fakeInput.style.border = 'none';\n      fakeInput.style.outline = 'none';\n      fakeInput.style.color = 'transparent';\n      fakeInput.style.background = 'transparent';\n      fakeInput.style.cursor = 'none';\n      fakeInput.style.fontSize = tuiPx(16);\n      fakeInput.style.top = tuiPx(rect.top);\n      fakeInput.style.left = tuiPx(rect.left);\n      return fakeInput;\n    }\n    getDurationTimeBeforeFocus() {\n      return parseFloat(this.win.getComputedStyle(this.element).getPropertyValue('--tui-duration')) || 0;\n    }\n    /**\n     * @note:\n     * unfortunately, in older versions of iOS\n     * there is a bug that the fake input cursor\n     * will move along with the dialog animation\n     * and then that dialog will be shaking\n     */\n    insideDialog() {\n      return !!this.element.closest('tui-dialog');\n    }\n    /**\n     * @note:\n     * This is necessary so that the viewport isn't recalculated\n     * and then the dialogs don't shake.\n     *\n     * Also, we need to fixed height viewport,\n     * so that when focusing the dialogs don't shake\n     */\n    patchCssStyles() {\n      [this.win.document.documentElement, this.win.document.body].forEach(element => {\n        element.style.setProperty('overflow', 'auto');\n        element.style.setProperty('height', '100%');\n      });\n    }\n    /**\n     * @note:\n     * inherit basic attributes values from real input\n     * for help iOS detect what do you want see on keyboard,\n     * for example [inputMode=numeric, autocomplete=cc-number]\n     */\n    patchFakeInputFromFocusableElement(fakeInput) {\n      TEXTFIELD_ATTRS.forEach(attr => {\n        const value = this.element.getAttribute(attr);\n        if (tuiIsPresent(value)) {\n          fakeInput.setAttribute(attr, value);\n        }\n      });\n    }\n  }\n  TuiIosAutofocusHandler.ɵfac = function TuiIosAutofocusHandler_Factory(t) {\n    return new (t || TuiIosAutofocusHandler)(i0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 10), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(Renderer2), i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(WINDOW));\n  };\n  TuiIosAutofocusHandler.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiIosAutofocusHandler,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiIosAutofocusHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_AUTOFOCUS_DEFAULT_OPTIONS = {\n  delay: NaN // NaN = no delay/sync\n};\nconst TUI_AUTOFOCUS_OPTIONS = tuiCreateToken(TUI_AUTOFOCUS_DEFAULT_OPTIONS);\nfunction tuiAutoFocusOptionsProvider(options) {\n  return tuiProvideOptions(TUI_AUTOFOCUS_OPTIONS, options, TUI_AUTOFOCUS_DEFAULT_OPTIONS);\n}\nconst TUI_AUTOFOCUS_HANDLER = new InjectionToken('[TUI_AUTOFOCUS_HANDLER]');\nconst TUI_AUTOFOCUS_PROVIDERS = [{\n  provide: TUI_AUTOFOCUS_HANDLER,\n  useFactory: (focusable, el, animationFrame$, renderer, zone, win, isIos) => isIos ? new TuiIosAutofocusHandler(focusable, el, renderer, zone, win) : new TuiDefaultAutofocusHandler(focusable, el, animationFrame$),\n  deps: [[new Optional(), new Self(), TUI_FOCUSABLE_ITEM_ACCESSOR], ElementRef, ANIMATION_FRAME, Renderer2, NgZone, WINDOW, TUI_IS_IOS]\n}, TuiDestroyService];\nlet TuiAutoFocusDirective = /*#__PURE__*/(() => {\n  class TuiAutoFocusDirective {\n    constructor(handler, options, destroy$) {\n      this.handler = handler;\n      this.options = options;\n      this.destroy$ = destroy$;\n      this.autoFocus = true;\n    }\n    ngAfterViewInit() {\n      if (tuiCoerceBooleanProperty(this.autoFocus)) {\n        this.focus();\n      }\n    }\n    focus() {\n      if (Number.isNaN(this.options.delay)) {\n        void Promise.resolve().then(() => this.handler.setFocus());\n      } else {\n        timer(this.options.delay).pipe(takeUntil(this.destroy$)).subscribe(() => this.handler.setFocus());\n      }\n    }\n  }\n  TuiAutoFocusDirective.ɵfac = function TuiAutoFocusDirective_Factory(t) {\n    return new (t || TuiAutoFocusDirective)(i0.ɵɵdirectiveInject(TUI_AUTOFOCUS_HANDLER), i0.ɵɵdirectiveInject(TUI_AUTOFOCUS_OPTIONS), i0.ɵɵdirectiveInject(TuiDestroyService, 2));\n  };\n  TuiAutoFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiAutoFocusDirective,\n    selectors: [[\"\", \"tuiAutoFocus\", \"\"]],\n    inputs: {\n      autoFocus: [0, \"tuiAutoFocus\", \"autoFocus\"]\n    },\n    features: [i0.ɵɵProvidersFeature(TUI_AUTOFOCUS_PROVIDERS)]\n  });\n  return TuiAutoFocusDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAutoFocusModule = /*#__PURE__*/(() => {\n  class TuiAutoFocusModule {}\n  TuiAutoFocusModule.ɵfac = function TuiAutoFocusModule_Factory(t) {\n    return new (t || TuiAutoFocusModule)();\n  };\n  TuiAutoFocusModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiAutoFocusModule\n  });\n  TuiAutoFocusModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiAutoFocusModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiSynchronousAutofocusHandler = /*#__PURE__*/(() => {\n  class TuiSynchronousAutofocusHandler extends AbstractTuiAutofocusHandler {\n    constructor(focusable, el) {\n      super(focusable, el);\n    }\n    setFocus() {\n      this.element.focus({\n        preventScroll: true\n      });\n    }\n  }\n  TuiSynchronousAutofocusHandler.ɵfac = function TuiSynchronousAutofocusHandler_Factory(t) {\n    return new (t || TuiSynchronousAutofocusHandler)(i0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 10), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiSynchronousAutofocusHandler.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiSynchronousAutofocusHandler,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiSynchronousAutofocusHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiAutofocusHandler, TUI_AUTOFOCUS_DEFAULT_OPTIONS, TUI_AUTOFOCUS_HANDLER, TUI_AUTOFOCUS_OPTIONS, TUI_AUTOFOCUS_PROVIDERS, TuiAutoFocusDirective, TuiAutoFocusModule, TuiDefaultAutofocusHandler, TuiIosAutofocusHandler, TuiSynchronousAutofocusHandler, tuiAutoFocusOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { Injectable, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { AbstractTuiPortalService, AbstractTuiPortalHostComponent } from '@taiga-ui/cdk/abstract';\n\n/**\n * Service for displaying dropdown portals\n */\nconst _c0 = [\"*\"];\nlet TuiDropdownPortalService = /*#__PURE__*/(() => {\n  class TuiDropdownPortalService extends AbstractTuiPortalService {}\n  TuiDropdownPortalService.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDropdownPortalService_BaseFactory;\n    return function TuiDropdownPortalService_Factory(t) {\n      return (ɵTuiDropdownPortalService_BaseFactory || (ɵTuiDropdownPortalService_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDropdownPortalService)))(t || TuiDropdownPortalService);\n    };\n  })();\n  TuiDropdownPortalService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiDropdownPortalService,\n    factory: TuiDropdownPortalService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiDropdownPortalService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Host element for dynamically created portals, for example using {@link TuiDropdownDirective}.\n */\nlet TuiDropdownHostComponent = /*#__PURE__*/(() => {\n  class TuiDropdownHostComponent extends AbstractTuiPortalHostComponent {}\n  TuiDropdownHostComponent.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDropdownHostComponent_BaseFactory;\n    return function TuiDropdownHostComponent_Factory(t) {\n      return (ɵTuiDropdownHostComponent_BaseFactory || (ɵTuiDropdownHostComponent_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDropdownHostComponent)))(t || TuiDropdownHostComponent);\n    };\n  })();\n  TuiDropdownHostComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDropdownHostComponent,\n    selectors: [[\"tui-dropdown-host\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: AbstractTuiPortalService,\n      useExisting: TuiDropdownPortalService\n    },\n    // TODO: Remove in 4.0\n    {\n      provide: AbstractTuiPortalHostComponent,\n      useExisting: TuiDropdownHostComponent\n    }]), i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c0,\n    decls: 3,\n    vars: 0,\n    consts: [[\"viewContainer\", \"\"]],\n    template: function TuiDropdownHostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵprojection(0);\n        i0.ɵɵelementContainer(1, null, 0);\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{position:relative;z-index:0;display:block;height:100%}[_nghost-%COMP%]:before{content:\\\"\\\";display:block;overflow:hidden}.t-position-fixed-offset[_ngcontent-%COMP%]{position:fixed;left:0;top:0;pointer-events:none;visibility:hidden;width:100%;height:100%}\"],\n    changeDetection: 0\n  });\n  return TuiDropdownHostComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownHostModule = /*#__PURE__*/(() => {\n  class TuiDropdownHostModule {}\n  TuiDropdownHostModule.ɵfac = function TuiDropdownHostModule_Factory(t) {\n    return new (t || TuiDropdownHostModule)();\n  };\n  TuiDropdownHostModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiDropdownHostModule\n  });\n  TuiDropdownHostModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiDropdownHostModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiDropdownHostComponent, TuiDropdownHostModule, TuiDropdownPortalService };\n","import * as i0 from '@angular/core';\nimport { NgZone, ElementRef, Directive, Inject, Self, Input, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { ANIMATION_FRAME } from '@ng-web-apis/common';\nimport { tuiTypedFromEvent, tuiZonefree, tuiScrollFrom, tuiZoneOptimized } from '@taiga-ui/cdk/observables';\nimport { TUI_SCROLL_REF, TUI_IS_IOS } from '@taiga-ui/cdk/tokens';\nimport { map, switchMap, takeUntil, throttleTime, startWith, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1$1 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { POLLING_TIME } from '@taiga-ui/cdk/constants';\nimport { TuiDestroyService } from '@taiga-ui/cdk/services';\nimport * as i1 from 'rxjs';\nimport { merge } from 'rxjs';\nfunction TuiScrollControlsComponent_ng_container_0_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const bars_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵclassProp(\"t-bar_has-horizontal\", bars_r1[1]);\n  }\n}\nfunction TuiScrollControlsComponent_ng_container_0_ng_container_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const bars_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵclassProp(\"t-bar_has-vertical\", bars_r1[0]);\n  }\n}\nfunction TuiScrollControlsComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiScrollControlsComponent_ng_container_0_ng_container_1_div_1_Template, 2, 2, \"div\", 1)(2, TuiScrollControlsComponent_ng_container_0_ng_container_1_div_2_Template, 2, 2, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const bars_r1 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", bars_r1[0]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", bars_r1[1]);\n  }\n}\nfunction TuiScrollControlsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiScrollControlsComponent_ng_container_0_ng_container_1_Template, 3, 2, \"ng-container\", 0);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r1.refresh$));\n  }\n}\nconst MIN_WIDTH = 24;\nfunction getOffsetVertical({\n  clientY\n}, {\n  top,\n  height\n}) {\n  return (clientY - top) / height;\n}\nfunction getOffsetHorizontal({\n  clientX\n}, {\n  left,\n  width\n}) {\n  return (clientX - left) / width;\n}\nlet TuiScrollbarDirective = /*#__PURE__*/(() => {\n  class TuiScrollbarDirective {\n    constructor(zone, destroy$, animationFrame$, container, doc, el) {\n      this.container = container;\n      this.doc = doc;\n      this.el = el;\n      this.tuiScrollbar = 'vertical';\n      const {\n        nativeElement\n      } = this.el;\n      const mousedown$ = tuiTypedFromEvent(nativeElement, 'mousedown');\n      const mousemove$ = tuiTypedFromEvent(this.doc, 'mousemove');\n      const mouseup$ = tuiTypedFromEvent(this.doc, 'mouseup');\n      const mousedownWrapper$ = tuiTypedFromEvent(this.wrapper, 'mousedown');\n      merge(mousedownWrapper$.pipe(map(event => this.getScrolled(event, 0.5, 0.5))), mousedown$.pipe(switchMap(event => {\n        const rect = nativeElement.getBoundingClientRect();\n        const vertical = getOffsetVertical(event, rect);\n        const horizontal = getOffsetHorizontal(event, rect);\n        return mousemove$.pipe(map(event => this.getScrolled(event, vertical, horizontal)), takeUntil(mouseup$));\n      }))).pipe(tuiZonefree(zone), takeUntil(destroy$)).subscribe(([scrollTop, scrollLeft]) => {\n        this.element.style.scrollBehavior = 'auto';\n        if (this.tuiScrollbar === 'vertical') {\n          this.element.scrollTop = scrollTop;\n        } else {\n          this.element.scrollLeft = scrollLeft;\n        }\n        this.element.style.scrollBehavior = '';\n      });\n      merge(animationFrame$.pipe(throttleTime(POLLING_TIME)), tuiScrollFrom(this.element)).pipe(tuiZonefree(zone), takeUntil(destroy$)).subscribe(() => {\n        if (this.tuiScrollbar === 'vertical') {\n          nativeElement.style.top = `${this.thumb * 100}%`;\n          nativeElement.style.height = `${this.view * 100}%`;\n        } else {\n          nativeElement.style.left = `${this.thumb * 100}%`;\n          nativeElement.style.width = `${this.view * 100}%`;\n        }\n      });\n    }\n    get wrapper() {\n      return this.el.nativeElement.parentElement;\n    }\n    get scrolled() {\n      const {\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n        scrollLeft,\n        scrollWidth,\n        clientWidth\n      } = this.element;\n      return this.tuiScrollbar === 'vertical' ? scrollTop / (scrollHeight - clientHeight) : scrollLeft / (scrollWidth - clientWidth);\n    }\n    get compensation() {\n      const {\n        clientHeight,\n        scrollHeight,\n        clientWidth,\n        scrollWidth\n      } = this.element;\n      if (clientHeight * clientHeight / scrollHeight > MIN_WIDTH && this.tuiScrollbar === 'vertical' || clientWidth * clientWidth / scrollWidth > MIN_WIDTH && this.tuiScrollbar === 'horizontal') {\n        return 0;\n      }\n      return this.tuiScrollbar === 'vertical' ? MIN_WIDTH / clientHeight : MIN_WIDTH / clientWidth;\n    }\n    get thumb() {\n      const compensation = this.compensation || this.view;\n      return this.scrolled * (1 - compensation);\n    }\n    get view() {\n      const {\n        clientHeight,\n        scrollHeight,\n        clientWidth,\n        scrollWidth\n      } = this.element;\n      return this.tuiScrollbar === 'vertical' ? Math.ceil(clientHeight / scrollHeight * 100) / 100 : Math.ceil(clientWidth / scrollWidth * 100) / 100;\n    }\n    get element() {\n      return this.container.nativeElement;\n    }\n    getScrolled({\n      clientY,\n      clientX\n    }, offsetVertical, offsetHorizontal) {\n      const {\n        offsetHeight,\n        offsetWidth\n      } = this.el.nativeElement;\n      const {\n        top,\n        left,\n        width,\n        height\n      } = this.wrapper.getBoundingClientRect();\n      const maxTop = this.element.scrollHeight - height;\n      const maxLeft = this.element.scrollWidth - width;\n      const scrolledTop = (clientY - top - offsetHeight * offsetVertical) / (height - offsetHeight);\n      const scrolledLeft = (clientX - left - offsetWidth * offsetHorizontal) / (width - offsetWidth);\n      return [maxTop * scrolledTop, maxLeft * scrolledLeft];\n    }\n  }\n  TuiScrollbarDirective.ɵfac = function TuiScrollbarDirective_Factory(t) {\n    return new (t || TuiScrollbarDirective)(i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(ANIMATION_FRAME), i0.ɵɵdirectiveInject(TUI_SCROLL_REF), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiScrollbarDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiScrollbarDirective,\n    selectors: [[\"\", \"tuiScrollbar\", \"\"]],\n    inputs: {\n      tuiScrollbar: \"tuiScrollbar\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])]\n  });\n  return TuiScrollbarDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiScrollControlsComponent = /*#__PURE__*/(() => {\n  class TuiScrollControlsComponent {\n    constructor(isIOS, zone, scrollRef, animationFrame$) {\n      this.isIOS = isIOS;\n      this.zone = zone;\n      this.scrollRef = scrollRef;\n      this.animationFrame$ = animationFrame$;\n      this.refresh$ = this.animationFrame$.pipe(throttleTime(300), map(() => {\n        const {\n          clientHeight,\n          scrollHeight,\n          clientWidth,\n          scrollWidth\n        } = this.scrollRef.nativeElement;\n        return [Math.ceil(clientHeight / scrollHeight * 100) < 100, Math.ceil(clientWidth / scrollWidth * 100) < 100];\n      }), startWith([false, false]), distinctUntilChanged((a, b) => a[0] === b[0] && a[1] === b[1]), tuiZoneOptimized(this.zone));\n    }\n  }\n  TuiScrollControlsComponent.ɵfac = function TuiScrollControlsComponent_Factory(t) {\n    return new (t || TuiScrollControlsComponent)(i0.ɵɵdirectiveInject(TUI_IS_IOS), i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(TUI_SCROLL_REF), i0.ɵɵdirectiveInject(ANIMATION_FRAME));\n  };\n  TuiScrollControlsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiScrollControlsComponent,\n    selectors: [[\"tui-scroll-controls\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [\"class\", \"t-bar t-bar_vertical\", 3, \"t-bar_has-horizontal\", 4, \"ngIf\"], [\"class\", \"t-bar t-bar_horizontal\", 3, \"t-bar_has-vertical\", 4, \"ngIf\"], [1, \"t-bar\", \"t-bar_vertical\"], [\"tuiScrollbar\", \"vertical\", 1, \"t-thumb\"], [1, \"t-bar\", \"t-bar_horizontal\"], [\"tuiScrollbar\", \"horizontal\", 1, \"t-thumb\"]],\n    template: function TuiScrollControlsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiScrollControlsComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.isIOS);\n      }\n    },\n    dependencies: [i1$1.NgIf, TuiScrollbarDirective, i1$1.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;min-width:calc(100% - 1px);min-height:calc(100% - 1px);max-width:calc(100% - 1px);max-height:calc(100% - 1px);float:left;-webkit-margin-end:calc(-100% + 1px);margin-inline-end:calc(-100% + 1px);pointer-events:none}.t-bar[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;pointer-events:auto;animation:tuiFadeIn var(--tui-duration, .3s) ease-in-out}.t-bar_vertical[_ngcontent-%COMP%]{top:0;width:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]{left:0;height:.875rem}.t-bar_has-horizontal[_ngcontent-%COMP%]{bottom:.5rem}.t-bar_has-vertical[_ngcontent-%COMP%]{right:.5rem}.t-thumb[_ngcontent-%COMP%]{position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;background:currentColor;background-clip:content-box;box-sizing:border-box;transition:all var(--tui-duration, .3s) ease-in-out;transition-property:width,height,opacity;opacity:.2}.t-thumb[_ngcontent-%COMP%]:hover{opacity:.24}.t-thumb[_ngcontent-%COMP%]:active{opacity:.48}.t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{right:0;width:.75rem;min-height:1.25rem}.t-bar_vertical[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{width:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{bottom:0;height:.75rem;min-width:1.25rem}.t-bar_horizontal[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{height:.875rem}\"],\n    changeDetection: 0\n  });\n  return TuiScrollControlsComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst SCROLL_REF_SELECTOR = '[tuiScrollRef]';\nlet TuiScrollRefDirective = /*#__PURE__*/(() => {\n  class TuiScrollRefDirective {}\n  TuiScrollRefDirective.ɵfac = function TuiScrollRefDirective_Factory(t) {\n    return new (t || TuiScrollRefDirective)();\n  };\n  TuiScrollRefDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiScrollRefDirective,\n    selectors: [[\"\", \"tuiScrollRef\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_SCROLL_REF,\n      useExisting: ElementRef\n    }])]\n  });\n  return TuiScrollRefDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiScrollControlsModule = /*#__PURE__*/(() => {\n  class TuiScrollControlsModule {}\n  TuiScrollControlsModule.ɵfac = function TuiScrollControlsModule_Factory(t) {\n    return new (t || TuiScrollControlsModule)();\n  };\n  TuiScrollControlsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiScrollControlsModule\n  });\n  TuiScrollControlsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return TuiScrollControlsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { SCROLL_REF_SELECTOR, TuiScrollControlsComponent, TuiScrollControlsModule, TuiScrollRefDirective, TuiScrollbarDirective };\n","import * as i0 from '@angular/core';\nimport { ViewContainerRef, TemplateRef, Directive, Inject, Input, NgModule } from '@angular/core';\n\n/**\n * @internal\n */\nclass TuiLetContext {\n  constructor(internalDirectiveInstance) {\n    this.internalDirectiveInstance = internalDirectiveInstance;\n  }\n  get $implicit() {\n    return this.internalDirectiveInstance.tuiLet;\n  }\n  get tuiLet() {\n    return this.internalDirectiveInstance.tuiLet;\n  }\n}\n\n/**\n * Works like *ngIf but does not have a condition — use it to declare\n * the result of pipes calculation (i.e. async pipe)\n */\nlet TuiLetDirective = /*#__PURE__*/(() => {\n  class TuiLetDirective {\n    constructor(viewContainer, templateRef) {\n      viewContainer.createEmbeddedView(templateRef, new TuiLetContext(this));\n    }\n    /**\n     * Asserts the correct type of the context for the template that `TuiLet` will render.\n     *\n     * The presence of this method is a signal to the Ivy template type-check compiler that the\n     * `TuiLet` structural directive renders its template with a specific context type.\n     */\n    static ngTemplateContextGuard(_dir, _ctx) {\n      return true;\n    }\n  }\n  TuiLetDirective.ɵfac = function TuiLetDirective_Factory(t) {\n    return new (t || TuiLetDirective)(i0.ɵɵdirectiveInject(ViewContainerRef), i0.ɵɵdirectiveInject(TemplateRef));\n  };\n  TuiLetDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiLetDirective,\n    selectors: [[\"\", \"tuiLet\", \"\"]],\n    inputs: {\n      tuiLet: \"tuiLet\"\n    }\n  });\n  return TuiLetDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLetModule = /*#__PURE__*/(() => {\n  class TuiLetModule {}\n  TuiLetModule.ɵfac = function TuiLetModule_Factory(t) {\n    return new (t || TuiLetModule)();\n  };\n  TuiLetModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLetModule\n  });\n  TuiLetModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiLetModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiLetContext, TuiLetDirective, TuiLetModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, NgZone, Directive, Inject, Self, Input, HostBinding, NgModule } from '@angular/core';\nimport { tuiTypedFromEvent, tuiZonefree } from '@taiga-ui/cdk/observables';\nimport { TuiDestroyService } from '@taiga-ui/cdk/services';\nimport { tuiIsElement, tuiGetScrollParent, tuiCanScroll } from '@taiga-ui/cdk/utils/dom';\nimport { filter, takeUntil, switchMap, tap } from 'rxjs/operators';\nimport * as i1 from 'rxjs';\n\n/**\n * Directive to isolate scrolling, i.e. prevent body scroll behind modal dialog\n */\nlet TuiOverscrollDirective = /*#__PURE__*/(() => {\n  class TuiOverscrollDirective {\n    constructor({\n      nativeElement\n    }, zone, destroy$) {\n      this.mode = 'scroll';\n      tuiTypedFromEvent(nativeElement, 'wheel', {\n        passive: false\n      }).pipe(filter(() => this.enabled), tuiZonefree(zone), takeUntil(destroy$)).subscribe(event => {\n        this.processEvent(event, !!event.deltaY, event.deltaY ? event.deltaY < 0 : event.deltaX < 0);\n      });\n      tuiTypedFromEvent(nativeElement, 'touchstart', {\n        passive: true\n      }).pipe(switchMap(({\n        touches\n      }) => {\n        let {\n          clientX,\n          clientY\n        } = touches[0];\n        let deltaX = 0;\n        let deltaY = 0;\n        let vertical;\n        return tuiTypedFromEvent(nativeElement, 'touchmove', {\n          passive: false\n        }).pipe(filter(() => this.enabled), tap(event => {\n          // We have to have it in tap instead of subscribe due to variables in closure\n          const changedTouch = event.changedTouches[0];\n          deltaX = clientX - changedTouch.clientX;\n          deltaY = clientY - changedTouch.clientY;\n          clientX = changedTouch.clientX;\n          clientY = changedTouch.clientY;\n          if (vertical === undefined) {\n            vertical = Math.abs(deltaY) > Math.abs(deltaX);\n          }\n          this.processEvent(event, vertical, vertical ? deltaY < 0 : deltaX < 0);\n        }));\n      }), tuiZonefree(zone), takeUntil(destroy$)).subscribe();\n    }\n    get enabled() {\n      return this.mode !== 'none';\n    }\n    get overscrollBehavior() {\n      return this.enabled ? 'contain' : null;\n    }\n    processEvent(event, vertical, negative) {\n      var _a;\n      const {\n        target,\n        currentTarget,\n        cancelable\n      } = event;\n      if (!cancelable || !tuiIsElement(target) || ((_a = target) === null || _a === void 0 ? void 0 : _a.type) === 'range') {\n        return;\n      }\n      // This is all what's needed in Chrome/Firefox thanks to CSS overscroll-behavior\n      if (this.mode === 'all' && (vertical && !currentTarget.contains(tuiGetScrollParent(target)) || !vertical && !currentTarget.contains(tuiGetScrollParent(target, false)))) {\n        event.preventDefault();\n        return;\n      }\n      // This is Safari/IE/Edge fallback\n      if (vertical && (negative && !tuiCanScroll(target, currentTarget, true, false) || !negative && !tuiCanScroll(target, currentTarget, true, true))) {\n        event.preventDefault();\n        return;\n      }\n      if (!vertical && (negative && !tuiCanScroll(target, currentTarget, false, false) || !negative && !tuiCanScroll(target, currentTarget, false, true))) {\n        event.preventDefault();\n      }\n    }\n  }\n  TuiOverscrollDirective.ɵfac = function TuiOverscrollDirective_Factory(t) {\n    return new (t || TuiOverscrollDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(TuiDestroyService, 2));\n  };\n  TuiOverscrollDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiOverscrollDirective,\n    selectors: [[\"\", \"tuiOverscroll\", \"\"]],\n    hostVars: 2,\n    hostBindings: function TuiOverscrollDirective_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"overscroll-behavior\", ctx.overscrollBehavior);\n      }\n    },\n    inputs: {\n      mode: [0, \"tuiOverscroll\", \"mode\"]\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])]\n  });\n  return TuiOverscrollDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiOverscrollModule = /*#__PURE__*/(() => {\n  class TuiOverscrollModule {}\n  TuiOverscrollModule.ɵfac = function TuiOverscrollModule_Factory(t) {\n    return new (t || TuiOverscrollModule)();\n  };\n  TuiOverscrollModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiOverscrollModule\n  });\n  TuiOverscrollModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiOverscrollModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiOverscrollDirective, TuiOverscrollModule };\n","// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiDayOfWeek = /*#__PURE__*/function (TuiDayOfWeek) {\n  TuiDayOfWeek[TuiDayOfWeek[\"Sunday\"] = 0] = \"Sunday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Monday\"] = 1] = \"Monday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Tuesday\"] = 2] = \"Tuesday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Wednesday\"] = 3] = \"Wednesday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Thursday\"] = 4] = \"Thursday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Friday\"] = 5] = \"Friday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Saturday\"] = 6] = \"Saturday\";\n  return TuiDayOfWeek;\n}(TuiDayOfWeek || {});\n// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiMonthNumber = /*#__PURE__*/function (TuiMonthNumber) {\n  TuiMonthNumber[TuiMonthNumber[\"January\"] = 0] = \"January\";\n  TuiMonthNumber[TuiMonthNumber[\"February\"] = 1] = \"February\";\n  TuiMonthNumber[TuiMonthNumber[\"March\"] = 2] = \"March\";\n  TuiMonthNumber[TuiMonthNumber[\"April\"] = 3] = \"April\";\n  TuiMonthNumber[TuiMonthNumber[\"May\"] = 4] = \"May\";\n  TuiMonthNumber[TuiMonthNumber[\"June\"] = 5] = \"June\";\n  TuiMonthNumber[TuiMonthNumber[\"July\"] = 6] = \"July\";\n  TuiMonthNumber[TuiMonthNumber[\"August\"] = 7] = \"August\";\n  TuiMonthNumber[TuiMonthNumber[\"September\"] = 8] = \"September\";\n  TuiMonthNumber[TuiMonthNumber[\"October\"] = 9] = \"October\";\n  TuiMonthNumber[TuiMonthNumber[\"November\"] = 10] = \"November\";\n  TuiMonthNumber[TuiMonthNumber[\"December\"] = 11] = \"December\";\n  return TuiMonthNumber;\n}(TuiMonthNumber || {});\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiDayOfWeek, TuiMonthNumber };\n","import * as i0 from '@angular/core';\nimport { Directive, Self, Inject, SkipSelf, Optional } from '@angular/core';\nimport { TuiDestroyService, AbstractTuiControl } from '@taiga-ui/cdk';\nimport * as i1 from 'rxjs';\nimport { Observable, merge } from 'rxjs';\nimport { distinctUntilChanged, takeUntil } from 'rxjs/operators';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nclass TuiDriver extends Observable {}\nfunction tuiAsDriver(useExisting) {\n  return {\n    provide: TuiDriver,\n    multi: true,\n    useExisting\n  };\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nclass TuiVehicle {}\nfunction tuiAsVehicle(useExisting) {\n  return {\n    provide: TuiVehicle,\n    multi: true,\n    useExisting\n  };\n}\nlet AbstractTuiDriverDirective = /*#__PURE__*/(() => {\n  class AbstractTuiDriverDirective {\n    constructor(destroy$, drivers, vehicles) {\n      this.destroy$ = destroy$;\n      this.drivers = drivers;\n      this.vehicles = vehicles;\n    }\n    ngOnInit() {\n      const vehicle = this.vehicles.find(({\n        type\n      }) => type === this.type);\n      merge(...this.drivers.filter(({\n        type\n      }) => type === this.type)).pipe(distinctUntilChanged(), takeUntil(this.destroy$)).subscribe(value => {\n        vehicle === null || vehicle === void 0 ? void 0 : vehicle.toggle(value);\n      });\n    }\n  }\n  AbstractTuiDriverDirective.ɵfac = function AbstractTuiDriverDirective_Factory(t) {\n    return new (t || AbstractTuiDriverDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiDriver), i0.ɵɵdirectiveInject(TuiVehicle));\n  };\n  AbstractTuiDriverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiDriverDirective\n  });\n  return AbstractTuiDriverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiTextfieldHost = /*#__PURE__*/(() => {\n  class AbstractTuiTextfieldHost {\n    constructor(host) {\n      this.host = host;\n    }\n    get readOnly() {\n      return this.host.readOnly;\n    }\n    get disabled() {\n      return this.host.computedDisabled;\n    }\n    get invalid() {\n      return this.host.computedInvalid;\n    }\n    get focusable() {\n      return this.host.computedFocusable;\n    }\n    get inputMode() {\n      return 'text';\n    }\n    get value() {\n      var _a;\n      return ((_a = this.host.value) === null || _a === void 0 ? void 0 : _a.toString()) || '';\n    }\n    process(_input) {}\n  }\n  AbstractTuiTextfieldHost.ɵfac = function AbstractTuiTextfieldHost_Factory(t) {\n    return new (t || AbstractTuiTextfieldHost)(i0.ɵɵdirectiveInject(AbstractTuiControl));\n  };\n  AbstractTuiTextfieldHost.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiTextfieldHost\n  });\n  return AbstractTuiTextfieldHost;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// TODO: Drop any\nfunction tuiFallbackAccessor(type) {\n  return (accessors, fallback) => (accessors === null || accessors === void 0 ? void 0 : accessors.find(accessor => accessor !== fallback && accessor.type === type)) || fallback;\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nclass TuiPositionAccessor {}\n// TODO: Make fallback required\nfunction tuiPositionAccessorFor(type, fallback) {\n  return {\n    provide: TuiPositionAccessor,\n    deps: fallback ? [[new SkipSelf(), new Optional(), TuiPositionAccessor], fallback] : [[new SkipSelf(), new Optional(), TuiPositionAccessor]],\n    useFactory: tuiFallbackAccessor(type)\n  };\n}\nfunction tuiAsPositionAccessor(useExisting) {\n  return {\n    provide: TuiPositionAccessor,\n    multi: true,\n    useExisting\n  };\n}\n\n// TODO: Rename to getBoundingClientRect to match the DOM API\n// eslint-disable-next-line @typescript-eslint/naming-convention\nclass TuiRectAccessor {}\nfunction tuiRectAccessorFor(type, fallback) {\n  return {\n    provide: TuiRectAccessor,\n    deps: [[new SkipSelf(), new Optional(), TuiRectAccessor], fallback],\n    useFactory: tuiFallbackAccessor(type)\n  };\n}\nconst tuiFallbackRectAccessor = tuiFallbackAccessor;\nfunction tuiAsRectAccessor(useExisting) {\n  return {\n    provide: TuiRectAccessor,\n    multi: true,\n    useExisting\n  };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiDriverDirective, AbstractTuiTextfieldHost, TuiDriver, TuiPositionAccessor, TuiRectAccessor, TuiVehicle, tuiAsDriver, tuiAsPositionAccessor, tuiAsRectAccessor, tuiAsVehicle, tuiFallbackAccessor, tuiFallbackRectAccessor, tuiPositionAccessorFor, tuiRectAccessorFor };\n","import { svgNodeFilter, CHAR_NO_BREAK_SPACE, CHAR_ZERO_WIDTH_SPACE } from '@taiga-ui/cdk';\nfunction tuiCheckFixedPosition(element) {\n  if (!element || typeof getComputedStyle === 'undefined') {\n    return false;\n  }\n  const style = getComputedStyle(element);\n  return style.getPropertyValue('position') === 'fixed' || tuiCheckFixedPosition(element.parentElement);\n}\n\n/**\n * Calculates size of safe area on mobile devices (status bars)\n *\n * ATTENTION: Only use in browser environment\n */\nfunction tuiGetSafeAreaSize() {\n  if (!CSS.supports('padding-top: env(safe-area-inset-top)')) {\n    return 0;\n  }\n  const div = document.createElement('div');\n  div.style.paddingTop = 'env(safe-area-inset-top)';\n  document.body.appendChild(div);\n  const safeAreaSize = parseInt(window.getComputedStyle(div).paddingTop, 10) || 0;\n  document.body.removeChild(div);\n  return safeAreaSize;\n}\nfunction tuiGetScreenWidth(doc) {\n  return Math.max(doc.documentElement.clientWidth, doc.defaultView ? doc.defaultView.innerWidth : 0);\n}\n\n/**\n * @description:\n * Cross-browser @media (height)\n *\n * 1. window.innerWidth\n * 1.1. gets CSS viewport @media (height) which include scrollbars\n * 1.2. initial-scale and zoom variations may cause mobile values to\n *      wrongly scale down to what PPK calls the visual\n *      viewport and be smaller than the @media values\n *  1.3. zoom may cause values to be 1px off due to native rounding\n *\n *  2. document.documentElement.clientHeight\n *  2.1. equals CSS viewport width minus scrollbar width\n *  2.2. matches @media (height) when there is no scrollbar\n *  2.3. available cross-browser\n *  2.4. inaccurate if doctype is missing\n */\nfunction tuiGetViewportHeight({\n  document,\n  innerHeight\n}) {\n  return Math.max(document.documentElement.clientHeight || 0, innerHeight || 0);\n}\n\n/**\n * @description:\n * Cross-browser @media (width)\n *\n * 1. window.innerWidth\n * 1.1. gets CSS viewport @media (width) which include scrollbars\n * 1.2. initial-scale and zoom variations may cause mobile values to\n *      wrongly scale down to what PPK calls the visual\n *      viewport and be smaller than the @media values\n *  1.3. zoom may cause values to be 1px off due to native rounding\n *\n *  2. document.documentElement.clientWidth\n *  2.1. equals CSS viewport width minus scrollbar width\n *  2.2. matches @media (width) when there is no scrollbar\n *  2.3. available cross-browser\n *  2.4. inaccurate if doctype is missing\n */\nfunction tuiGetViewportWidth({\n  document,\n  innerWidth\n}) {\n  return Math.max(document.documentElement.clientWidth || 0, innerWidth || 0);\n}\n\n/**\n * Creates a cloned range with its boundaries set at word boundaries\n *\n * @param currentRange a range to clone\n * @return modified range\n */\nfunction tuiGetWordRange(currentRange) {\n  const range = currentRange.cloneRange();\n  const {\n    startContainer,\n    startOffset,\n    endContainer,\n    endOffset\n  } = range;\n  const {\n    ownerDocument\n  } = startContainer;\n  if (!ownerDocument) {\n    return range;\n  }\n  const treeWalker = ownerDocument.createTreeWalker(ownerDocument.body, NodeFilter.SHOW_TEXT, svgNodeFilter);\n  treeWalker.currentNode = startContainer;\n  do {\n    const container = treeWalker.currentNode;\n    const textContent = container.textContent || '';\n    const content = container === startContainer ? textContent.slice(0, Math.max(0, startOffset + 1)) : textContent;\n    const offset = Math.max(content.lastIndexOf(' '), content.lastIndexOf(CHAR_NO_BREAK_SPACE), content.lastIndexOf(CHAR_ZERO_WIDTH_SPACE)) + 1;\n    range.setStart(container, 0);\n    if (offset) {\n      range.setStart(container, offset);\n      break;\n    }\n  } while (treeWalker.previousNode());\n  treeWalker.currentNode = endContainer;\n  do {\n    const container = treeWalker.currentNode;\n    const textContent = container.textContent || '';\n    const content = container === endContainer ? textContent.slice(endOffset + 1) : textContent;\n    const offset = [content.indexOf(' '), content.indexOf(CHAR_NO_BREAK_SPACE), content.indexOf(CHAR_ZERO_WIDTH_SPACE)].reduce((result, item) => result === -1 || item === -1 ? Math.max(result, item) : Math.min(result, item), -1);\n    range.setEnd(container, textContent.length);\n    if (offset !== -1) {\n      range.setEnd(container, offset + textContent.length - content.length);\n      break;\n    }\n  } while (treeWalker.nextNode());\n  return range;\n}\nconst WIDTH_SEARCH = 'width=\"';\nconst HEIGHT_SEARCH = 'height=\"';\nconst START = '<svg';\nfunction tuiProcessIcon(source, name) {\n  if (source.includes(`id=\"${name}\"`)) {\n    return source;\n  }\n  const src = source.slice(Math.max(0, source.indexOf(START)));\n  const attributes = src.slice(0, Math.max(0, src.indexOf('>')));\n  if (!(attributes === null || attributes === void 0 ? void 0 : attributes.includes(WIDTH_SEARCH)) || !attributes.includes(HEIGHT_SEARCH)) {\n    return `${src.replace(START, `<svg xmlns=\"http://www.w3.org/2000/svg\"><g id=\"${name}\" xmlns=\"http://www.w3.org/2000/svg\"><svg`)}</g></svg>`;\n  }\n  const indexOfWidth = attributes.indexOf(WIDTH_SEARCH);\n  const indexOfHeight = attributes.indexOf(HEIGHT_SEARCH);\n  const widthOffset = indexOfWidth + WIDTH_SEARCH.length;\n  const heightOffset = indexOfHeight + HEIGHT_SEARCH.length;\n  const widthString = attributes.slice(widthOffset, attributes.indexOf('\"', widthOffset));\n  const heightString = attributes.slice(heightOffset, attributes.indexOf('\"', heightOffset));\n  if (!heightString || !widthString || widthString.includes('%') || heightString.includes('%') || widthString.includes('em') || heightString.includes('em')) {\n    return src.replace(START, `<svg id=\"${name}\"`);\n  }\n  const width = parseInt(widthString, 10);\n  const height = parseInt(heightString, 10);\n  return `<g id=\"${name}\" xmlns=\"http://www.w3.org/2000/svg\"><svg  x=\"50%\" y=\"50%\" width=\"${width / 16}em\" height=\"${height / 16}em\" overflow=\"visible\" viewBox=\"0 0 ${width} ${height}\"><svg x=\"${-width / 2}\" y=\"${-height / 2}\">${src}</svg></svg></g>`;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiCheckFixedPosition, tuiGetSafeAreaSize, tuiGetScreenWidth, tuiGetViewportHeight, tuiGetViewportWidth, tuiGetWordRange, tuiProcessIcon };\n","import { TUI_VERSION, EMPTY_ARRAY, CHAR_NO_BREAK_SPACE } from '@taiga-ui/cdk';\nconst TUI_CACHE_BUSTING_PAYLOAD = `?v=${TUI_VERSION}`;\n\n/**\n * @deprecated\n * TODO: delete in v4.0\n */\nconst TUI_DECIMAL_SYMBOLS = [',', '.'];\nconst DEFAULT_ICONS_PATH = name => name.includes('.svg#') ? name : `#${name}`;\nconst TUI_DEFAULT_MARKER_HANDLER = () => EMPTY_ARRAY;\nconst TUI_DEFAULT_NUMBER_FORMAT = {\n  decimalLimit: Infinity,\n  decimalSeparator: ',',\n  thousandSeparator: CHAR_NO_BREAK_SPACE,\n  zeroPadding: true,\n  rounding: 'truncate',\n  decimal: 'not-zero'\n};\nconst tuiEditingKeys = ['Spacebar', 'Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Left', 'Right', 'End', 'Home'];\n\n/**\n * An event indicating that async data for expand has finished loading.\n * Dispatch to finish loading states for {@link TuiExpandComponent}.\n */\nconst TUI_EXPAND_LOADED = 'tui-expand-loaded';\n/**\n * An event for scrolling an element into view within {@link TuiScrollbarComponent}.\n */\nconst TUI_SCROLL_INTO_VIEW = 'tui-scroll-into-view';\n/**\n * An event to notify {@link TuiScrollbarComponent} that\n * it should control a nested element.\n */\nconst TUI_SCROLLABLE = 'tui-scrollable';\n/**\n * An event indicating and error during icon loading in {@link TuiSvgComponent}.\n */\nconst TUI_ICON_ERROR = 'tui-icon-error';\nconst TUI_HINT_DIRECTIONS = ['bottom-left', 'bottom', 'bottom-right', 'top-left', 'top', 'top-right', 'left-top', 'left', 'left-bottom', 'right-top', 'right', 'right-bottom'];\n\n/**\n * @deprecated Use {@link https://github.com/taiga-family/maskito Maskito}\n * TODO: delete in v4.0\n */\nconst MASK_CARET_TRAP = '[]';\nconst TUI_DIGIT_REGEXP = /\\d/;\nconst TUI_NON_DIGIT_REGEXP = /\\D/;\nconst TUI_NON_DIGITS_REGEXP = /\\D+/g;\nconst TUI_LEADING_ZEROES_REGEXP = /^0+/;\nconst TUI_MASK_SYMBOLS_REGEXP = /[ \\-_()]/g;\nconst TUI_LAST_PUNCTUATION_MARK_REGEXP = /[.,\\\\/#!$%\\\\^&\\\\*;:{}=\\\\-_`~()]$/;\nconst TUI_LATIN_REGEXP = /[A-z]/;\nconst TUI_LATIN_AND_NUMBERS_REGEXP = /[A-z|0-9]/;\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DEFAULT_ICONS_PATH, MASK_CARET_TRAP, TUI_CACHE_BUSTING_PAYLOAD, TUI_DECIMAL_SYMBOLS, TUI_DEFAULT_MARKER_HANDLER, TUI_DEFAULT_NUMBER_FORMAT, TUI_DIGIT_REGEXP, TUI_EXPAND_LOADED, TUI_HINT_DIRECTIONS, TUI_ICON_ERROR, TUI_LAST_PUNCTUATION_MARK_REGEXP, TUI_LATIN_AND_NUMBERS_REGEXP, TUI_LATIN_REGEXP, TUI_LEADING_ZEROES_REGEXP, TUI_MASK_SYMBOLS_REGEXP, TUI_NON_DIGITS_REGEXP, TUI_NON_DIGIT_REGEXP, TUI_SCROLLABLE, TUI_SCROLL_INTO_VIEW, tuiEditingKeys };\n","import { TUI_CACHE_BUSTING_PAYLOAD, DEFAULT_ICONS_PATH, tuiEditingKeys } from '@taiga-ui/core/constants';\nimport { tuiGetElementObscures } from '@taiga-ui/cdk';\nconst ITEM_SIZE = 1.5;\nconst CONTENT_SIZE = 2.5;\nfunction tuiGetBorder(hasIcon, hasCleaner = false, hasTooltip = false, hasContent = false, size = 'm') {\n  const offset = size === 's' ? 0 : 0.25;\n  let border = 0;\n  if (hasIcon) {\n    border += ITEM_SIZE + offset;\n  }\n  if (hasCleaner) {\n    border += ITEM_SIZE + offset;\n  }\n  if (hasTooltip) {\n    border += ITEM_SIZE + offset;\n  }\n  if (hasContent) {\n    border += CONTENT_SIZE + offset;\n  }\n  return border;\n}\nfunction tuiIconsPathFactory(staticPath) {\n  const base = staticPath.endsWith('/') ? staticPath : `${staticPath}/`;\n  return name => {\n    if (name.startsWith('tuiIcon')) {\n      return `${base}${name}.svg${TUI_CACHE_BUSTING_PAYLOAD}#${name}`;\n    }\n    return DEFAULT_ICONS_PATH(name);\n  };\n}\n\n/**\n * Check if pressed key is interactive in terms of input field\n */\nfunction tuiIsEditingKey(key) {\n  return key.length === 1 || tuiEditingKeys.includes(key);\n}\n\n/**\n * @internal\n */\nfunction tuiIsObscured(el, exceptSelector = 'tui-hints-host') {\n  var _a;\n  return !!((_a = tuiGetElementObscures(el)) === null || _a === void 0 ? void 0 : _a.some(el => !el.closest(exceptSelector)));\n}\nfunction tuiIsPresumedHTMLString(candidate) {\n  const trimmed = candidate.trim();\n  return trimmed.startsWith('<') && trimmed.endsWith('>');\n}\nfunction tuiOverrideOptions(override, fallback) {\n  return (directive, options) => {\n    const result = directive || Object.assign({}, options || fallback);\n    Object.keys(override).forEach(key => {\n      // Update directive props with new defaults before inputs are processed\n      result[key] = override[key];\n    });\n    return result;\n  };\n}\nconst SIZES = {\n  xxs: 0,\n  xs: 1,\n  s: 2,\n  m: 3,\n  l: 4,\n  xl: 5,\n  xxl: 6\n};\n/**\n * Compares size constants to determine if first size is bigger than the second\n *\n * @param size size that we need to compare\n * @param biggerThanSize size to compare with, 's' by default\n */\nfunction tuiSizeBigger(size, biggerThanSize = 's') {\n  return SIZES[size] > SIZES[biggerThanSize];\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiGetBorder, tuiIconsPathFactory, tuiIsEditingKey, tuiIsObscured, tuiIsPresumedHTMLString, tuiOverrideOptions, tuiSizeBigger };\n","import { tuiGetViewportWidth } from '@taiga-ui/core/utils/dom';\nfunction tuiIsMobile(win, {\n  mobile\n}) {\n  return tuiGetViewportWidth(win) < mobile;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiIsMobile };\n","// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiAppearance = /*#__PURE__*/function (TuiAppearance) {\n  TuiAppearance[\"Accent\"] = \"accent\";\n  TuiAppearance[\"Flat\"] = \"flat\";\n  TuiAppearance[\"Icon\"] = \"icon\";\n  TuiAppearance[\"Outline\"] = \"outline\";\n  TuiAppearance[\"Primary\"] = \"primary\";\n  TuiAppearance[\"Secondary\"] = \"secondary\";\n  TuiAppearance[\"SecondaryDestructive\"] = \"secondary-destructive\";\n  TuiAppearance[\"Table\"] = \"table\";\n  TuiAppearance[\"Textfield\"] = \"textfield\";\n  TuiAppearance[\"Whiteblock\"] = \"whiteblock\";\n  TuiAppearance[\"WhiteblockActive\"] = \"whiteblock-active\";\n  return TuiAppearance;\n}(TuiAppearance || {});\n/** @deprecated not used anymore TODO: remove in 4.0 **/\n// eslint-disable-next-line no-restricted-syntax\nvar TuiDropdownAnimation = /*#__PURE__*/function (TuiDropdownAnimation) {\n  TuiDropdownAnimation[\"FadeInBottom\"] = \"fadeInBottom\";\n  TuiDropdownAnimation[\"FadeInTop\"] = \"fadeInTop\";\n  return TuiDropdownAnimation;\n}(TuiDropdownAnimation || {});\n/**\n * @internal used in calendar, year picker and wrapper\n */\n// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiInteractiveState = /*#__PURE__*/function (TuiInteractiveState) {\n  TuiInteractiveState[\"Active\"] = \"active\";\n  TuiInteractiveState[\"Disabled\"] = \"disabled\";\n  TuiInteractiveState[\"Hover\"] = \"hover\";\n  TuiInteractiveState[\"Readonly\"] = \"readonly\";\n  return TuiInteractiveState;\n}(TuiInteractiveState || {});\n/**\n * @deprecated use union type TuiNotificationT instead\n */\n// eslint-disable-next-line no-restricted-syntax\nvar TuiNotification = /*#__PURE__*/function (TuiNotification) {\n  TuiNotification[\"Error\"] = \"error\";\n  TuiNotification[\"Info\"] = \"info\";\n  TuiNotification[\"Success\"] = \"success\";\n  TuiNotification[\"Warning\"] = \"warning\";\n  return TuiNotification;\n}(TuiNotification || {});\n/**\n * @internal used in calendar and year picker\n */\n// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiRangeState = /*#__PURE__*/function (TuiRangeState) {\n  TuiRangeState[\"End\"] = \"end\";\n  TuiRangeState[\"Single\"] = \"single\";\n  TuiRangeState[\"Start\"] = \"start\";\n  return TuiRangeState;\n}(TuiRangeState || {});\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiAppearance, TuiDropdownAnimation, TuiInteractiveState, TuiNotification, TuiRangeState };\n","import { inject, isDevMode, InjectionToken, NgZone } from '@angular/core';\nimport { tuiCreateTokenFromFactory, tuiCreateToken, tuiProvideOptions, TuiDayOfWeek, tuiTypedFromEvent, tuiZoneOptimized, TUI_SCROLL_REF as TUI_SCROLL_REF$1, tuiSvgLinearGradientProcessor } from '@taiga-ui/cdk';\nimport { DOCUMENT } from '@angular/common';\nimport { tuiExtractI18n } from '@taiga-ui/i18n';\nimport { tuiIconsPathFactory, tuiIsMobile } from '@taiga-ui/core/utils';\nimport { WINDOW } from '@ng-web-apis/common';\nimport { share, startWith, map, distinctUntilChanged, switchMap, takeUntil } from 'rxjs/operators';\nimport { TUI_DEFAULT_NUMBER_FORMAT } from '@taiga-ui/core/constants';\nimport { of, merge, identity } from 'rxjs';\nimport { TuiAppearance } from '@taiga-ui/core/enums';\nconst TUI_REDUCED_MOTION = tuiCreateTokenFromFactory(() => {\n  var _a, _b, _c;\n  return (_c = (_b = (_a = inject(DOCUMENT).defaultView) === null || _a === void 0 ? void 0 : _a.matchMedia) === null || _b === void 0 ? void 0 : _b.call(_a, '(prefers-reduced-motion: reduce)').matches) !== null && _c !== void 0 ? _c : false;\n});\nconst TUI_ANIMATIONS_DEFAULT_DURATION = 300;\n/**\n * Duration of all Taiga UI animations in ms\n */\nconst TUI_ANIMATIONS_DURATION = tuiCreateTokenFromFactory(() => inject(TUI_REDUCED_MOTION) ? 0 : TUI_ANIMATIONS_DEFAULT_DURATION);\n\n/**\n * Options for Taiga UI animations\n */\nconst TUI_ANIMATION_OPTIONS = tuiCreateTokenFromFactory(() => ({\n  value: '',\n  params: {\n    duration: inject(TUI_ANIMATIONS_DURATION)\n  }\n}));\n\n/**\n * @deprecated:\n * Flag to enable assertions across Taiga UI\n *\n * The current token no longer matters as\n * it will not be provided in production\n */\nconst TUI_ASSERT_ENABLED = tuiCreateTokenFromFactory(() => isDevMode());\nconst COMMON_ICONS = {\n  check: 'tuiIconCheck',\n  close: 'tuiIconClose',\n  error: 'tuiIconAlertCircle',\n  more: 'tuiIconChevronRight'\n};\nconst TUI_COMMON_ICONS = tuiCreateToken(COMMON_ICONS);\nfunction tuiCommonIconsProvider(icons) {\n  return tuiProvideOptions(TUI_COMMON_ICONS, icons, COMMON_ICONS);\n}\n\n/**\n * Accessor for data-list options\n */\nconst TUI_DATA_LIST_ACCESSOR = new InjectionToken('[TUI_DATA_LIST_ACCESSOR]');\nfunction tuiAsDataListAccessor(useExisting) {\n  return {\n    provide: TUI_DATA_LIST_ACCESSOR,\n    useExisting\n  };\n}\n\n/**\n * DataList controller\n */\nconst TUI_DATA_LIST_HOST = new InjectionToken('[TUI_DATA_LIST_HOST]');\nfunction tuiAsDataListHost(useExisting) {\n  return {\n    provide: TUI_DATA_LIST_HOST,\n    useExisting\n  };\n}\n\n/**\n * Token for adding data-type attribute to calendar cell\n */\nconst TUI_DAY_TYPE_HANDLER = tuiCreateToken(day => day.isWeekend ? 'weekend' : 'weekday');\nconst TUI_DOCUMENT_OR_SHADOW_ROOT = new InjectionToken('[TUI_DOCUMENT_OR_SHADOW_ROOT]');\n\n/**\n * ElementRef when you cannot use @Input for single time injection\n */\nconst TUI_ELEMENT_REF = new InjectionToken('[TUI_ELEMENT_REF]');\n\n/**\n * The first day of the week index\n */\nconst TUI_FIRST_DAY_OF_WEEK = tuiCreateToken(TuiDayOfWeek.Monday);\n\n/**\n * Localized months names\n */\nconst TUI_MONTHS = tuiCreateTokenFromFactory(tuiExtractI18n('months'));\n/**\n * i18n 'close' word\n */\nconst TUI_CLOSE_WORD = tuiCreateTokenFromFactory(tuiExtractI18n('close'));\n/**\n * i18n 'Nothing found' message\n */\nconst TUI_NOTHING_FOUND_MESSAGE = tuiCreateTokenFromFactory(tuiExtractI18n('nothingFoundMessage'));\n/**\n * i18n of error message\n */\nconst TUI_DEFAULT_ERROR_MESSAGE = tuiCreateTokenFromFactory(tuiExtractI18n('defaultErrorMessage'));\n/**\n * spin i18n texts\n */\nconst TUI_SPIN_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('spinTexts'));\n/**\n * calendars i18n texts\n */\nconst TUI_SHORT_WEEK_DAYS = tuiCreateTokenFromFactory(tuiExtractI18n('shortWeekDays'));\nconst TUI_DEFAULT_ICONS_PLACE = 'assets/taiga-ui/icons';\n/**\n * Path to icons\n * @deprecated Use {@link TUI_SVG_OPTIONS} instead\n */\nconst TUI_ICONS_PLACE = tuiCreateToken(TUI_DEFAULT_ICONS_PLACE);\n\n/**\n * A key/value dictionary of icon names and src to be defined with TuiSvgService\n */\nconst TUI_ICONS = tuiCreateToken({});\n\n/**\n * A handler to retrieve USE id for icon by name\n * @deprecated Use {@link TUI_SVG_OPTIONS} instead\n */\nconst TUI_ICONS_PATH = tuiCreateTokenFromFactory(() => tuiIconsPathFactory(inject(TUI_ICONS_PLACE)));\n\n/**\n * Token for media constant\n */\nconst TUI_MEDIA = tuiCreateToken({\n  mobile: 768,\n  desktopSmall: 1024,\n  desktopLarge: 1280\n});\n\n/**\n * @deprecated use {@link https://taiga-ui.dev/services/breakpoint-service TuiBreakpointService}\n * TODO: drop in v4.0\n * Mobile resolution stream for private providers\n */\nconst TUI_IS_MOBILE_RES = tuiCreateTokenFromFactory(() => {\n  const win = inject(WINDOW);\n  const media = inject(TUI_MEDIA);\n  return tuiTypedFromEvent(win, 'resize').pipe(share(), startWith(null), map(() => tuiIsMobile(win, media)), distinctUntilChanged(), tuiZoneOptimized(inject(NgZone)));\n});\n\n/**\n * @internal\n * @deprecated\n * Don't use it! Will be removed after changing the mask.\n */\nconst TUI_LEGACY_MASK = new InjectionToken('[TUI_LEGACY_MASK]');\n\n/**\n * Mode stream for private providers\n */\nconst TUI_MODE = new InjectionToken('[TUI_MODE]');\n\n/** @deprecated remove export */\nconst STATUS_ICON = {\n  info: 'tuiIconInfo',\n  success: 'tuiIconCheckCircle',\n  error: 'tuiIconXCircle',\n  warning: 'tuiIconAlertCircle',\n  neutral: 'tuiIconInfo'\n};\n/** Default values for the notification options. */\nconst TUI_NOTIFICATION_DEFAULT_OPTIONS = {\n  autoClose: 3000,\n  label: '',\n  status: 'info',\n  hasCloseButton: true,\n  icon: ({\n    $implicit\n  }) => STATUS_ICON[$implicit],\n  size: 'm',\n  hasIcon: true,\n  defaultAutoCloseTime: 3000\n};\n/**\n * Default parameters for notification alert component\n */\nconst TUI_NOTIFICATION_OPTIONS = tuiCreateToken(TUI_NOTIFICATION_DEFAULT_OPTIONS);\nfunction tuiNotificationOptionsProvider(options) {\n  return tuiProvideOptions(TUI_NOTIFICATION_OPTIONS, options, TUI_NOTIFICATION_DEFAULT_OPTIONS);\n}\n\n/**\n * Formatting configuration for displayed numbers\n */\nconst TUI_NUMBER_FORMAT = tuiCreateToken(TUI_DEFAULT_NUMBER_FORMAT);\nfunction tuiNumberFormatProvider(options) {\n  return tuiProvideOptions(TUI_NUMBER_FORMAT, options, TUI_DEFAULT_NUMBER_FORMAT);\n}\n\n/**\n * Formatting configuration for displayed numbers\n */\nconst TUI_NUMBER_FORMAT_OBSERVABLE = tuiCreateToken(of(Object.assign(Object.assign({}, TUI_DEFAULT_NUMBER_FORMAT), {\n  decimalLimit: NaN\n})));\n\n/**\n * Content for tuiOption component\n */\nconst TUI_OPTION_CONTENT = new InjectionToken('[TUI_OPTION_CONTENT]');\nfunction tuiAsOptionContent(useValue) {\n  return {\n    provide: TUI_OPTION_CONTENT,\n    useValue\n  };\n}\n\n/**\n * TODO: v4.0 delete the whole file\n */\nconst convertToSundayFirstWeekFormat = weekDaysNames => {\n  const sundayIndex = weekDaysNames.length - 1;\n  return [weekDaysNames[sundayIndex], ...weekDaysNames.slice(0, sundayIndex)];\n};\n/**\n * Ordered calendars i18n texts\n * @deprecated\n */\nconst TUI_ORDERED_SHORT_WEEK_DAYS = tuiCreateTokenFromFactory(() => {\n  const firstDayOfWeekIndex = inject(TUI_FIRST_DAY_OF_WEEK);\n  return inject(TUI_SHORT_WEEK_DAYS).pipe(map(convertToSundayFirstWeekFormat), map(weekDays => [...weekDays.slice(firstDayOfWeekIndex), ...weekDays.slice(0, firstDayOfWeekIndex)]));\n});\n\n/**\n * A custom Sanitizer to sanitize source before inlining\n */\nconst TUI_SANITIZER = new InjectionToken('[TUI_SANITIZER]');\n\n/**\n * @deprecated import from `@taiga-ui/cdk` instead\n */\nconst TUI_SCROLL_REF = TUI_SCROLL_REF$1;\n\n/**\n * A stream of possible selection changes\n */\nconst TUI_SELECTION_STREAM = tuiCreateTokenFromFactory(() => {\n  const doc = inject(DOCUMENT);\n  return merge(tuiTypedFromEvent(doc, 'selectionchange'), tuiTypedFromEvent(doc, 'mouseup'), tuiTypedFromEvent(doc, 'mousedown').pipe(switchMap(() => tuiTypedFromEvent(doc, 'mousemove').pipe(takeUntil(tuiTypedFromEvent(doc, 'mouseup'))))), tuiTypedFromEvent(doc, 'keydown'), tuiTypedFromEvent(doc, 'keyup')).pipe(share());\n});\nconst TUI_SPIN_ICONS = tuiCreateToken({\n  decrement: 'tuiIconChevronLeft',\n  increment: 'tuiIconChevronRight'\n});\n\n/**\n * Transform function the contents of the loaded svg file\n * @deprecated Use {@link TUI_SVG_OPTIONS} instead\n */\nconst TUI_SVG_CONTENT_PROCESSOR = tuiCreateToken(tuiSvgLinearGradientProcessor);\n\n/**\n * Source path processor for svg\n * @deprecated Use {@link TUI_SVG_OPTIONS} instead\n */\nconst TUI_SVG_SRC_PROCESSOR = tuiCreateToken(identity);\n\n/**\n * Appearance for inputs\n * @deprecated use {@link TUI_TEXTFIELD_APPEARANCE_DIRECTIVE} instead\n * TODO: Remove in 4.0\n */\nconst TUI_TEXTFIELD_APPEARANCE = tuiCreateToken(TuiAppearance.Textfield);\n\n/**\n * An interface to communicate with textfield based controls\n */\nconst TUI_TEXTFIELD_HOST = new InjectionToken('[TUI_TEXTFIELD_HOST]');\nfunction tuiAsTextfieldHost(useExisting) {\n  return {\n    provide: TUI_TEXTFIELD_HOST,\n    useExisting\n  };\n}\nconst TUI_THEME = tuiCreateToken('Taiga');\n\n/**\n * Buffer token to pass NG_VALUE_ACCESSOR to a different Injector\n */\nconst TUI_VALUE_ACCESSOR = new InjectionToken('[TUI_VALUE_ACCESSOR]');\n\n/**\n * Viewport accessor\n */\nconst TUI_VIEWPORT = tuiCreateTokenFromFactory(() => {\n  const win = inject(WINDOW);\n  return {\n    type: 'viewport',\n    getClientRect() {\n      return {\n        top: 0,\n        left: 0,\n        right: win.innerWidth,\n        bottom: win.innerHeight,\n        width: win.innerWidth,\n        height: win.innerHeight\n      };\n    }\n  };\n});\nfunction tuiAsViewport(useExisting) {\n  return {\n    provide: TUI_VIEWPORT,\n    useExisting\n  };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { STATUS_ICON, TUI_ANIMATIONS_DEFAULT_DURATION, TUI_ANIMATIONS_DURATION, TUI_ANIMATION_OPTIONS, TUI_ASSERT_ENABLED, TUI_CLOSE_WORD, TUI_COMMON_ICONS, TUI_DATA_LIST_ACCESSOR, TUI_DATA_LIST_HOST, TUI_DAY_TYPE_HANDLER, TUI_DEFAULT_ERROR_MESSAGE, TUI_DEFAULT_ICONS_PLACE, TUI_DOCUMENT_OR_SHADOW_ROOT, TUI_ELEMENT_REF, TUI_FIRST_DAY_OF_WEEK, TUI_ICONS, TUI_ICONS_PATH, TUI_ICONS_PLACE, TUI_IS_MOBILE_RES, TUI_LEGACY_MASK, TUI_MEDIA, TUI_MODE, TUI_MONTHS, TUI_NOTHING_FOUND_MESSAGE, TUI_NOTIFICATION_DEFAULT_OPTIONS, TUI_NOTIFICATION_OPTIONS, TUI_NUMBER_FORMAT, TUI_NUMBER_FORMAT_OBSERVABLE, TUI_OPTION_CONTENT, TUI_ORDERED_SHORT_WEEK_DAYS, TUI_REDUCED_MOTION, TUI_SANITIZER, TUI_SCROLL_REF, TUI_SELECTION_STREAM, TUI_SHORT_WEEK_DAYS, TUI_SPIN_ICONS, TUI_SPIN_TEXTS, TUI_SVG_CONTENT_PROCESSOR, TUI_SVG_SRC_PROCESSOR, TUI_TEXTFIELD_APPEARANCE, TUI_TEXTFIELD_HOST, TUI_THEME, TUI_VALUE_ACCESSOR, TUI_VIEWPORT, tuiAsDataListAccessor, tuiAsDataListHost, tuiAsOptionContent, tuiAsTextfieldHost, tuiAsViewport, tuiCommonIconsProvider, tuiNotificationOptionsProvider, tuiNumberFormatProvider };\n","import * as i0 from '@angular/core';\nimport { Directive, Input, NgModule } from '@angular/core';\nimport { AbstractTuiController } from '@taiga-ui/cdk';\nlet TuiModeDirective = /*#__PURE__*/(() => {\n  class TuiModeDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.mode = null;\n    }\n  }\n  TuiModeDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiModeDirective_BaseFactory;\n    return function TuiModeDirective_Factory(t) {\n      return (ɵTuiModeDirective_BaseFactory || (ɵTuiModeDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiModeDirective)))(t || TuiModeDirective);\n    };\n  })();\n  TuiModeDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiModeDirective,\n    selectors: [[\"\", \"tuiMode\", \"\"]],\n    inputs: {\n      mode: [0, \"tuiMode\", \"mode\"]\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiModeDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiModeModule = /*#__PURE__*/(() => {\n  class TuiModeModule {}\n  TuiModeModule.ɵfac = function TuiModeModule_Factory(t) {\n    return new (t || TuiModeModule)();\n  };\n  TuiModeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiModeModule\n  });\n  TuiModeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiModeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiModeDirective, TuiModeModule };\n","import { SkipSelf, ElementRef, Optional } from '@angular/core';\nimport { TUI_IS_MOBILE_RES, TUI_MODE } from '@taiga-ui/core/tokens';\nimport { TuiModeDirective } from '@taiga-ui/core/directives/mode';\nimport { of } from 'rxjs';\nimport { startWith, map, takeUntil } from 'rxjs/operators';\nimport { tuiWatch } from '@taiga-ui/cdk';\n\n/**\n * @deprecated: drop in v4.0\n */\nconst TUI_IS_MOBILE_RES_PROVIDER = {\n  provide: TUI_IS_MOBILE_RES,\n  deps: [[new SkipSelf(), TUI_IS_MOBILE_RES], ElementRef],\n  useFactory: (mobile$, {\n    nativeElement\n  }) => {\n    nativeElement['$.class._mobile'] = mobile$;\n    return mobile$;\n  }\n};\nconst MODE_PROVIDER = {\n  provide: TUI_MODE,\n  deps: [[new Optional(), TuiModeDirective], ElementRef],\n  useFactory: (mode, {\n    nativeElement\n  }) => {\n    const mode$ = mode ? mode.change$.pipe(startWith(null), map(() => mode.mode)) : of(null);\n    nativeElement['$.data-mode.attr'] = mode$;\n    return mode$;\n  }\n};\nfunction tuiWatchedControllerFactory(controller, cdr, destroy$) {\n  controller.change$.pipe(tuiWatch(cdr), takeUntil(destroy$)).subscribe();\n  return controller;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MODE_PROVIDER, TUI_IS_MOBILE_RES_PROVIDER, tuiWatchedControllerFactory };\n","import * as i0 from '@angular/core';\nimport { Directive, Inject, Input, HostBinding, NgModule } from '@angular/core';\nimport { TuiInteractiveState } from '@taiga-ui/core/enums';\nimport { MODE_PROVIDER } from '@taiga-ui/core/providers';\nimport { TUI_MODE } from '@taiga-ui/core/tokens';\nimport * as i1 from 'rxjs';\nlet TuiWrapperDirective = /*#__PURE__*/(() => {\n  class TuiWrapperDirective {\n    constructor(mode$) {\n      this.mode$ = mode$;\n      this.disabled = false;\n      this.readOnly = false;\n      this.hover = null;\n      this.active = null;\n      this.focus = false;\n      this.invalid = false;\n      this.appearance = '';\n    }\n    get computedInvalid() {\n      return !this.disabled && !this.readOnly && this.invalid;\n    }\n    get computedFocused() {\n      return this.focus && !this.disabled;\n    }\n    get interactiveState() {\n      if (this.disabled) {\n        return TuiInteractiveState.Disabled;\n      }\n      if (this.readOnly) {\n        return TuiInteractiveState.Readonly;\n      }\n      if (this.active) {\n        return TuiInteractiveState.Active;\n      }\n      if (this.hover) {\n        return TuiInteractiveState.Hover;\n      }\n      return null;\n    }\n    get noHover() {\n      return this.readOnly || this.hover === false;\n    }\n    get noActive() {\n      return this.readOnly || this.active === false;\n    }\n  }\n  TuiWrapperDirective.ɵfac = function TuiWrapperDirective_Factory(t) {\n    return new (t || TuiWrapperDirective)(i0.ɵɵdirectiveInject(TUI_MODE));\n  };\n  TuiWrapperDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiWrapperDirective,\n    selectors: [[\"\", \"tuiWrapper\", \"\"]],\n    hostVars: 10,\n    hostBindings: function TuiWrapperDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"$.data-mode.attr\", function TuiWrapperDirective___data_mode_attr_HostBindingHandler() {\n          return ctx.mode$;\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-appearance\", ctx.appearance)(\"data-state\", ctx.interactiveState);\n        i0.ɵɵclassProp(\"_invalid\", ctx.computedInvalid)(\"_focused\", ctx.computedFocused)(\"_no-hover\", ctx.noHover)(\"_no-active\", ctx.noActive);\n      }\n    },\n    inputs: {\n      disabled: \"disabled\",\n      readOnly: \"readOnly\",\n      hover: \"hover\",\n      active: \"active\",\n      focus: \"focus\",\n      invalid: \"invalid\",\n      appearance: \"appearance\"\n    },\n    features: [i0.ɵɵProvidersFeature([MODE_PROVIDER])]\n  });\n  return TuiWrapperDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiWrapperModule = /*#__PURE__*/(() => {\n  class TuiWrapperModule {}\n  TuiWrapperModule.ɵfac = function TuiWrapperModule_Factory(t) {\n    return new (t || TuiWrapperModule)();\n  };\n  TuiWrapperModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiWrapperModule\n  });\n  TuiWrapperModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiWrapperModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiWrapperDirective, TuiWrapperModule };\n","import { trigger, transition, style, animate, query, stagger } from '@angular/animations';\nconst TRANSITION = '{{duration}}ms ease-in-out';\nconst DURATION = {\n  params: {\n    duration: 300\n  }\n};\nconst STAGGER = 300;\nconst tuiHeightCollapse = trigger('tuiHeightCollapse', [transition(':enter', [style({\n  height: 0\n}), animate(TRANSITION, style({\n  height: '*'\n}))], DURATION), transition(':leave', [style({\n  height: '*'\n}), animate(TRANSITION, style({\n  height: 0\n}))], DURATION)]);\nconst tuiHeightCollapseList = trigger('tuiHeightCollapseList', [transition('* => *', [query(':enter', [style({\n  height: 0\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  height: '*'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  height: '*'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  height: 0\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiWidthCollapse = trigger('tuiWidthCollapse', [transition(':enter', [style({\n  width: 0\n}), animate(TRANSITION, style({\n  width: '*'\n}))], DURATION), transition(':leave', [style({\n  width: '*'\n}), animate(TRANSITION, style({\n  width: 0\n}))], DURATION)]);\nconst tuiWidthCollapseList = trigger('tuiWidthCollapseList', [transition('* => *', [query(':enter', [style({\n  width: 0\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  width: '*'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  width: '*'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  width: 0\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiFadeIn = trigger('tuiFadeIn', [transition(':enter', [style({\n  opacity: 0\n}), animate(TRANSITION, style({\n  opacity: 1\n}))], DURATION), transition(':leave', [style({\n  opacity: 1\n}), animate(TRANSITION, style({\n  opacity: 0\n}))], DURATION)]);\nconst tuiFadeInList = trigger('tuiFadeInList', [transition('* => *', [query(':enter', [style({\n  opacity: 0\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  opacity: 1\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  opacity: 1\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  opacity: 0\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiFadeInTop = trigger('tuiFadeInTop', [transition(':enter', [style({\n  transform: 'translateY(-10px)',\n  opacity: 0\n}), animate(TRANSITION, style({\n  transform: 'translateY(0)',\n  opacity: 1\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateY(0)',\n  opacity: 1\n}), animate(TRANSITION, style({\n  transform: 'translateY(-10px)',\n  opacity: 0\n}))], DURATION)]);\nconst tuiFadeInBottom = trigger('tuiFadeInBottom', [transition(':enter', [style({\n  transform: 'translateY(10px)',\n  opacity: 0\n}), animate(TRANSITION, style({\n  transform: 'translateY(0)',\n  opacity: 1\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateY(0)',\n  opacity: 1\n}), animate(TRANSITION, style({\n  transform: 'translateY(10px)',\n  opacity: 0\n}))], DURATION)]);\nconst tuiDropdownAnimation = trigger('tuiDropdownAnimation', [transition(':enter', [style({\n  transform: 'translateY(-10px)',\n  opacity: 0\n}), animate(TRANSITION, style({\n  transform: 'translateY(0)',\n  opacity: 1\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateY(0)',\n  opacity: 1\n}), animate(TRANSITION, style({\n  transform: 'translateY(-10px)',\n  opacity: 0\n}))], DURATION)]);\nconst tuiScaleIn = trigger('tuiScaleIn', [transition(':enter', [style({\n  transform: 'scale(0)'\n}), animate(TRANSITION, style({\n  transform: 'scale(1)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'scale(1)'\n}), animate(TRANSITION, style({\n  transform: 'scale(0)'\n}))], DURATION)]);\nconst tuiPop = trigger('tuiPop', [transition(':enter', [style({\n  transform: 'scale(0)'\n}), animate(TRANSITION, style({\n  transform: 'scale(1.1)'\n})), animate(TRANSITION, style({\n  transform: 'scale(1)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'scale(1)'\n}), animate(TRANSITION, style({\n  transform: 'scale(1.1)'\n})), animate(TRANSITION, style({\n  transform: 'scale(0)'\n}))], DURATION)]);\nconst tuiScaleInList = trigger('tuiScaleInList', [transition('* => *', [query(':enter', [style({\n  transform: 'scale(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'scale(1)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'scale(1)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'scale(0)'\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiSlideIn = trigger('tuiSlideIn', [transition('* => left', [style({\n  transform: 'translateX(-100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))], DURATION), transition('left => *', [style({\n  transform: 'translateX(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(-100%)'\n}))], DURATION), transition('* => right', [style({\n  transform: 'translateX(100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))], DURATION), transition('right => *', [style({\n  transform: 'translateX(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(100%)'\n}))], DURATION)]);\nconst tuiSlideInLeft = trigger('tuiSlideInLeft', [transition(':enter', [style({\n  transform: 'translateX(-100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateX(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(-100%)'\n}))], DURATION)]);\nconst tuiSlideInLeftList = trigger('tuiSlideInLeftList', [transition('* => *', [query(':enter', [style({\n  transform: 'translateX(-100%)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'translateX(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateX(-100%)'\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiSlideInRight = trigger('tuiSlideInRight', [transition(':enter', [style({\n  transform: 'translateX(100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateX(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(100%)'\n}))], DURATION)]);\nconst tuiSlideInRightList = trigger('tuiSlideInRightList', [transition('* => *', [query(':enter', [style({\n  transform: 'translateX(100%)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'translateX(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateX(100%)'\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiSlideInTop = trigger('tuiSlideInTop', [transition(':enter', [style({\n  transform: 'translate3d(0,{{start}},0)'\n}), animate(TRANSITION, style({\n  transform: 'translate3d(0,{{end}},0)'\n}))], {\n  params: {\n    end: 0,\n    start: '100%',\n    duration: 300\n  }\n}), transition(':leave', [style({\n  transform: 'translate3d(0,{{end}},0)',\n  pointerEvents: 'none'\n}), animate(TRANSITION, style({\n  transform: 'translate3d(0,{{start}},0)'\n}))], {\n  params: {\n    end: 0,\n    start: '100%',\n    duration: 300\n  }\n})]);\nconst tuiSlideInTopList = trigger('tuiSlideInTopList', [transition('* => *', [query(':enter', [style({\n  transform: 'translateY(100%)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateY(0)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'translateY(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateY(100%)'\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiSlideInBottom = trigger('tuiSlideInBottom', [transition(':enter', [style({\n  transform: 'translateY(-100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateY(0)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateY(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateY(-100%)'\n}))], DURATION)]);\nconst tuiSlideInBottomList = trigger('tuiSlideInBottomList', [transition('* => *', [query(':enter', [style({\n  transform: 'translateY(-100%)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateY(0)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'translateY(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateY(-100%)'\n}))])], {\n  optional: true\n})], DURATION)]);\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiDropdownAnimation, tuiFadeIn, tuiFadeInBottom, tuiFadeInList, tuiFadeInTop, tuiHeightCollapse, tuiHeightCollapseList, tuiPop, tuiScaleIn, tuiScaleInList, tuiSlideIn, tuiSlideInBottom, tuiSlideInBottomList, tuiSlideInLeft, tuiSlideInLeftList, tuiSlideInRight, tuiSlideInRightList, tuiSlideInTop, tuiSlideInTopList, tuiWidthCollapse, tuiWidthCollapseList };\n","import * as i0 from '@angular/core';\nimport { NgZone, Injectable, Inject, LOCALE_ID, ElementRef, Optional, Self, SecurityContext } from '@angular/core';\nimport * as i3 from '@taiga-ui/cdk';\nimport { tuiZoneOptimized, TUI_WINDOW_SIZE, tuiZonefree, EMPTY_CLIENT_RECT, TuiDestroyService, tuiAssert, TUI_IS_WEBKIT } from '@taiga-ui/cdk';\nimport { TUI_MEDIA, TUI_SANITIZER, TUI_ICONS } from '@taiga-ui/core/tokens';\nimport * as i1 from 'rxjs';\nimport { Observable, of, BehaviorSubject, fromEvent, merge, timer, EMPTY } from 'rxjs';\nimport { map, distinctUntilChanged, shareReplay, startWith, share, finalize, takeUntil } from 'rxjs/operators';\nimport { WINDOW, ANIMATION_FRAME } from '@ng-web-apis/common';\nimport * as i2 from '@taiga-ui/core/abstract';\nimport { TuiPositionAccessor } from '@taiga-ui/core/abstract';\nimport * as i1$1 from '@angular/router';\nimport { RouterLinkActive } from '@angular/router';\nimport * as i1$2 from '@angular/platform-browser';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { tuiProcessIcon } from '@taiga-ui/core/utils/dom';\n\n/**\n * Service to provide the current breakpoint based on Taiga UI's media queries\n */\nlet TuiBreakpointService = /*#__PURE__*/(() => {\n  class TuiBreakpointService extends Observable {\n    constructor(media, ngZone, size$) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.media = media;\n      this.ngZone = ngZone;\n      this.size$ = size$;\n      this.sorted = Object.values(this.media).sort((a, b) => a - b);\n      this.invert = Object.keys(this.media).reduce((ret, key) => Object.assign(Object.assign({}, ret), {\n        [this.media[key]]: key\n      }), {});\n      this.stream$ = this.size$.pipe(map(({\n        width\n      }) => this.sorted.find(size => size > width)), map(key => this.invert[key || this.sorted[this.sorted.length - 1]]), distinctUntilChanged(), tuiZoneOptimized(this.ngZone), shareReplay({\n        bufferSize: 1,\n        refCount: true\n      }));\n    }\n  }\n  TuiBreakpointService.ɵfac = function TuiBreakpointService_Factory(t) {\n    return new (t || TuiBreakpointService)(i0.ɵɵinject(TUI_MEDIA), i0.ɵɵinject(NgZone), i0.ɵɵinject(TUI_WINDOW_SIZE));\n  };\n  TuiBreakpointService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiBreakpointService,\n    factory: TuiBreakpointService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiBreakpointService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFormatDateService = /*#__PURE__*/(() => {\n  class TuiFormatDateService {\n    constructor(locale) {\n      this.locale = locale;\n    }\n    format(timestamp) {\n      return of(new Date(timestamp).toLocaleTimeString(this.locale, {\n        hour: 'numeric',\n        minute: '2-digit'\n      }));\n    }\n  }\n  TuiFormatDateService.ɵfac = function TuiFormatDateService_Factory(t) {\n    return new (t || TuiFormatDateService)(i0.ɵɵinject(LOCALE_ID));\n  };\n  TuiFormatDateService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiFormatDateService,\n    factory: TuiFormatDateService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiFormatDateService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Service for displaying hints/tooltips\n */\nlet TuiHintService = /*#__PURE__*/(() => {\n  class TuiHintService extends BehaviorSubject {\n    constructor() {\n      super([]);\n    }\n    add(directive) {\n      this.next(this.value.concat(directive));\n    }\n    remove(directive) {\n      if (this.value.includes(directive)) {\n        this.next(this.value.filter(hint => hint !== directive));\n      }\n    }\n  }\n  TuiHintService.ɵfac = function TuiHintService_Factory(t) {\n    return new (t || TuiHintService)();\n  };\n  TuiHintService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiHintService,\n    factory: TuiHintService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiHintService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiNightThemeService = /*#__PURE__*/(() => {\n  class TuiNightThemeService extends Observable {\n    constructor(win) {\n      const media = win.matchMedia('(prefers-color-scheme: dark)');\n      const media$ = fromEvent(media, 'change').pipe(startWith(null), map(() => media.matches), share());\n      super(subscriber => media$.subscribe(subscriber));\n    }\n  }\n  TuiNightThemeService.ɵfac = function TuiNightThemeService_Factory(t) {\n    return new (t || TuiNightThemeService)(i0.ɵɵinject(WINDOW));\n  };\n  TuiNightThemeService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiNightThemeService,\n    factory: TuiNightThemeService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiNightThemeService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPositionService = /*#__PURE__*/(() => {\n  class TuiPositionService extends Observable {\n    constructor(\n    // Destructuring here causes memory leak\n    el, animationFrame, zone, accessor) {\n      super(subscriber => animationFrame.pipe(map(() => el.nativeElement.getBoundingClientRect()), map(rect => accessor.getPosition(rect)), tuiZonefree(zone), finalize(() => accessor.getPosition(EMPTY_CLIENT_RECT))).subscribe(subscriber));\n    }\n  }\n  TuiPositionService.ɵfac = function TuiPositionService_Factory(t) {\n    return new (t || TuiPositionService)(i0.ɵɵinject(ElementRef), i0.ɵɵinject(ANIMATION_FRAME), i0.ɵɵinject(NgZone), i0.ɵɵinject(TuiPositionAccessor));\n  };\n  TuiPositionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiPositionService,\n    factory: TuiPositionService.ɵfac\n  });\n  return TuiPositionService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// TODO: Remove when Angular is update and `RouterLinkActive` has output\nlet TuiRouterLinkActiveService = /*#__PURE__*/(() => {\n  class TuiRouterLinkActiveService extends Observable {\n    constructor(routerLinkActive, zone, animationFrame$, destroy$) {\n      const stream$ = routerLinkActive ? merge(timer(0),\n      // SSR (animationFrame$ never emits value during SSR)\n      animationFrame$).pipe(map(() => routerLinkActive.isActive), distinctUntilChanged(), tuiZoneOptimized(zone), takeUntil(destroy$)) : EMPTY;\n      super(subscriber => stream$.subscribe(subscriber));\n    }\n  }\n  TuiRouterLinkActiveService.ɵfac = function TuiRouterLinkActiveService_Factory(t) {\n    return new (t || TuiRouterLinkActiveService)(i0.ɵɵinject(RouterLinkActive, 8), i0.ɵɵinject(NgZone), i0.ɵɵinject(ANIMATION_FRAME), i0.ɵɵinject(TuiDestroyService, 2));\n  };\n  TuiRouterLinkActiveService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiRouterLinkActiveService,\n    factory: TuiRouterLinkActiveService.ɵfac\n  });\n  return TuiRouterLinkActiveService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Service for reusing SVGs without inlining each instance\n */\nlet TuiSvgService = /*#__PURE__*/(() => {\n  class TuiSvgService {\n    constructor(tuiSanitizer, sanitizer, icons) {\n      this.tuiSanitizer = tuiSanitizer;\n      this.sanitizer = sanitizer;\n      this.originals = {};\n      this.items$ = new BehaviorSubject(new Map());\n      this.define(icons);\n    }\n    define(icons) {\n      const {\n        value\n      } = this.items$;\n      Object.keys(icons).forEach(key => {\n        this.defineIcon(key, icons[key], value);\n      });\n      this.items$.next(value);\n    }\n    getOriginal(name) {\n      return this.originals[name] || null;\n    }\n    defineIcon(name, src, map) {\n      if (map.has(name)) {\n        return;\n      }\n      const parsed = this.parseSrc(name, src);\n      if (!parsed) {\n        ngDevMode && tuiAssert.assert(false, 'Unable to parse given SVG src');\n        return;\n      }\n      map.set(name, parsed);\n      this.originals = Object.assign(Object.assign({}, this.originals), {\n        [name]: src\n      });\n    }\n    parseSrc(name, src) {\n      return this.sanitize(tuiProcessIcon(src, name));\n    }\n    sanitize(src) {\n      return this.sanitizer.bypassSecurityTrustHtml((this.tuiSanitizer ? this.tuiSanitizer.sanitize(SecurityContext.HTML, src) : this.sanitizer.sanitize(SecurityContext.HTML, src)) || '');\n    }\n  }\n  TuiSvgService.ɵfac = function TuiSvgService_Factory(t) {\n    return new (t || TuiSvgService)(i0.ɵɵinject(TUI_SANITIZER, 8), i0.ɵɵinject(DomSanitizer), i0.ɵɵinject(TUI_ICONS));\n  };\n  TuiSvgService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiSvgService,\n    factory: TuiSvgService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiSvgService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiVisualViewportService = /*#__PURE__*/(() => {\n  class TuiVisualViewportService {\n    constructor(win, isWebkit) {\n      this.win = win;\n      this.isWebkit = isWebkit;\n    }\n    // https://bugs.webkit.org/show_bug.cgi?id=207089\n    correct([y, x]) {\n      return [this.correctY(y), this.correctX(x)];\n    }\n    correctX(x) {\n      var _a, _b;\n      return this.isWebkit ? x + ((_b = (_a = this.win.visualViewport) === null || _a === void 0 ? void 0 : _a.offsetLeft) !== null && _b !== void 0 ? _b : 0) : x;\n    }\n    correctY(y) {\n      var _a, _b;\n      return this.isWebkit ? y + ((_b = (_a = this.win.visualViewport) === null || _a === void 0 ? void 0 : _a.offsetTop) !== null && _b !== void 0 ? _b : 0) : y;\n    }\n  }\n  TuiVisualViewportService.ɵfac = function TuiVisualViewportService_Factory(t) {\n    return new (t || TuiVisualViewportService)(i0.ɵɵinject(WINDOW), i0.ɵɵinject(TUI_IS_WEBKIT));\n  };\n  TuiVisualViewportService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiVisualViewportService,\n    factory: TuiVisualViewportService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiVisualViewportService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiBreakpointService, TuiFormatDateService, TuiHintService, TuiNightThemeService, TuiPositionService, TuiRouterLinkActiveService, TuiSvgService, TuiVisualViewportService };\n","import { __decorate } from 'tslib';\nimport * as i2 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, InjectionToken, SkipSelf, Optional, SecurityContext, ElementRef, Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport * as i4 from '@angular/platform-browser';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { WINDOW } from '@ng-web-apis/common';\nimport * as i1 from '@taiga-ui/cdk';\nimport { tuiSvgLinearGradientProcessor, tuiCreateTokenFromFactory, tuiIsString, tuiAssert, tuiGetDocumentOrShadowRoot, TuiStaticRequestService, TUI_BASE_HREF, tuiPure, TuiLetModule } from '@taiga-ui/cdk';\nimport { TUI_CACHE_BUSTING_PAYLOAD, TUI_ICON_ERROR } from '@taiga-ui/core/constants';\nimport * as i3 from '@taiga-ui/core/services';\nimport { TuiSvgService } from '@taiga-ui/core/services';\nimport { TUI_DEFAULT_ICONS_PLACE, TUI_ICONS_PLACE, TUI_ICONS_PATH, TUI_SVG_SRC_PROCESSOR, TUI_SVG_CONTENT_PROCESSOR, TUI_SANITIZER } from '@taiga-ui/core/tokens';\nimport { tuiIsPresumedHTMLString } from '@taiga-ui/core/utils/miscellaneous';\nimport { identity, ReplaySubject, of } from 'rxjs';\nimport { switchMap, startWith, catchError, map } from 'rxjs/operators';\nimport { tuiIconsPathFactory } from '@taiga-ui/core/utils';\nfunction TuiSvgComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 3);\n  }\n  if (rf & 2) {\n    const innerHTML_r1 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵproperty(\"innerHTML\", innerHTML_r1, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction TuiSvgComponent_ng_container_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 4);\n    i0.ɵɵlistener(\"error\", function TuiSvgComponent_ng_container_0_ng_template_2_Template_svg_error_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onError());\n    });\n    i0.ɵɵelement(1, \"use\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"href\", ctx_r2.use, null, \"xlink\");\n  }\n}\nfunction TuiSvgComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiSvgComponent_ng_container_0_div_1_Template, 1, 1, \"div\", 2)(2, TuiSvgComponent_ng_container_0_ng_template_2_Template, 2, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const useTemplate_r4 = i0.ɵɵreference(3);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isInnerHTML)(\"ngIfElse\", useTemplate_r4);\n  }\n}\nconst TUI_DEPRECATED_ICONS = {\n  tuiIconAttach: 'tuiIconPaperclip',\n  tuiIconAttention: 'tuiIconAlertCircle',\n  tuiIconBackCircle: 'tuiIconArrowLeftCircle',\n  tuiIconCall: 'tuiIconPhone',\n  tuiIconCallIn: 'tuiIconPhoneIncoming',\n  tuiIconCallOut: 'tuiIconPhoneOutgoing',\n  tuiIconCallTransfer: 'tuiIconPhoneForwarded',\n  tuiIconCancel: 'tuiIconXCircle',\n  tuiIconCancelCircle: 'tuiIconSlash',\n  tuiIconCard: 'tuiIconCreditCard',\n  tuiIconCards: 'tuiIconCreditCard',\n  tuiIconChartBar: 'tuiIconBarChart',\n  tuiIconChart: 'tuiIconBarChart',\n  tuiIconCheckList: 'tuiIconClipboard',\n  tuiIconCloseCircle: 'tuiIconXCircle',\n  tuiIconCollapse: 'tuiIconMinimize',\n  tuiIconComment: 'tuiIconMessageSquare',\n  tuiIconCommentFw: 'tuiIconMessageForward',\n  tuiIconCompany: 'tuiIconBriefcase',\n  tuiIconDefaultDoc: 'tuiIconFile',\n  tuiIconDesktop: 'tuiIconMonitor',\n  tuiIconDesktopOff: 'tuiIconMonitorOff',\n  tuiIconDislike: 'tuiIconThumbsDown',\n  tuiIconDone: 'tuiIconCheckCircle',\n  tuiIconDraft: 'tuiIconEdit2',\n  tuiIconEyeOpen: 'tuiIconEye',\n  tuiIconEyeClosed: 'tuiIconEyeOff',\n  tuiIconExpand: 'tuiIconMaximize',\n  tuiIconExternal: 'tuiIconExternalLink',\n  tuiIconFrame: 'tuiIconLayout',\n  tuiIconGeo: 'tuiIconMapPin',\n  tuiIconHeartFilled: 'tuiIconHeart',\n  tuiIconHide: 'tuiIconEyeOff',\n  tuiIconImg: 'tuiIconImage',\n  tuiIconInfoCircle: 'tuiIconInfo',\n  tuiIconLike: 'tuiIconThumbsUp',\n  tuiIconLockOpen: 'tuiIconUnlock',\n  tuiIconMobile: 'tuiIconSmartphone',\n  tuiIconMoreHor: 'tuiIconMoreHorizontal',\n  tuiIconMoreVer: 'tuiIconMoreVertical',\n  tuiIconMoreVert: 'tuiIconMoreVertical',\n  tuiIconPicture: 'tuiIconImage',\n  tuiIconPin: 'tuiIconMapPin',\n  tuiIconPrint: 'tuiIconPrinter',\n  tuiIconRefresh: 'tuiIconRefreshCw',\n  tuiIconRemove: 'tuiIconX',\n  tuiIconShow: 'tuiIconEye',\n  tuiIconSound: 'tuiIconVolume',\n  tuiIconSoundOff: 'tuiIconVolumeX',\n  tuiIconStarFilled: 'tuiIconStar',\n  tuiIconStop: 'tuiIconSquare',\n  tuiIconStructure: 'tuiIconGrid',\n  tuiIconTime: 'tuiIconClock',\n  tuiIconTooltip: 'tuiIconHelpCircle',\n  tuiIconViewList: 'tuiIconList',\n  tuiIconWifiOn: 'tuiIconWifi'\n};\nconst TUI_SVG_DEFAULT_OPTIONS = {\n  iconsPlace: TUI_DEFAULT_ICONS_PLACE,\n  path: tuiIconsPathFactory(TUI_DEFAULT_ICONS_PLACE),\n  srcProcessor: identity,\n  contentProcessor: tuiSvgLinearGradientProcessor,\n  deprecated: src => {\n    const oldIcon = src.replace('Large', '').replace('Outline', '');\n    const newIcon = TUI_DEPRECATED_ICONS[oldIcon];\n    return newIcon ? `${oldIcon}/(Large|Outline) is deprecated, use ${newIcon}/(Large|Outline) instead` : '';\n  }\n};\n/**\n * SVG component options\n */\nconst TUI_SVG_OPTIONS = tuiCreateTokenFromFactory(() => ({\n  iconsPlace: inject(TUI_ICONS_PLACE),\n  path: inject(TUI_ICONS_PATH),\n  deprecated: TUI_SVG_DEFAULT_OPTIONS.deprecated,\n  srcProcessor: inject(TUI_SVG_SRC_PROCESSOR),\n  contentProcessor: inject(TUI_SVG_CONTENT_PROCESSOR)\n}));\nconst TUI_SVG_SRC_INTERCEPTORS = new InjectionToken('[TUI_SVG_SRC_INTERCEPTORS]');\nfunction tuiSvgSrcInterceptors(interceptor) {\n  return {\n    provide: TUI_SVG_SRC_INTERCEPTORS,\n    useValue: interceptor,\n    multi: true\n  };\n}\nconst tuiSvgOptionsProvider = options => ({\n  provide: TUI_SVG_OPTIONS,\n  deps: [[new SkipSelf(), new Optional(), TUI_SVG_OPTIONS], [new Optional(), TUI_ICONS_PLACE], [new Optional(), TUI_ICONS_PATH], [new Optional(), TUI_SVG_SRC_PROCESSOR], [new Optional(), TUI_SVG_CONTENT_PROCESSOR]],\n  useFactory: (fallback, iconsPlace, path, srcProcessor, contentProcessor) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n    return {\n      iconsPlace: (_c = (_b = (_a = options.iconsPlace) !== null && _a !== void 0 ? _a : fallback === null || fallback === void 0 ? void 0 : fallback.iconsPlace) !== null && _b !== void 0 ? _b : iconsPlace) !== null && _c !== void 0 ? _c : TUI_SVG_DEFAULT_OPTIONS.iconsPlace,\n      path: tuiIsString(options.path) ? tuiIconsPathFactory(options.path) : (_f = (_e = (_d = options.path) !== null && _d !== void 0 ? _d : fallback === null || fallback === void 0 ? void 0 : fallback.path) !== null && _e !== void 0 ? _e : path) !== null && _f !== void 0 ? _f : TUI_SVG_DEFAULT_OPTIONS.path,\n      deprecated: (_h = (_g = options.deprecated) !== null && _g !== void 0 ? _g : fallback === null || fallback === void 0 ? void 0 : fallback.deprecated) !== null && _h !== void 0 ? _h : TUI_SVG_DEFAULT_OPTIONS.deprecated,\n      srcProcessor: (_l = (_k = (_j = options.srcProcessor) !== null && _j !== void 0 ? _j : fallback === null || fallback === void 0 ? void 0 : fallback.srcProcessor) !== null && _k !== void 0 ? _k : srcProcessor) !== null && _l !== void 0 ? _l : TUI_SVG_DEFAULT_OPTIONS.srcProcessor,\n      contentProcessor: (_p = (_o = (_m = options.contentProcessor) !== null && _m !== void 0 ? _m : fallback === null || fallback === void 0 ? void 0 : fallback.contentProcessor) !== null && _o !== void 0 ? _o : contentProcessor) !== null && _p !== void 0 ? _p : TUI_SVG_DEFAULT_OPTIONS.contentProcessor\n    };\n  }\n});\nconst UNDEFINED_NAMED_ICON = 'Attempted to use undefined named icon';\nconst MISSING_EXTERNAL_ICON = 'External icon is missing on the given URL';\nconst FAILED_EXTERNAL_ICON = 'Failed to load external SVG';\n// TODO: Consider moving to CDK along with SvgService and SvgDefsHostComponent\nlet TuiSvgComponent = /*#__PURE__*/(() => {\n  class TuiSvgComponent {\n    constructor(doc, win, options, srcInterceptors, tuiSanitizer, svgService, staticRequestService, sanitizer, el, baseHref) {\n      this.doc = doc;\n      this.win = win;\n      this.options = options;\n      this.srcInterceptors = srcInterceptors;\n      this.tuiSanitizer = tuiSanitizer;\n      this.svgService = svgService;\n      this.staticRequestService = staticRequestService;\n      this.sanitizer = sanitizer;\n      this.el = el;\n      this.baseHref = baseHref;\n      this.src$ = new ReplaySubject(1);\n      this.icon = '';\n      this.innerHTML$ = this.src$.pipe(switchMap(() => {\n        if (tuiIsString(this.icon)) {\n          return this.isExternal ? this.getExternalIcon(this.icon) : of(this.getSafeHtml(this.icon));\n        }\n        return of(this.icon);\n      }), startWith(''));\n    }\n    set src(src) {\n      var _a;\n      const deprecated = this.options.deprecated(String(src));\n      ngDevMode && tuiAssert.assert(!deprecated, deprecated);\n      this.icon = ((_a = this.srcInterceptors) !== null && _a !== void 0 ? _a : []).reduce((newSrc, interceptor) => interceptor(newSrc, this.options), this.options.srcProcessor(src || ''));\n      this.src$.next();\n    }\n    get src() {\n      return this.icon;\n    }\n    get use() {\n      if (tuiIsString(this.icon)) {\n        return this.icon.includes('.svg#') ? this.icon : this.resolveName(this.icon, this.options.path);\n      }\n      return '';\n    }\n    get isInnerHTML() {\n      return !tuiIsString(this.icon) || this.isSrc || this.isExternal || this.isName && this.isShadowDOM;\n    }\n    get isShadowDOM() {\n      return tuiGetDocumentOrShadowRoot(this.el.nativeElement) !== this.doc;\n    }\n    get isUse() {\n      return this.use.replace(TUI_CACHE_BUSTING_PAYLOAD, '').includes('.svg#');\n    }\n    get isExternal() {\n      return this.isUrl || this.isCrossDomain;\n    }\n    get isUrl() {\n      return tuiIsString(this.icon) && this.icon.replace(TUI_CACHE_BUSTING_PAYLOAD, '').endsWith('.svg');\n    }\n    get isSrc() {\n      return tuiIsString(this.icon) && tuiIsPresumedHTMLString(this.icon);\n    }\n    get isName() {\n      return !this.isUrl && !this.isUse && !this.isSrc;\n    }\n    get isCrossDomain() {\n      const {\n        use,\n        isUse,\n        win\n      } = this;\n      return isUse && use.startsWith('http') && !!win.origin && !use.startsWith(win.origin);\n    }\n    onError(message = MISSING_EXTERNAL_ICON) {\n      const {\n        icon\n      } = this;\n      const event = new CustomEvent(TUI_ICON_ERROR, {\n        bubbles: true,\n        detail: {\n          message,\n          icon: icon\n        }\n      });\n      ngDevMode && tuiAssert.assert(false, message, icon);\n      this.el.nativeElement.dispatchEvent(event);\n    }\n    resolveName(name, iconsPath) {\n      return iconsPath(name, this.baseHref);\n    }\n    getSafeHtml(src) {\n      return this.isSrc ? this.sanitize(src) : this.process(src);\n    }\n    process(src) {\n      const icon = this.svgService.getOriginal(src);\n      if (this.isName && !icon && !!src) {\n        this.onError(UNDEFINED_NAMED_ICON);\n      }\n      // Empty line for innerHTML when icon is shown through USE tag\n      return !this.isShadowDOM || !this.isName ? '' : this.sanitize(icon || '');\n    }\n    sanitize(src) {\n      src = this.options.contentProcessor(src);\n      return this.tuiSanitizer && tuiIsString(src) ? this.sanitizer.bypassSecurityTrustHtml(this.tuiSanitizer.sanitize(SecurityContext.HTML, src) || '') : src;\n    }\n    getExternalIcon(src) {\n      const url = src.includes('.svg') ? src : this.use;\n      return this.staticRequestService.request(url).pipe(catchError(() => {\n        this.onError(FAILED_EXTERNAL_ICON);\n        return of('');\n      }), map(response => this.sanitize(response.replace('<svg', '<svg focusable=\"false\"'))));\n    }\n  }\n  TuiSvgComponent.ɵfac = function TuiSvgComponent_Factory(t) {\n    return new (t || TuiSvgComponent)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(WINDOW), i0.ɵɵdirectiveInject(TUI_SVG_OPTIONS), i0.ɵɵdirectiveInject(TUI_SVG_SRC_INTERCEPTORS, 8), i0.ɵɵdirectiveInject(TUI_SANITIZER, 8), i0.ɵɵdirectiveInject(TuiSvgService), i0.ɵɵdirectiveInject(TuiStaticRequestService), i0.ɵɵdirectiveInject(DomSanitizer), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_BASE_HREF));\n  };\n  TuiSvgComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiSvgComponent,\n    selectors: [[\"tui-svg\"]],\n    inputs: {\n      src: \"src\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"useTemplate\", \"\"], [4, \"tuiLet\"], [\"class\", \"t-src\", 3, \"innerHTML\", 4, \"ngIf\", \"ngIfElse\"], [1, \"t-src\", 3, \"innerHTML\"], [\"focusable\", \"false\", \"height\", \"100%\", \"version\", \"1.1\", \"width\", \"100%\", 0, \"xmlns\", \"xlink\", \"http://www.w3.org/1999/xlink\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"t-svg\", 3, \"error\"]],\n    template: function TuiSvgComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiSvgComponent_ng_container_0_Template, 4, 2, \"ng-container\", 1);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.innerHTML$));\n      }\n    },\n    dependencies: [i1.TuiLetDirective, i2.NgIf, i2.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{display:inline-flex;vertical-align:middle;flex-shrink:0;align-items:center;justify-content:center;line-height:0;height:1.5rem;width:1.5rem;fill:transparent;stroke:transparent;font-size:1rem}.t-src[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.t-svg[_ngcontent-%COMP%]{overflow:visible}\"],\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiSvgComponent.prototype, \"resolveName\", null);\n  return TuiSvgComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiSvgModule = /*#__PURE__*/(() => {\n  class TuiSvgModule {}\n  TuiSvgModule.ɵfac = function TuiSvgModule_Factory(t) {\n    return new (t || TuiSvgModule)();\n  };\n  TuiSvgModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiSvgModule\n  });\n  TuiSvgModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiLetModule]]\n  });\n  return TuiSvgModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_DEPRECATED_ICONS, TUI_SVG_DEFAULT_OPTIONS, TUI_SVG_OPTIONS, TUI_SVG_SRC_INTERCEPTORS, TuiSvgComponent, TuiSvgModule, tuiSvgOptionsProvider, tuiSvgSrcInterceptors };\n","import { EVENT_MANAGER_PLUGINS } from '@angular/platform-browser';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, inject, NgModule, Inject } from '@angular/core';\nimport { EMPTY, concat, defer } from 'rxjs';\nimport { takeWhile } from 'rxjs/operators';\nimport { DOCUMENT } from '@angular/common';\nfunction dasharize(camel) {\n  return camel.replace(/[a-z][A-Z]/g, letterLetter => {\n    return `${letterLetter[0]}-${letterLetter[1].toLowerCase()}`;\n  });\n}\nclass AbstractEventPlugin {\n  supports(event) {\n    return event.includes(this.modifier);\n  }\n  /** This is not used in Ivy anymore */\n  addGlobalEventListener() {\n    return () => {};\n  }\n  unwrap(event) {\n    return event.split('.').filter(v => !this.modifier.includes(v)).join('.');\n  }\n}\nlet BindEventPlugin = /*#__PURE__*/(() => {\n  class BindEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '$';\n    }\n    addEventListener(element, event) {\n      element[event] = element[event] || EMPTY;\n      const method = this.getMethod(element, event);\n      const zone$ = this.manager.getZone().onStable;\n      const sub = concat(zone$.pipe(takeWhile(() => element[event] === EMPTY)), defer(() => element[event])).subscribe(method);\n      return () => sub.unsubscribe();\n    }\n    getMethod(element, event) {\n      const [, key, value, unit = ''] = event.split('.');\n      if (event.endsWith('.attr')) {\n        return v => v === null ? element.removeAttribute(key) : element.setAttribute(key, String(v));\n      }\n      if (key === 'class') {\n        return v => element.classList.toggle(value, !!v);\n      }\n      if (key === 'style') {\n        return v => element.style.setProperty(dasharize(value), `${v}${unit}`);\n      }\n      return v => element[key] = v;\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */BindEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵBindEventPlugin_BaseFactory;\n    return function BindEventPlugin_Factory(t) {\n      return (ɵBindEventPlugin_BaseFactory || (ɵBindEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(BindEventPlugin)))(t || BindEventPlugin);\n    };\n  })();\n  BindEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: BindEventPlugin,\n    factory: BindEventPlugin.ɵfac\n  });\n  return BindEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst GLOBAL_HANDLER = new InjectionToken('[GLOBAL_HANDLER]: Global event target handler', {\n  factory: () => {\n    const document = inject(DOCUMENT);\n    return name => name === 'body' ? document.body : document.defaultView[name] || document.createElement('div');\n  }\n});\nlet GlobalEventPlugin = /*#__PURE__*/(() => {\n  class GlobalEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.handler = inject(GLOBAL_HANDLER);\n      this.modifier = '>';\n    }\n    addEventListener(_, event, handler) {\n      return this.manager.addEventListener(this.handler(event.split('>')[0]), event.split('>')[1], handler);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */GlobalEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵGlobalEventPlugin_BaseFactory;\n    return function GlobalEventPlugin_Factory(t) {\n      return (ɵGlobalEventPlugin_BaseFactory || (ɵGlobalEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(GlobalEventPlugin)))(t || GlobalEventPlugin);\n    };\n  })();\n  GlobalEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: GlobalEventPlugin,\n    factory: GlobalEventPlugin.ɵfac\n  });\n  return GlobalEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OptionsEventPlugin = /*#__PURE__*/(() => {\n  class OptionsEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = 'capture.once.passive';\n    }\n    supports(event) {\n      return event.includes('.') && !this.unwrap(event).includes('.');\n    }\n    addEventListener(element, event, handler) {\n      element.addEventListener(this.unwrap(event), handler, {\n        once: event.includes('.once'),\n        passive: event.includes('.passive'),\n        capture: event.includes('.capture')\n      });\n      return () => element.removeEventListener(this.unwrap(event), handler, event.includes('.capture'));\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */OptionsEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵOptionsEventPlugin_BaseFactory;\n    return function OptionsEventPlugin_Factory(t) {\n      return (ɵOptionsEventPlugin_BaseFactory || (ɵOptionsEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(OptionsEventPlugin)))(t || OptionsEventPlugin);\n    };\n  })();\n  OptionsEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OptionsEventPlugin,\n    factory: OptionsEventPlugin.ɵfac\n  });\n  return OptionsEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PreventEventPlugin = /*#__PURE__*/(() => {\n  class PreventEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.prevent';\n    }\n    addEventListener(element, event, handler) {\n      const wrapped = event => {\n        event.preventDefault();\n        handler(event);\n      };\n      return this.manager.addEventListener(element, this.unwrap(event), wrapped);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */PreventEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵPreventEventPlugin_BaseFactory;\n    return function PreventEventPlugin_Factory(t) {\n      return (ɵPreventEventPlugin_BaseFactory || (ɵPreventEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(PreventEventPlugin)))(t || PreventEventPlugin);\n    };\n  })();\n  PreventEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PreventEventPlugin,\n    factory: PreventEventPlugin.ɵfac\n  });\n  return PreventEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SelfEventPlugin = /*#__PURE__*/(() => {\n  class SelfEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.self';\n    }\n    addEventListener(element, event, handler) {\n      const wrapped = event => {\n        if (event.target === event.currentTarget) {\n          handler(event);\n        }\n      };\n      return this.manager.addEventListener(element, this.unwrap(event), wrapped);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */SelfEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵSelfEventPlugin_BaseFactory;\n    return function SelfEventPlugin_Factory(t) {\n      return (ɵSelfEventPlugin_BaseFactory || (ɵSelfEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(SelfEventPlugin)))(t || SelfEventPlugin);\n    };\n  })();\n  SelfEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SelfEventPlugin,\n    factory: SelfEventPlugin.ɵfac\n  });\n  return SelfEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SilentEventPlugin = /*#__PURE__*/(() => {\n  class SilentEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.silent';\n    }\n    addEventListener(element, event, handler) {\n      SilentEventPlugin.ngZone = this.manager.getZone();\n      return SilentEventPlugin.ngZone.runOutsideAngular(() => this.manager.addEventListener(element, this.unwrap(event), handler));\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */SilentEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵSilentEventPlugin_BaseFactory;\n    return function SilentEventPlugin_Factory(t) {\n      return (ɵSilentEventPlugin_BaseFactory || (ɵSilentEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(SilentEventPlugin)))(t || SilentEventPlugin);\n    };\n  })();\n  SilentEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SilentEventPlugin,\n    factory: SilentEventPlugin.ɵfac\n  });\n  return SilentEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StopEventPlugin = /*#__PURE__*/(() => {\n  class StopEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.stop';\n    }\n    addEventListener(element, event, handler) {\n      const wrapped = event => {\n        event.stopPropagation();\n        handler(event);\n      };\n      return this.manager.addEventListener(element, this.unwrap(event), wrapped);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */StopEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵStopEventPlugin_BaseFactory;\n    return function StopEventPlugin_Factory(t) {\n      return (ɵStopEventPlugin_BaseFactory || (ɵStopEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(StopEventPlugin)))(t || StopEventPlugin);\n    };\n  })();\n  StopEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: StopEventPlugin,\n    factory: StopEventPlugin.ɵfac\n  });\n  return StopEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\r\n * TODO: Remove in v4.0.0\r\n * @deprecated\r\n */\nlet ZoneEventPlugin = /*#__PURE__*/(() => {\n  class ZoneEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.init';\n    }\n    addEventListener() {\n      console.warn('.init plugin is no longer necessary as of v3.1.0');\n      return () => {};\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */ZoneEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵZoneEventPlugin_BaseFactory;\n    return function ZoneEventPlugin_Factory(t) {\n      return (ɵZoneEventPlugin_BaseFactory || (ɵZoneEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(ZoneEventPlugin)))(t || ZoneEventPlugin);\n    };\n  })();\n  ZoneEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ZoneEventPlugin,\n    factory: ZoneEventPlugin.ɵfac\n  });\n  return ZoneEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst PLUGINS = [SilentEventPlugin, BindEventPlugin, GlobalEventPlugin, OptionsEventPlugin, PreventEventPlugin, SelfEventPlugin, StopEventPlugin, ZoneEventPlugin];\nconst NG_EVENT_PLUGINS = PLUGINS.map(useClass => ({\n  provide: EVENT_MANAGER_PLUGINS,\n  multi: true,\n  useClass\n}));\nfunction shouldCall(predicate) {\n  return (_target, _key, desc) => {\n    const {\n      value\n    } = desc;\n    desc.value = function (...args) {\n      if (!predicate.apply(this, args)) {\n        return;\n      }\n      if (SilentEventPlugin.ngZone) {\n        SilentEventPlugin.ngZone.run(() => value.apply(this, args));\n      } else {\n        value.apply(this, args);\n      }\n    };\n  };\n}\nfunction asCallable(a) {\n  return a;\n}\nlet EventPluginsModule = /*#__PURE__*/(() => {\n  class EventPluginsModule {\n    constructor([plugin]) {\n      console.assert(!(plugin instanceof SilentEventPlugin) || EventPluginsModule.initialized, 'EventPluginsModule must come after BrowserModule in imports');\n      EventPluginsModule.initialized = true;\n    }\n  }\n  EventPluginsModule.initialized = false;\n  /** @nocollapse */\n  /** @nocollapse */\n  /** @nocollapse */\n  EventPluginsModule.ɵfac = function EventPluginsModule_Factory(t) {\n    return new (t || EventPluginsModule)(i0.ɵɵinject(EVENT_MANAGER_PLUGINS));\n  };\n  EventPluginsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: EventPluginsModule\n  });\n  EventPluginsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: NG_EVENT_PLUGINS\n  });\n  return EventPluginsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\r\n * Public API Surface of @tinkoff/ng-event-plugins\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { BindEventPlugin, EventPluginsModule, GLOBAL_HANDLER, GlobalEventPlugin, NG_EVENT_PLUGINS, OptionsEventPlugin, PreventEventPlugin, SilentEventPlugin, StopEventPlugin, ZoneEventPlugin, asCallable, shouldCall };\n","import * as i1 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { ElementRef, Component, ChangeDetectionStrategy, Inject, Input, HostBinding, NgModule } from '@angular/core';\nimport { tuiCreateToken, tuiProvideOptions, tuiIsSafari, tuiBlurNativeFocused, tuiIsNativeFocusedIn, TUI_IS_IOS } from '@taiga-ui/cdk';\nimport { tuiSizeBigger } from '@taiga-ui/core/utils/miscellaneous';\nimport * as i2 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\n\n/** Default values for the loader options. */\nconst _c0 = [\"*\"];\nfunction TuiLoaderComponent_div_2_div_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nfunction TuiLoaderComponent_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, TuiLoaderComponent_div_2_div_3_ng_container_1_Template, 2, 1, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"t-text_horizontal\", ctx_r1.isHorizontal);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.textContent);\n  }\n}\nfunction TuiLoaderComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 3);\n    i0.ɵɵelement(2, \"circle\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TuiLoaderComponent_div_2_div_3_Template, 2, 3, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-loader_horizontal\", ctx_r1.isHorizontal)(\"t-loader_inherit-color\", ctx_r1.inheritColor);\n    i0.ɵɵattribute(\"data-size\", ctx_r1.size);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasText);\n  }\n}\nconst TUI_LOADER_DEFAULT_OPTIONS = {\n  size: 'm',\n  inheritColor: false,\n  overlay: false\n};\n/**\n * Default parameters for loader component\n */\nconst TUI_LOADER_OPTIONS = tuiCreateToken(TUI_LOADER_DEFAULT_OPTIONS);\nfunction tuiLoaderOptionsProvider(options) {\n  return tuiProvideOptions(TUI_LOADER_OPTIONS, options, TUI_LOADER_DEFAULT_OPTIONS);\n}\nlet TuiLoaderComponent = /*#__PURE__*/(() => {\n  class TuiLoaderComponent {\n    constructor(doc, el, isIos, options) {\n      this.doc = doc;\n      this.el = el;\n      this.isIos = isIos;\n      this.options = options;\n      this.size = this.options.size;\n      this.inheritColor = this.options.inheritColor;\n      this.overlay = this.options.overlay;\n      this.loading = true;\n      this.isApple = tuiIsSafari(this.el.nativeElement) || this.isIos;\n    }\n    set showLoader(value) {\n      // @bad TODO: https://github.com/angular/angular/issues/32083 think of a better way\n      if (value && this.focused) {\n        tuiBlurNativeFocused(this.doc);\n      }\n      this.loading = value;\n    }\n    get hasOverlay() {\n      return this.overlay && this.loading;\n    }\n    get hasText() {\n      return !!this.textContent;\n    }\n    get isHorizontal() {\n      return !tuiSizeBigger(this.size);\n    }\n    get focused() {\n      return tuiIsNativeFocusedIn(this.el.nativeElement);\n    }\n  }\n  TuiLoaderComponent.ɵfac = function TuiLoaderComponent_Factory(t) {\n    return new (t || TuiLoaderComponent)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_IS_IOS), i0.ɵɵdirectiveInject(TUI_LOADER_OPTIONS));\n  };\n  TuiLoaderComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiLoaderComponent,\n    selectors: [[\"tui-loader\"]],\n    hostVars: 2,\n    hostBindings: function TuiLoaderComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_loading\", ctx.loading);\n      }\n    },\n    inputs: {\n      size: \"size\",\n      inheritColor: \"inheritColor\",\n      overlay: \"overlay\",\n      textContent: \"textContent\",\n      showLoader: \"showLoader\"\n    },\n    ngContentSelectors: _c0,\n    decls: 3,\n    vars: 7,\n    consts: [[1, \"t-content\", 3, \"disabled\"], [\"class\", \"t-loader\", 3, \"t-loader_horizontal\", \"t-loader_inherit-color\", 4, \"ngIf\"], [1, \"t-loader\"], [\"automation-id\", \"tui-loader__loader\", \"focusable\", \"false\", \"viewBox\", \"0 0 100 100\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"t-icon\"], [\"cx\", \"50\", \"cy\", \"50\", \"r\", \"50\", \"stroke-dasharray\", \"314\", 1, \"t-circle\"], [\"automation-id\", \"tui-loader__text\", \"class\", \"t-text\", 3, \"t-text_horizontal\", 4, \"ngIf\"], [\"automation-id\", \"tui-loader__text\", 1, \"t-text\"], [4, \"polymorpheusOutlet\"]],\n    template: function TuiLoaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"fieldset\", 0);\n        i0.ɵɵprojection(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, TuiLoaderComponent_div_2_Template, 4, 6, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"t-content_has-overlay\", ctx.hasOverlay)(\"t-content_loading\", ctx.loading);\n        i0.ɵɵproperty(\"disabled\", ctx.loading && !ctx.isApple);\n        i0.ɵɵattribute(\"inert\", ctx.loading || null);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      }\n    },\n    dependencies: [i1.NgIf, i2.PolymorpheusOutletDirective],\n    styles: [\"@keyframes _ngcontent-%COMP%_tuiLoaderDashOffset{0%{stroke-dashoffset:-66}50%{stroke-dashoffset:-314}to{stroke-dashoffset:-66}}@keyframes _ngcontent-%COMP%_tuiLoaderRotate{0%{transform:rotate(0)}50%{transform:rotate(1turn)}to{transform:rotate(3turn)}}[_nghost-%COMP%]{position:relative;display:flex;min-width:1.5rem}._loading[_nghost-%COMP%]{overflow:hidden}.t-content[_ngcontent-%COMP%]{z-index:0;min-width:100%;height:100%;padding:0;margin:0;border:none}.t-content_has-overlay[_ngcontent-%COMP%]{opacity:.3}.t-content_loading[_ngcontent-%COMP%]{pointer-events:none}.t-loader[_ngcontent-%COMP%]{position:relative;left:-100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:100%;flex-shrink:0;align-self:center;color:var(--tui-text-01);stroke:var(--tui-primary);animation:tuiFadeIn var(--tui-duration)}.t-loader.t-loader_horizontal[_ngcontent-%COMP%]{flex-direction:row}.t-loader.t-loader_inherit-color[_ngcontent-%COMP%]{color:inherit;stroke:currentColor}.t-loader[data-size=xs][_ngcontent-%COMP%]{font-size:.75rem;stroke-width:38}.t-loader[data-size=s][_ngcontent-%COMP%]{font-size:1rem;stroke-width:25}.t-loader[data-size=m][_ngcontent-%COMP%]{font-size:1.5rem;stroke-width:17}.t-loader[data-size=l][_ngcontent-%COMP%]{font-size:2.5rem;stroke-width:15}.t-loader[data-size=xl][_ngcontent-%COMP%]{font-size:3.5rem;stroke-width:14}.t-loader[data-size=xxl][_ngcontent-%COMP%]{font-size:5rem;stroke-width:10}.t-text[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:1rem;color:inherit;max-width:100%;text-align:center;stroke-width:0}.t-text_horizontal[_ngcontent-%COMP%]{margin:0 0 0 1rem}.t-icon[_ngcontent-%COMP%]{display:block;min-width:1em;max-width:1em;min-height:1em;max-height:1em;margin:.25rem -.5em;border-radius:100%;overflow:hidden;transform:scaleY(-1);animation:_ngcontent-%COMP%_tuiLoaderRotate 3s linear infinite}@supports (-webkit-hyphens: none){.t-icon[_ngcontent-%COMP%]{overflow:visible}}.t-circle[_ngcontent-%COMP%]{fill:none;stroke:inherit;stroke-width:inherit;animation:_ngcontent-%COMP%_tuiLoaderDashOffset 3s linear infinite}\"],\n    changeDetection: 0\n  });\n  return TuiLoaderComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLoaderModule = /*#__PURE__*/(() => {\n  class TuiLoaderModule {}\n  TuiLoaderModule.ɵfac = function TuiLoaderModule_Factory(t) {\n    return new (t || TuiLoaderModule)();\n  };\n  TuiLoaderModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLoaderModule\n  });\n  TuiLoaderModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule]]\n  });\n  return TuiLoaderModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_LOADER_DEFAULT_OPTIONS, TUI_LOADER_OPTIONS, TuiLoaderComponent, TuiLoaderModule, tuiLoaderOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Component, ChangeDetectionStrategy, Optional, Inject, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { tuiCreateToken, tuiProvideOptions, AbstractTuiInteractive, tuiIsNativeFocused, tuiAsFocusableItemAccessor, TuiDestroyService } from '@taiga-ui/cdk';\nimport * as i6 from '@taiga-ui/core/directives';\nimport { TuiModeDirective } from '@taiga-ui/core/directives';\nimport { EMPTY } from 'rxjs';\nimport { startWith, map, distinctUntilChanged } from 'rxjs/operators';\nimport { TuiAppearance } from '@taiga-ui/core/enums';\nimport * as i1 from '@taiga-ui/core/components/svg';\nimport { TuiSvgModule } from '@taiga-ui/core/components/svg';\nimport * as i2 from '@taiga-ui/core/components/loader';\nimport { TuiLoaderModule } from '@taiga-ui/core/components/loader';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@taiga-ui/core/directives/wrapper';\nimport { TuiWrapperModule } from '@taiga-ui/core/directives/wrapper';\nimport * as i5 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nconst _c0 = [\"tuiButton\", \"\"];\nconst _c1 = [\"*\"];\nfunction TuiButtonComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiButtonComponent_span_4_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 8);\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", text_r1);\n  }\n}\nfunction TuiButtonComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 6);\n    i0.ɵɵtemplate(1, TuiButtonComponent_span_4_tui_svg_1_Template, 1, 1, \"tui-svg\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.icon);\n  }\n}\nfunction TuiButtonComponent_span_6_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 8);\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", text_r3);\n  }\n}\nfunction TuiButtonComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 9);\n    i0.ɵɵtemplate(1, TuiButtonComponent_span_6_tui_svg_1_Template, 1, 1, \"tui-svg\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.iconRight);\n  }\n}\nfunction TuiButtonComponent_tui_loader_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-loader\", 10);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"inheritColor\", true)(\"size\", ctx_r1.loaderSize);\n  }\n}\nconst TUI_BUTTON_DEFAULT_OPTIONS = {\n  size: 'l',\n  shape: null,\n  appearance: TuiAppearance.Primary\n};\n/**\n * Default parameters for button component\n */\nconst TUI_BUTTON_OPTIONS = tuiCreateToken(TUI_BUTTON_DEFAULT_OPTIONS);\nfunction tuiButtonOptionsProvider(options) {\n  return tuiProvideOptions(TUI_BUTTON_OPTIONS, options, TUI_BUTTON_DEFAULT_OPTIONS);\n}\nlet TuiButtonComponent = /*#__PURE__*/(() => {\n  class TuiButtonComponent extends AbstractTuiInteractive {\n    constructor(mode, el, options) {\n      var _a;\n      super();\n      this.mode = mode;\n      this.el = el;\n      this.options = options;\n      this.mode$ = ((_a = this.mode) === null || _a === void 0 ? void 0 : _a.change$) || EMPTY;\n      this.appearance = null;\n      this.disabled = false;\n      this.shape = this.options.shape;\n      this.showLoader = false;\n      this.size = this.options.size;\n      this.appearance$ = this.mode$.pipe(startWith(null), map(() => this.computedAppearance), distinctUntilChanged());\n    }\n    get nativeFocusableElement() {\n      return this.nativeDisabled ? null : this.el.nativeElement;\n    }\n    get focused() {\n      return !this.showLoader && tuiIsNativeFocused(this.el.nativeElement);\n    }\n    get loaderSize() {\n      return this.size === 'l' || this.size === 'xl' ? 'm' : 's';\n    }\n    get computedAppearance() {\n      var _a;\n      return (_a = this.appearance) !== null && _a !== void 0 ? _a : this.options.appearance || '';\n    }\n    get nativeDisabled() {\n      return this.computedDisabled || this.showLoader ? '' : null;\n    }\n    get tabIndex() {\n      return this.focusable ? 0 : -1;\n    }\n    onFocused(focused) {\n      this.updateFocused(focused);\n    }\n  }\n  TuiButtonComponent.ɵfac = function TuiButtonComponent_Factory(t) {\n    return new (t || TuiButtonComponent)(i0.ɵɵdirectiveInject(TuiModeDirective, 8), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_BUTTON_OPTIONS));\n  };\n  TuiButtonComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiButtonComponent,\n    selectors: [[\"button\", \"tuiButton\", \"\"], [\"button\", \"tuiIconButton\", \"\"], [\"a\", \"tuiButton\", \"\"], [\"a\", \"tuiIconButton\", \"\"]],\n    hostVars: 7,\n    hostBindings: function TuiButtonComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"focusin\", function TuiButtonComponent_focusin_HostBindingHandler() {\n          return ctx.onFocused(true);\n        })(\"focusout\", function TuiButtonComponent_focusout_HostBindingHandler() {\n          return ctx.onFocused(false);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"tabIndex\", ctx.tabIndex);\n        i0.ɵɵattribute(\"data-shape\", ctx.shape)(\"data-size\", ctx.size)(\"data-appearance\", ctx.computedAppearance)(\"disabled\", ctx.nativeDisabled);\n        i0.ɵɵclassProp(\"_loading\", ctx.showLoader);\n      }\n    },\n    inputs: {\n      appearance: \"appearance\",\n      disabled: \"disabled\",\n      icon: \"icon\",\n      iconRight: \"iconRight\",\n      shape: \"shape\",\n      showLoader: \"showLoader\",\n      size: \"size\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiButtonComponent), TuiDestroyService]), i0.ɵɵInheritDefinitionFeature],\n    attrs: _c0,\n    ngContentSelectors: _c1,\n    decls: 8,\n    vars: 10,\n    consts: [[4, \"ngIf\"], [\"tuiWrapper\", \"\", 1, \"t-wrapper\", 3, \"active\", \"appearance\", \"disabled\", \"hover\"], [1, \"t-content\"], [\"class\", \"t-left\", 4, \"ngIf\"], [\"class\", \"t-right\", 4, \"ngIf\"], [\"class\", \"t-loader\", 3, \"inheritColor\", \"size\", 4, \"ngIf\"], [1, \"t-left\"], [\"class\", \"t-icon\", 3, \"src\", 4, \"polymorpheusOutlet\"], [1, \"t-icon\", 3, \"src\"], [1, \"t-right\"], [1, \"t-loader\", 3, \"inheritColor\", \"size\"]],\n    template: function TuiButtonComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiButtonComponent_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"span\", 2);\n        i0.ɵɵtemplate(4, TuiButtonComponent_span_4_Template, 2, 1, \"span\", 3);\n        i0.ɵɵprojection(5);\n        i0.ɵɵtemplate(6, TuiButtonComponent_span_6_Template, 2, 1, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, TuiButtonComponent_tui_loader_7_Template, 1, 2, \"tui-loader\", 5);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 8, ctx.appearance$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"active\", ctx.pseudoActive)(\"appearance\", ctx.computedAppearance)(\"disabled\", ctx.computedDisabled)(\"hover\", ctx.pseudoHover);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.icon);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.iconRight);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.showLoader);\n      }\n    },\n    dependencies: [i1.TuiSvgComponent, i2.TuiLoaderComponent, i3.NgIf, i4.TuiWrapperDirective, i5.PolymorpheusOutletDirective, i3.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:inline-block;flex-shrink:0;vertical-align:top;border-radius:var(--tui-radius-m);-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;color:inherit}[data-shape=rounded][_nghost-%COMP%]{border-radius:6.25rem}[data-size=xs][_nghost-%COMP%]{height:var(--tui-height-xs);font-weight:normal}[data-size=xs][data-shape=square][_nghost-%COMP%], [data-size=xs][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-xs)}[data-size=s][_nghost-%COMP%]{height:var(--tui-height-s);font-weight:normal}[data-size=s][data-shape=square][_nghost-%COMP%], [data-size=s][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-s)}[data-size=m][_nghost-%COMP%]{height:var(--tui-height-m);font:var(--tui-font-text-m);font-weight:bold}[data-size=m][data-shape=square][_nghost-%COMP%], [data-size=m][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]{height:var(--tui-height-l);font:var(--tui-font-text-m);font-weight:bold}[data-size=l][data-shape=square][_nghost-%COMP%], [data-size=l][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-l)}[data-size=xl][_nghost-%COMP%]{height:3.75rem;font:var(--tui-font-text-m);font-weight:bold}[data-size=xl][data-shape=square][_nghost-%COMP%], [data-size=xl][tuiIconButton][_nghost-%COMP%]{width:3.75rem}[tuiIconButton][_nghost-%COMP%]{font-size:0!important}[tuiIconButton][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0!important}.t-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;cursor:default}.t-left[_ngcontent-%COMP%]{margin-right:.5rem}[data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%]{margin-right:.375rem}[data-size=xs][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%]{margin-right:.25rem}.t-right[_ngcontent-%COMP%]{margin:0 -.25rem 0 .25rem}[data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0 -.25rem 0 .375rem}[data-size=xs][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0 -.125rem 0 .25rem}.t-icon[_ngcontent-%COMP%]{display:flex;max-width:100%;max-height:100%;align-items:center;justify-content:center}.t-left[_ngcontent-%COMP%], .t-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem}[data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%], [data-size=xs][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [data-size=xs][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{width:1rem;height:1rem}[tuiIconButton][data-appearance=icon][data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][data-appearance=icon][data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%], [tuiIconButton][data-appearance=link][data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][data-appearance=link][data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.t-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;isolation:isolate}[data-size=xs][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, .375rem)}[data-size=xs][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-width:1px}[data-size=s][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, .75rem)}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, 1.5rem)}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, 2.25rem)}[data-size=xl][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, 2.5rem)}[data-shape=square][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0}.t-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center;text-align:center}._loading[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{opacity:0}\"],\n    changeDetection: 0\n  });\n  return TuiButtonComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiButtonModule = /*#__PURE__*/(() => {\n  class TuiButtonModule {}\n  TuiButtonModule.ɵfac = function TuiButtonModule_Factory(t) {\n    return new (t || TuiButtonModule)();\n  };\n  TuiButtonModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiButtonModule\n  });\n  TuiButtonModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule, TuiWrapperModule, TuiSvgModule, TuiLoaderModule]]\n  });\n  return TuiButtonModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_BUTTON_DEFAULT_OPTIONS, TUI_BUTTON_OPTIONS, TuiButtonComponent, TuiButtonModule, tuiButtonOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Component, ChangeDetectionStrategy, Inject, Input, HostBinding, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiTypedFromEvent, ALWAYS_TRUE_HANDLER, ALWAYS_FALSE_HANDLER, tuiIsNativeFocused, TuiFocusVisibleService, tuiAsFocusableItemAccessor, TuiDestroyService } from '@taiga-ui/cdk';\nimport { MODE_PROVIDER } from '@taiga-ui/core/providers';\nimport { TUI_MODE } from '@taiga-ui/core/tokens';\nimport * as i3 from 'rxjs';\nimport { merge } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core/components/svg';\nimport { TuiSvgModule } from '@taiga-ui/core/components/svg';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n// @bad TODO: Think about extending Interactive\nconst _c0 = [\"tuiLink\", \"\"];\nconst _c1 = [\"*\"];\nfunction TuiLinkComponent_tui_svg_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 3);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.icon || \"\");\n  }\n}\nfunction TuiLinkComponent_tui_svg_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.icon || \"\");\n  }\n}\nlet TuiLinkComponent = /*#__PURE__*/(() => {\n  class TuiLinkComponent {\n    constructor(el, mode$, focusVisible$) {\n      this.el = el;\n      this.mode$ = mode$;\n      this.pseudo = false;\n      this.icon = '';\n      this.iconAlign = 'right';\n      this.iconRotated = false;\n      this.mode = null;\n      this.focusVisible = false;\n      this.focusedChange = merge(tuiTypedFromEvent(this.el.nativeElement, 'focusin').pipe(map(ALWAYS_TRUE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'focusout').pipe(map(ALWAYS_FALSE_HANDLER)));\n      focusVisible$.subscribe(visible => {\n        this.focusVisible = visible;\n      });\n    }\n    get nativeFocusableElement() {\n      return this.el.nativeElement;\n    }\n    get focused() {\n      return tuiIsNativeFocused(this.nativeFocusableElement);\n    }\n    get hasIcon() {\n      return !!this.icon;\n    }\n    get iconAlignLeft() {\n      return this.hasIcon && this.iconAlign === 'left';\n    }\n    get iconAlignRight() {\n      return this.hasIcon && this.iconAlign === 'right';\n    }\n  }\n  TuiLinkComponent.ɵfac = function TuiLinkComponent_Factory(t) {\n    return new (t || TuiLinkComponent)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_MODE), i0.ɵɵdirectiveInject(TuiFocusVisibleService));\n  };\n  TuiLinkComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiLinkComponent,\n    selectors: [[\"a\", \"tuiLink\", \"\"], [\"button\", \"tuiLink\", \"\"]],\n    hostVars: 7,\n    hostBindings: function TuiLinkComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"$.data-mode.attr\", function TuiLinkComponent___data_mode_attr_HostBindingHandler() {\n          return ctx.mode$;\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-host-mode\", ctx.mode);\n        i0.ɵɵclassProp(\"_pseudo\", ctx.pseudo)(\"_icon-rotated\", ctx.iconRotated)(\"_focus-visible\", ctx.focusVisible);\n      }\n    },\n    inputs: {\n      pseudo: \"pseudo\",\n      icon: \"icon\",\n      iconAlign: \"iconAlign\",\n      iconRotated: \"iconRotated\",\n      mode: \"mode\"\n    },\n    exportAs: [\"tuiLink\"],\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiLinkComponent), TuiFocusVisibleService, TuiDestroyService, MODE_PROVIDER])],\n    attrs: _c0,\n    ngContentSelectors: _c1,\n    decls: 4,\n    vars: 2,\n    consts: [[\"class\", \"t-icon t-icon_left\", 3, \"src\", 4, \"ngIf\"], [1, \"t-content\"], [\"class\", \"t-icon t-icon_right\", 3, \"src\", 4, \"ngIf\"], [1, \"t-icon\", \"t-icon_left\", 3, \"src\"], [1, \"t-icon\", \"t-icon_right\", 3, \"src\"]],\n    template: function TuiLinkComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiLinkComponent_tui_svg_0_Template, 1, 1, \"tui-svg\", 0);\n        i0.ɵɵelementStart(1, \"span\", 1);\n        i0.ɵɵprojection(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, TuiLinkComponent_tui_svg_3_Template, 1, 1, \"tui-svg\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.iconAlignLeft);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.iconAlignRight);\n      }\n    },\n    dependencies: [i1.TuiSvgComponent, i2.NgIf],\n    styles: [\"[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-link);text-align:left;text-transform:inherit;font-weight:inherit;cursor:pointer;outline:none}[_nghost-%COMP%]:hover{color:var(--tui-link-hover)}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}[data-mode=onLight][_nghost-%COMP%]{color:var(--tui-text-02)}[data-mode=onLight][_nghost-%COMP%]:hover, [data-mode=onLight]._active[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(0,0,0,.48);text-decoration-color:#0000007a}[data-mode=onLight]._pseudo[_nghost-%COMP%]:hover, [data-mode=onLight]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative-night)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:hover, [data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:active, [data-mode=onLight][data-host-mode=negative]._active[_nghost-%COMP%]{color:var(--tui-negative-night-hover)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]:hover, [data-mode=onDark][_nghost-%COMP%]:active, [data-mode=onDark]._active[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(255,255,255,.48);text-decoration-color:#ffffff7a}[data-mode=onDark]._pseudo[_nghost-%COMP%]:hover, [data-mode=onDark]._pseudo[_nghost-%COMP%]:active, [data-mode=onDark]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:hover, [data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:active, [data-mode=onDark][data-host-mode=positive]._active[_nghost-%COMP%]{color:var(--tui-positive-night-hover)}[data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative)}[data-host-mode=negative][_nghost-%COMP%]:hover{color:var(--tui-negative-hover)}[data-host-mode=negative]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(222,76,30,.48);text-decoration-color:#de4c1e7a}[data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive)}[data-host-mode=positive][_nghost-%COMP%]:hover{color:var(--tui-positive-hover)}[data-host-mode=positive]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(58,169,129,.48);text-decoration-color:#3aa9817a}._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-selection)}[data-mode=onLight]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear);color:var(--tui-text-01)}[data-mode=onDark]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear-inverse);color:var(--tui-text-01-night)}[data-host-mode=positive]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-success-bg)}[data-host-mode=negative]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-error-bg)}._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding-bottom:.15em;-webkit-text-decoration:underline dashed rgba(51,111,238,.48);text-decoration:underline dashed rgba(51,111,238,.48);text-underline-offset:.2em;text-decoration-thickness:.7px}.t-icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;width:var(--tui-link-icon-size, 1.5rem);height:var(--tui-link-icon-size, 1.5rem);margin-top:-.125rem}.t-icon_left[_ngcontent-%COMP%]{margin-right:.25rem}.t-icon_right[_ngcontent-%COMP%]{margin-left:.25rem}._icon-rotated[_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}\"],\n    changeDetection: 0\n  });\n  return TuiLinkComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinkModule = /*#__PURE__*/(() => {\n  class TuiLinkModule {}\n  TuiLinkModule.ɵfac = function TuiLinkModule_Factory(t) {\n    return new (t || TuiLinkModule)();\n  };\n  TuiLinkModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLinkModule\n  });\n  TuiLinkModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiSvgModule]]\n  });\n  return TuiLinkModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiLinkComponent, TuiLinkModule };\n"],"mappings":"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","names":["defaultEditorExtensions","StarterKit","extension","TextAlign","TextStyle","Underline","Subscript","Superscript","FontColor","TuiLink","TuiJumpAnchor","TuiFileLink","BackgroundColor","TuiTable","TuiTableCell","TableRow","TableHeader","TuiTabExtension","TableCellBackground","TuiDetailsContent","TuiDetails","TuiSummary","TuiFontSize","TUI_EDITOR_DEFAULT_EXTENSIONS","PRIMARY_OUTLET","RouteTitleKey","ParamsAsMap","params","name","v","convertToParamMap","defaultUrlMatcher","segments","segmentGroup","route","parts","posParams","index","part","segment","shallowEqualArrays","a","b","i","shallowEqual","k1","getDataKeys","k2","key","equalArraysOrString","obj","aSorted","bSorted","val","last","wrapIntoObservable","value","isObservable","isPromise","from","of","pathCompareMap","equalSegmentGroups","containsSegmentGroup","paramCompareMap","equalParams","containsParams","containsTree","container","containee","options","matrixParams","equalPath","matrixParamsMatch","c","containsSegmentGroupHelper","containeePaths","current","next","containerPaths","containeeSegment","UrlTree","root","UrlSegmentGroup","queryParams","fragment","DEFAULT_SERIALIZER","children","serializePaths","UrlSegment","path","parameters","serializePath","equalSegments","as","bs","mapChildrenIntoArray","fn","res","childOutlet","child","UrlSerializer","_UrlSerializer","t","ɵɵdefineInjectable","DefaultUrlSerializer","url","p","UrlParser","tree","serializeSegment","query","serializeQueryParams","encodeUriFragment","primary","k","encodeUriString","s","encodeUriQuery","encodeUriSegment","decode","decodeQuery","serializeMatrixParams","strParams","SEGMENT_RE","matchSegments","str","match","MATRIX_PARAM_SEGMENT_RE","matchMatrixKeySegments","QUERY_PARAM_RE","matchQueryParams","QUERY_PARAM_VALUE_RE","matchUrlQueryParamValue","RuntimeError","valueMatch","decodedKey","decodedVal","currentVal","allowPrimary","outletName","createRoot","rootCandidate","squashSegmentGroup","newChildren","childCandidate","grandChildOutlet","grandChild","mergeTrivialChildren","isUrlTree","createUrlTreeFromSnapshot","relativeTo","commands","relativeToUrlSegmentGroup","createSegmentGroupFromRoute","createUrlTreeFromSegmentGroup","targetGroup","createSegmentGroupFromRouteRecursive","currentRoute","childOutlets","childSnapshot","rootSegmentGroup","nav","computeNavigation","position","findStartingPositionForTargetGroup","newSegmentGroup","updateSegmentGroupChildren","updateSegmentGroup","isMatrixParams","command","isCommandWithOutlets","oldRoot","oldSegmentGroup","qp","replaceSegment","newRoot","oldSegment","newSegment","Navigation","isAbsolute","numberOfDoubleDots","cmdWithOutlet","cmd","cmdIdx","outlets","urlPart","partIndex","Position","processChildren","target","modifier","createPositionApplyingDoubleDots","group","g","ci","dd","getOutlets","startIndex","m","prefixedWith","slicedCommands","createNewSegmentGroup","childrenOfEmptyChild","outlet","currentCommandIndex","currentPathIndex","noMatch","curr","compare","paths","createNewSegmentChildren","stringify","IMPERATIVE_NAVIGATION","EventType","RouterEvent","id","NavigationStart","navigationTrigger","restoredState","NavigationEnd","urlAfterRedirects","NavigationCancellationCode","NavigationSkippedCode","NavigationCancel","reason","code","NavigationSkipped","NavigationError","error","RoutesRecognized","state","GuardsCheckStart","GuardsCheckEnd","shouldActivate","ResolveStart","ResolveEnd","RouteConfigLoadStart","RouteConfigLoadEnd","ChildActivationStart","snapshot","ChildActivationEnd","ActivationStart","ActivationEnd","BeforeActivateRoutes","RedirectRequest","url","navigationBehaviorOptions","getOrCreateRouteInjectorIfNeeded","route","currentInjector","createEnvironmentInjector","getOutlet","route","PRIMARY_OUTLET","sortByMatchingOutlets","routes","outletName","sortedConfig","r","getClosestRouteInjector","snapshot","_a","s","OutletContext","_","rootInjector","ChildrenOutletContexts","_ChildrenOutletContexts","childName","outlet","context","contexts","t","ɵɵinject","EnvironmentInjector","ɵɵdefineInjectable","Tree","root","p","n","findNode","findPath","c","cc","value","node","child","path","TreeNode","children","nodeChildrenAsMap","map","RouterState","setRouterState","createEmptyState","rootComponent","createEmptyStateSnapshot","emptyUrl","BehaviorSubject","UrlSegment","emptyParams","emptyData","emptyQueryParams","fragment","activated","ActivatedRoute","ActivatedRouteSnapshot","RouterStateSnapshot","urlSubject","paramsSubject","queryParamsSubject","fragmentSubject","dataSubject","component","futureSnapshot","RouteTitleKey","of","convertToParamMap","getInherited","parent","paramsInheritanceStrategy","inherited","routeConfig","__spreadValues","hasStaticTitle","url","params","queryParams","data","resolve","segment","matched","serializeNode","state","advanceActivatedRoute","currentSnapshot","nextSnapshot","shallowEqual","shallowEqualArrays","equalParamsAndUrlSegments","a","b","equalUrlParams","equalSegments","parentsMismatch","config","RouterOutlet","_RouterOutlet","EventEmitter","inject","ViewContainerRef","ChangeDetectorRef","INPUT_BINDER","changes","firstChange","previousValue","RuntimeError","cmp","ref","activatedRoute","environmentInjector","location","childContexts","injector","OutletInjector","ɵɵdefineDirective","ɵɵNgOnChangesFeature","_OutletInjector","parentInjector","token","notFoundValue","InjectionToken","createRouterState","routeReuseStrategy","curr","prevState","root","createNode","RouterState","value","children","createOrReuseChildren","TreeNode","detachedRouteHandle","tree","c","createActivatedRoute","child","p","ActivatedRoute","BehaviorSubject","RedirectCommand","redirectTo","navigationBehaviorOptions","NAVIGATION_CANCELING_ERROR","redirectingNavigationError","urlSerializer","redirect","isUrlTree","error","navigationCancelingError","NavigationCancellationCode","message","code","isRedirectingNavigationCancelingError","isNavigationCancelingError","activateRoutes","rootContexts","routeReuseStrategy","forwardEvent","inputBindingEnabled","map","t","ActivateRoutes","futureState","currState","parentContexts","futureRoot","currRoot","advanceActivatedRoute","futureNode","currNode","contexts","children","nodeChildrenAsMap","futureChild","childOutletName","v","parentContext","future","curr","context","route","treeNode","componentRef","c","ActivationEnd","ChildActivationEnd","stored","CanActivate","path","CanDeactivate","component","getAllRouteGuards","getChildRouteGuards","getCanActivateChild","p","canActivateChild","getTokenOrFunctionIdentity","tokenOrFunction","injector","NOT_FOUND","result","isInjectable","futurePath","checks","prevChildren","getRouteGuards","k","deactivateRouteAndItsChildren","shouldRun","shouldRunGuardsAndResolvers","mode","equalPath","shallowEqual","equalParamsAndUrlSegments","childName","node","isFunction","isBoolean","isCanLoad","guard","isCanActivate","isCanActivateChild","isCanDeactivate","isCanMatch","isEmptyError","e","EmptyError","INITIAL_VALUE","prioritizedGuardValue","switchMap","obs","combineLatest","o","take","startWith","results","isRedirect","filter","item","val","isUrlTree","RedirectCommand","checkGuards","mergeMap","targetSnapshot","currentSnapshot","canActivateChecks","canDeactivateChecks","of","__spreadProps","__spreadValues","runCanDeactivateChecks","canDeactivate","runCanActivateChecks","guardsResult","futureRSS","currRSS","from","check","runCanDeactivate","first","futureSnapshot","concatMap","concat","fireChildActivationStart","fireActivationStart","runCanActivateChild","runCanActivate","snapshot","ActivationStart","ChildActivationStart","futureARS","canActivate","canActivateObservables","defer","closestInjector","getClosestRouteInjector","guardVal","runInInjectionContext","wrapIntoObservable","canActivateChildGuardsMapped","_","d","guardsMapped","currARS","canDeactivateObservables","runCanLoadGuards","segments","urlSerializer","canLoad","canLoadObservables","injectionToken","redirectIfUrlTree","pipe","tap","redirectingNavigationError","runCanMatchGuards","canMatch","canMatchObservables","NoMatch","segmentGroup","AbsoluteRedirect","urlTree","noMatch$1","throwError","namedOutletsRedirect","redirectTo","throwError","RuntimeError","canLoadFails","route","navigationCancelingError","NavigationCancellationCode","ApplyRedirects","urlSerializer","urlTree","res","c","of","PRIMARY_OUTLET","segments","posParams","currentSnapshot","injector","redirectToFn","queryParams","fragment","routeConfig","url","outlet","params","data","title","newRedirect","runInInjectionContext","UrlTree","AbsoluteRedirect","newTree","newRoot","redirectToParams","actualParams","k","v","sourceName","group","updatedSegments","children","name","child","UrlSegmentGroup","redirectToSegments","actualSegments","s","redirectToUrlSegment","pos","idx","noMatch","matchWithChecks","segmentGroup","result","match","getOrCreateRouteInjectorIfNeeded","runCanMatchGuards","map","__spreadValues","createWildcardMatchResult","defaultUrlMatcher","parameters","last","split","consumedSegments","slicedSegments","config","containsEmptyPathMatchesWithNamedOutlets","createChildrenForEmptyPaths","containsEmptyPathMatches","addEmptyPathsToChildrenIfNeeded","routes","r","emptyPathMatch","getOutlet","primarySegment","isImmediateMatch","rawSegment","noLeftoversInUrl","NoLeftoversInUrl","recognize$1","configLoader","rootComponentType","paramsInheritanceStrategy","Recognizer","MAX_ALLOWED_REDIRECTS","e","rootSegmentGroup","rootSnapshot","rootNode","TreeNode","routeState","RouterStateSnapshot","tree","createUrlTreeFromSnapshot","ActivatedRouteSnapshot","catchError","NoMatch","parentRoute","childOutlets","from","concatMap","childOutlet","sortedConfig","sortByMatchingOutlets","scan","outletChildren","defaultIfEmpty","mergeMap","noMatch$1","mergedChildren","mergeEmptyPathMatches","sortActivatedRouteSnapshots","allowRedirects","first","x","isEmptyError","matched","positionalParamSegments","remainingSegments","getData","getResolve","inherited","getInherited","newSegments","matchResult","switchMap","childConfig","childInjector","snapshot","matchedOnOutlet","runCanLoadGuards","shouldLoadResult","tap","cfg","nodes","a","b","hasEmptyPathConfig","node","mergedNodes","duplicateEmptyPathNode","resultNode","mergedNode","n","getData","route","getResolve","recognize","injector","configLoader","rootComponentType","config","serializer","paramsInheritanceStrategy","mergeMap","t","recognize$1","map","targetSnapshot","urlAfterRedirects","__spreadProps","__spreadValues","resolveData","canActivateChecks","of","routesWithResolversToRun","check","routesNeedingDataUpdates","newRoute","flattenRouteTree","routesProcessed","from","concatMap","runResolve","getInherited","tap","takeLast","_","EMPTY","descendants","child","futureARS","futureRSS","resolve","hasStaticTitle","RouteTitleKey","resolveNode","resolvedData","keys","getDataKeys","data","key","getResolver","first","value","RedirectCommand","redirectingNavigationError","DefaultUrlSerializer","mapTo","catchError","e","isEmptyError","throwError","injectionToken","closestInjector","getClosestRouteInjector","resolver","getTokenOrFunctionIdentity","resolverValue","runInInjectionContext","wrapIntoObservable","switchTap","next","switchMap","v","nextResult","TitleStrategy","_TitleStrategy","snapshot","pageTitle","PRIMARY_OUTLET","ɵɵdefineInjectable","inject","DefaultTitleStrategy","_DefaultTitleStrategy","title","ɵɵinject","Title","ROUTER_CONFIGURATION","InjectionToken","ɵEmptyOutletComponent","_ɵEmptyOutletComponent","ɵɵdefineComponent","ɵɵStandaloneFeature","rf","ctx","ɵɵelement","RouterOutlet","standardizeConfig","r","children","c","ROUTES","RouterConfigLoader","_RouterConfigLoader","Compiler","loadRunner","maybeUnwrapDefaultExport","component","finalize","loader","ConnectableObservable","Subject","refCount","parentInjector","loadChildren","compiler","onLoadEndListener","NgModuleFactory$1","factoryOrRoutes","rawRoutes","requireStandaloneComponents","isWrappedDefaultExport","input","UrlHandlingStrategy","_UrlHandlingStrategy","DefaultUrlHandlingStrategy","_DefaultUrlHandlingStrategy","url","newUrlPart","wholeUrl","CREATE_VIEW_TRANSITION","NAVIGATION_ERROR_HANDLER","InjectionToken","NavigationTransitions","_NavigationTransitions","Subject","inject","RouterConfigLoader","EnvironmentInjector","UrlSerializer","ChildrenOutletContexts","Location","INPUT_BINDER","TitleStrategy","ROUTER_CONFIGURATION","UrlHandlingStrategy","CREATE_VIEW_TRANSITION","of","onLoadStart","r","RouteConfigLoadStart","onLoadEnd","RouteConfigLoadEnd","_a","request","id","__spreadProps","__spreadValues","router","initialUrlTree","initialRouterState","BehaviorSubject","IMPERATIVE_NAVIGATION","filter","t","map","switchMap","overallTransitionState","completed","errored","NavigationCancellationCode","EMPTY","urlTransition","onSameUrlNavigation","reason","NavigationSkipped","NavigationSkippedCode","_b","transition","NavigationStart","recognize","tap","routesRecognized","RoutesRecognized","extractedUrl","source","restoredState","extras","navStart","targetSnapshot","createEmptyState","guardsStart","GuardsCheckStart","getAllRouteGuards","checkGuards","evt","redirectingNavigationError","guardsEnd","GuardsCheckEnd","switchTap","resolveStart","ResolveStart","dataResolved","resolveData","resolveEnd","ResolveEnd","loadComponents","route","loaders","loadedComponent","child","combineLatest","defaultIfEmpty","take","currentSnapshot","viewTransitionStarted","from","targetRouterState","createRouterState","BeforeActivateRoutes","activateRoutes","NavigationEnd","takeUntil","err","finalize","catchError","e","isNavigationCancelingError","NavigationCancel","isRedirectingNavigationCancelingError","RedirectRequest","navigationError","NavigationError","navigationErrorHandlerResult","runInInjectionContext","RedirectCommand","message","cancellationCode","errorHandlerResult","ee","code","navCancel","_c","currentBrowserUrl","targetBrowserUrl","ɵɵdefineInjectable","isBrowserTriggeredNavigation","RouteReuseStrategy","_RouteReuseStrategy","DefaultRouteReuseStrategy","BaseRouteReuseStrategy","detachedTree","future","curr","_DefaultRouteReuseStrategy","ɵDefaultRouteReuseStrategy_BaseFactory","ɵɵgetInheritedFactory","StateManager","_StateManager","HistoryStateManager","_HistoryStateManager","UrlTree","listener","event","currentTransition","rawUrl","url","path","currentBrowserPageId","state","navigation","restoringFromCaughtError","targetPagePosition","navigationId","routerPageId","ɵHistoryStateManager_BaseFactory","NavigationResult","afterNextNavigation","action","result","defaultErrorHandler","error","exactMatchOptions","subsetMatchOptions","Router","_Router","Console","PendingTasks","ROUTES","Subscription","subscription","currentNavigation","opts","mergedTree","isPublicRouterEvent","rootComponentType","stateCopy","urlTree","config","standardizeConfig","commands","navigationExtras","relativeTo","queryParams","fragment","queryParamsHandling","preserveFragment","f","q","relativeToUrlSegmentGroup","relativeToSnapshot","createSegmentGroupFromRoute","createUrlTreeFromSegmentGroup","isUrlTree","validateCommands","matchOptions","options","containsTree","params","key","value","priorPromise","resolve","reject","promise","res","rej","taskId","i","RuntimeError","ROUTER_SCROLLER","InjectionToken","provideRouter","routes","features","makeEnvironmentProviders","ROUTES","ActivatedRoute","rootRoute","Router","APP_BOOTSTRAP_LISTENER","getBootstrapListener","feature","router","getBootstrapListener","injector","inject","Injector","bootstrappedComponentRef","_a","_b","ref","ApplicationRef","router","Router","bootstrapDone","BOOTSTRAP_DONE","INITIAL_NAVIGATION","ROUTER_PRELOADER","InjectFlags","ROUTER_SCROLLER","InjectionToken","Subject","ROUTER_PRELOADER","InjectionToken","tuiIsFirefox","userAgent","tuiIsSafari","doc","_a","_b","_c","_d","_e","_f","_g","_h","win","isMacOsSafari","isIosSafari","makeRandomSalt","escapeRegExp","search","extractLinearGradientIdsFromSvg","svg","_a","ids","url","tuiSvgLinearGradientProcessor","salt","tuiIsString","newSvg","previousId","escapedId","newId","POLYMORPHEUS_CONTEXT","InjectionToken","PolymorpheusComponent","component","i","injector","useValue","Injector","PolymorpheusTemplate","template","cdr","_dir","_ctx","t","ɵɵdirectiveInject","TemplateRef","ChangeDetectorRef","ɵɵdefineDirective","PolymorpheusContext","$implicit","PolymorpheusOutletDirective","vcr","t","isDirective","TemplateRef","content","_a","context","ChangeDetectorRef","proxy","_","key","isComponent","PolymorpheusContext","_dir","_ctx","isTemplate","injector","ComponentFactoryResolver$1","ɵɵdirectiveInject","ViewContainerRef","Injector","ɵɵdefineDirective","ɵɵNgOnChangesFeature","PolymorpheusTemplate","PolymorpheusComponent","PolymorpheusModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","TUI","AbstractTuiInteractive","EventEmitter","_a","focused","focusVisible","t","ɵɵdefineDirective","rf","ctx","ɵɵattribute","ɵɵclassProp","AbstractTuiValueTransformer","AbstractTuiControl","ngControl","cdr","valueTransformer","Subject","EMPTY_FUNCTION","value","invalid","valid","touched","disabled","control","_b","_c","controlValue","NgModel","delay","startWith","map","filter","tuiIsPresent","distinctUntilChanged","switchMap","merge","takeUntil","onChange","componentValue","onTouched","oldValue","newValue","extractor","defaultFieldValue","ɵɵdirectiveInject","NgControl","ChangeDetectorRef","ɵɵInheritDefinitionFeature","AbstractTuiController","Subject","t","ɵɵdefineDirective","ɵɵNgOnChangesFeature","AbstractTuiDialogService","Observable","idService","observer","BehaviorSubject","content","options","completeWith","result","dialog","item","ɵɵinject","TuiIdService","ɵɵdefineInjectable","AbstractTuiPortalService","TuiNoHostException","host","component","hostView","templateRef","context","viewRef","t","ɵɵdefineInjectable","AbstractTuiPortalHostComponent","injector","el","portalService","parent","factory","ComponentFactoryResolver$1","providers","Injector","ref","ɵɵdirectiveInject","INJECTOR$1","ElementRef","ɵɵdefineDirective","rf","ctx","ɵɵviewQuery","_c0","ViewContainerRef","_t","ɵɵqueryRefresh","ɵɵloadQuery","TuiActiveZoneDirective","active$","zone","el","directParentActiveZone","_a","map","element","startWith","distinctUntilChanged","skip","tuiZoneOptimized","_b","node","item","index","array","activeZone","tuiArrayRemove","t","ɵɵdirectiveInject","TUI_ACTIVE_ELEMENT","NgZone","ElementRef","ɵɵdefineDirective","rf","ctx","ɵɵlistener","ɵɵresolveDocument","__decorate","tuiPure","TuiActiveZoneModule","ɵɵdefineNgModule","ɵɵdefineInjector","tuiCoerceBooleanProperty","value","AbstractTuiAutofocusHandler","focusable","el","_a","t","ɵɵinvalidFactory","ɵɵdefineDirective","TIMEOUT","NG_ANIMATION_SELECTOR","TuiDefaultAutofocusHandler","animationFrame$","race","timer","throttleTime","POLLING_TIME","map","skipWhile","take","ɵɵdirectiveInject","TUI_FOCUSABLE_ITEM_ACCESSOR","ElementRef","ANIMATION_FRAME","ɵɵInheritDefinitionFeature","TEXTFIELD_ATTRS","TuiIosAutofocusHandler","renderer","zone","win","fakeInput","duration","fakeFocusTimeoutId","elementFocusTimeoutId","blurHandler","focusHandler","rect","tuiPx","element","attr","value","tuiIsPresent","Renderer2","NgZone","WINDOW","TUI_AUTOFOCUS_DEFAULT_OPTIONS","TUI_AUTOFOCUS_OPTIONS","tuiCreateToken","tuiAutoFocusOptionsProvider","options","tuiProvideOptions","TUI_AUTOFOCUS_HANDLER","InjectionToken","TUI_AUTOFOCUS_PROVIDERS","isIos","Optional","Self","TUI_IS_IOS","TuiDestroyService","TuiAutoFocusDirective","handler","destroy$","tuiCoerceBooleanProperty","takeUntil","ɵɵProvidersFeature","TuiAutoFocusModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","TuiDropdownPortalService","AbstractTuiPortalService","ɵTuiDropdownPortalService_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineInjectable","TuiDropdownHostComponent","AbstractTuiPortalHostComponent","ɵTuiDropdownHostComponent_BaseFactory","ɵɵdefineComponent","ɵɵProvidersFeature","ɵɵInheritDefinitionFeature","rf","ctx","ɵɵprojectionDef","ɵɵprojection","ɵɵelementContainer","TuiDropdownHostModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiScrollControlsComponent_ng_container_0_ng_container_1_div_1_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","bars_r1","ɵɵnextContext","ɵɵclassProp","TuiScrollControlsComponent_ng_container_0_ng_container_1_div_2_Template","TuiScrollControlsComponent_ng_container_0_ng_container_1_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","ɵɵadvance","ɵɵproperty","TuiScrollControlsComponent_ng_container_0_Template","ɵɵpipe","ctx_r1","ɵɵpipeBind1","MIN_WIDTH","getOffsetVertical","clientY","top","height","getOffsetHorizontal","clientX","left","width","TuiScrollbarDirective","zone","destroy$","animationFrame$","container","doc","el","nativeElement","mousedown$","tuiTypedFromEvent","mousemove$","mouseup$","mousedownWrapper$","merge","map","event","switchMap","rect","vertical","horizontal","takeUntil","tuiZonefree","scrollTop","scrollLeft","throttleTime","POLLING_TIME","tuiScrollFrom","scrollHeight","clientHeight","scrollWidth","clientWidth","compensation","offsetVertical","offsetHorizontal","offsetHeight","offsetWidth","maxTop","maxLeft","scrolledTop","scrolledLeft","t","ɵɵdirectiveInject","NgZone","TuiDestroyService","ANIMATION_FRAME","TUI_SCROLL_REF","DOCUMENT","ElementRef","ɵɵdefineDirective","ɵɵProvidersFeature","TuiScrollControlsComponent","isIOS","scrollRef","startWith","distinctUntilChanged","a","b","tuiZoneOptimized","TUI_IS_IOS","ɵɵdefineComponent","NgIf","AsyncPipe","TuiScrollRefDirective","t","ɵɵdefineDirective","ɵɵProvidersFeature","TUI_SCROLL_REF","ElementRef","TuiScrollControlsModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiLetContext","internalDirectiveInstance","TuiLetDirective","viewContainer","templateRef","_dir","_ctx","t","ɵɵdirectiveInject","ViewContainerRef","TemplateRef","ɵɵdefineDirective","TuiLetModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiOverscrollDirective","nativeElement","zone","destroy$","tuiTypedFromEvent","filter","tuiZonefree","takeUntil","event","switchMap","touches","clientX","clientY","deltaX","deltaY","vertical","tap","changedTouch","negative","_a","target","currentTarget","cancelable","tuiIsElement","tuiGetScrollParent","tuiCanScroll","t","ɵɵdirectiveInject","ElementRef","NgZone","TuiDestroyService","ɵɵdefineDirective","rf","ctx","ɵɵstyleProp","ɵɵProvidersFeature","TuiOverscrollModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiDayOfWeek","TuiDriver","Observable","tuiAsDriver","useExisting","TuiVehicle","tuiAsVehicle","AbstractTuiDriverDirective","destroy$","drivers","vehicles","vehicle","type","merge","distinctUntilChanged","takeUntil","value","t","ɵɵdirectiveInject","TuiDestroyService","ɵɵdefineDirective","tuiFallbackAccessor","type","accessors","fallback","accessor","TuiPositionAccessor","tuiPositionAccessorFor","SkipSelf","Optional","tuiAsPositionAccessor","useExisting","TuiRectAccessor","tuiRectAccessorFor","tuiFallbackRectAccessor","tuiAsRectAccessor","tuiCheckFixedPosition","element","tuiGetViewportWidth","document","innerWidth","tuiGetWordRange","currentRange","range","startContainer","startOffset","endContainer","endOffset","ownerDocument","treeWalker","svgNodeFilter","container","textContent","content","offset","CHAR_NO_BREAK_SPACE","CHAR_ZERO_WIDTH_SPACE","result","item","WIDTH_SEARCH","HEIGHT_SEARCH","START","tuiProcessIcon","source","name","src","attributes","indexOfWidth","indexOfHeight","widthOffset","heightOffset","widthString","heightString","width","height","TUI_CACHE_BUSTING_PAYLOAD","TUI_VERSION","DEFAULT_ICONS_PATH","name","TUI_DEFAULT_NUMBER_FORMAT","CHAR_NO_BREAK_SPACE","tuiEditingKeys","TUI_ICON_ERROR","TUI_HINT_DIRECTIONS","tuiIconsPathFactory","staticPath","base","name","TUI_CACHE_BUSTING_PAYLOAD","DEFAULT_ICONS_PATH","tuiIsEditingKey","key","tuiEditingKeys","tuiIsObscured","el","exceptSelector","_a","tuiGetElementObscures","tuiIsPresumedHTMLString","candidate","trimmed","tuiOverrideOptions","override","fallback","directive","options","result","SIZES","tuiSizeBigger","size","biggerThanSize","tuiIsMobile","win","mobile","tuiGetViewportWidth","TuiAppearance","TuiInteractiveState","TUI_REDUCED_MOTION","tuiCreateTokenFromFactory","_a","_b","_c","inject","DOCUMENT","TUI_ANIMATIONS_DEFAULT_DURATION","TUI_ANIMATIONS_DURATION","TUI_ANIMATION_OPTIONS","TUI_ASSERT_ENABLED","isDevMode","COMMON_ICONS","TUI_COMMON_ICONS","tuiCreateToken","TUI_DATA_LIST_ACCESSOR","InjectionToken","tuiAsDataListAccessor","useExisting","TUI_DATA_LIST_HOST","TUI_DAY_TYPE_HANDLER","tuiCreateToken","day","TUI_DOCUMENT_OR_SHADOW_ROOT","InjectionToken","TUI_ELEMENT_REF","TUI_FIRST_DAY_OF_WEEK","TuiDayOfWeek","TUI_MONTHS","tuiCreateTokenFromFactory","tuiExtractI18n","TUI_CLOSE_WORD","TUI_NOTHING_FOUND_MESSAGE","TUI_DEFAULT_ERROR_MESSAGE","TUI_SPIN_TEXTS","TUI_SHORT_WEEK_DAYS","TUI_DEFAULT_ICONS_PLACE","TUI_ICONS_PLACE","TUI_ICONS","TUI_ICONS_PATH","tuiIconsPathFactory","inject","TUI_MEDIA","TUI_IS_MOBILE_RES","win","WINDOW","media","tuiTypedFromEvent","share","startWith","map","tuiIsMobile","distinctUntilChanged","tuiZoneOptimized","NgZone","TUI_LEGACY_MASK","TUI_MODE","STATUS_ICON","TUI_NOTIFICATION_DEFAULT_OPTIONS","$implicit","TUI_NOTIFICATION_OPTIONS","TUI_NUMBER_FORMAT","tuiCreateToken","TUI_DEFAULT_NUMBER_FORMAT","TUI_NUMBER_FORMAT_OBSERVABLE","tuiCreateToken","of","TUI_DEFAULT_NUMBER_FORMAT","TUI_OPTION_CONTENT","InjectionToken","convertToSundayFirstWeekFormat","weekDaysNames","sundayIndex","TUI_ORDERED_SHORT_WEEK_DAYS","tuiCreateTokenFromFactory","firstDayOfWeekIndex","inject","TUI_FIRST_DAY_OF_WEEK","TUI_SHORT_WEEK_DAYS","map","weekDays","TUI_SANITIZER","InjectionToken","TUI_SELECTION_STREAM","tuiCreateTokenFromFactory","doc","inject","DOCUMENT","merge","tuiTypedFromEvent","switchMap","takeUntil","share","TUI_SPIN_ICONS","tuiCreateToken","TUI_SVG_CONTENT_PROCESSOR","tuiSvgLinearGradientProcessor","TUI_SVG_SRC_PROCESSOR","identity","TUI_TEXTFIELD_APPEARANCE","TuiAppearance","TUI_TEXTFIELD_HOST","InjectionToken","TUI_THEME","tuiCreateToken","TUI_VALUE_ACCESSOR","InjectionToken","TUI_VIEWPORT","tuiCreateTokenFromFactory","win","inject","WINDOW","tuiAsViewport","useExisting","TuiModeDirective","AbstractTuiController","ɵTuiModeDirective_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵInheritDefinitionFeature","TUI_IS_MOBILE_RES_PROVIDER","TUI_IS_MOBILE_RES","SkipSelf","ElementRef","mobile$","nativeElement","MODE_PROVIDER","TUI_MODE","Optional","TuiModeDirective","mode","mode$","startWith","map","of","TuiWrapperDirective","mode$","TuiInteractiveState","t","ɵɵdirectiveInject","TUI_MODE","ɵɵdefineDirective","rf","ctx","ɵɵlistener","ɵɵattribute","ɵɵclassProp","ɵɵProvidersFeature","MODE_PROVIDER","TuiWrapperModule","ɵɵdefineNgModule","ɵɵdefineInjector","TRANSITION","DURATION","STAGGER","tuiHeightCollapse","trigger","transition","style","animate","tuiHeightCollapseList","query","stagger","tuiWidthCollapse","tuiWidthCollapseList","tuiFadeIn","tuiFadeInList","tuiFadeInTop","tuiFadeInBottom","tuiDropdownAnimation","tuiScaleIn","tuiPop","tuiScaleInList","tuiSlideIn","tuiSlideInLeft","tuiSlideInLeftList","tuiSlideInRight","tuiSlideInRightList","tuiSlideInTop","tuiSlideInTopList","tuiSlideInBottom","tuiSlideInBottomList","TuiBreakpointService","Observable","media","ngZone","size$","subscriber","a","b","ret","key","map","width","size","distinctUntilChanged","tuiZoneOptimized","shareReplay","t","ɵɵinject","TUI_MEDIA","NgZone","TUI_WINDOW_SIZE","ɵɵdefineInjectable","TuiFormatDateService","locale","timestamp","of","LOCALE_ID","TuiHintService","BehaviorSubject","directive","hint","TuiPositionService","Observable","el","animationFrame","zone","accessor","subscriber","map","rect","tuiZonefree","finalize","EMPTY_CLIENT_RECT","t","ɵɵinject","ElementRef","ANIMATION_FRAME","NgZone","TuiPositionAccessor","ɵɵdefineInjectable","TuiSvgService","tuiSanitizer","sanitizer","icons","BehaviorSubject","value","key","name","src","map","parsed","tuiProcessIcon","SecurityContext","t","ɵɵinject","TUI_SANITIZER","DomSanitizer","TUI_ICONS","ɵɵdefineInjectable","TuiVisualViewportService","win","isWebkit","y","x","_a","_b","WINDOW","TUI_IS_WEBKIT","TuiSvgComponent_ng_container_0_div_1_Template","rf","ctx","ɵɵelement","innerHTML_r1","ɵɵnextContext","ɵɵproperty","ɵɵsanitizeHtml","TuiSvgComponent_ng_container_0_ng_template_2_Template","_r2","ɵɵgetCurrentView","ɵɵnamespaceSVG","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r2","ɵɵresetView","ɵɵelementEnd","ɵɵadvance","ɵɵattribute","TuiSvgComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵtemplateRefExtractor","ɵɵelementContainerEnd","useTemplate_r4","ɵɵreference","TUI_DEPRECATED_ICONS","TUI_SVG_DEFAULT_OPTIONS","TUI_DEFAULT_ICONS_PLACE","tuiIconsPathFactory","identity","tuiSvgLinearGradientProcessor","src","oldIcon","newIcon","TUI_SVG_OPTIONS","tuiCreateTokenFromFactory","inject","TUI_ICONS_PLACE","TUI_ICONS_PATH","TUI_SVG_SRC_PROCESSOR","TUI_SVG_CONTENT_PROCESSOR","TUI_SVG_SRC_INTERCEPTORS","InjectionToken","UNDEFINED_NAMED_ICON","MISSING_EXTERNAL_ICON","FAILED_EXTERNAL_ICON","TuiSvgComponent","doc","win","options","srcInterceptors","tuiSanitizer","svgService","staticRequestService","sanitizer","el","baseHref","ReplaySubject","switchMap","tuiIsString","of","startWith","src","_a","deprecated","newSrc","interceptor","tuiGetDocumentOrShadowRoot","TUI_CACHE_BUSTING_PAYLOAD","tuiIsPresumedHTMLString","use","isUse","message","icon","event","TUI_ICON_ERROR","name","iconsPath","SecurityContext","url","catchError","map","response","t","ɵɵdirectiveInject","DOCUMENT","WINDOW","TUI_SVG_OPTIONS","TUI_SVG_SRC_INTERCEPTORS","TUI_SANITIZER","TuiSvgService","TuiStaticRequestService","DomSanitizer","ElementRef","TUI_BASE_HREF","ɵɵdefineComponent","rf","ctx","ɵɵtemplate","TuiSvgComponent_ng_container_0_Template","ɵɵpipe","ɵɵproperty","ɵɵpipeBind1","TuiLetDirective","NgIf","AsyncPipe","__decorate","tuiPure","TuiSvgModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiLetModule","dasharize","camel","letterLetter","AbstractEventPlugin","event","v","BindEventPlugin","element","EMPTY","method","zone$","sub","concat","takeWhile","defer","key","value","unit","ɵBindEventPlugin_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineInjectable","GLOBAL_HANDLER","InjectionToken","document","inject","DOCUMENT","name","GlobalEventPlugin","_","handler","ɵGlobalEventPlugin_BaseFactory","OptionsEventPlugin","ɵOptionsEventPlugin_BaseFactory","PreventEventPlugin","wrapped","ɵPreventEventPlugin_BaseFactory","SelfEventPlugin","ɵSelfEventPlugin_BaseFactory","SilentEventPlugin","ɵSilentEventPlugin_BaseFactory","StopEventPlugin","ɵStopEventPlugin_BaseFactory","ZoneEventPlugin","ɵZoneEventPlugin_BaseFactory","PLUGINS","NG_EVENT_PLUGINS","useClass","EVENT_MANAGER_PLUGINS","shouldCall","predicate","_target","_key","desc","args","EventPluginsModule","plugin","SilentEventPlugin","t","ɵɵinject","EVENT_MANAGER_PLUGINS","ɵɵdefineNgModule","ɵɵdefineInjector","NG_EVENT_PLUGINS","_c0","TuiLoaderComponent_div_2_div_3_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","text_r1","ɵɵadvance","ɵɵtextInterpolate1","TuiLoaderComponent_div_2_div_3_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵclassProp","ɵɵproperty","TuiLoaderComponent_div_2_Template","ɵɵnamespaceSVG","ɵɵelement","ɵɵattribute","TUI_LOADER_DEFAULT_OPTIONS","TUI_LOADER_OPTIONS","tuiCreateToken","TuiLoaderComponent","doc","el","isIos","options","tuiIsSafari","value","tuiBlurNativeFocused","tuiSizeBigger","tuiIsNativeFocusedIn","t","ɵɵdirectiveInject","DOCUMENT","ElementRef","TUI_IS_IOS","TUI_LOADER_OPTIONS","ɵɵdefineComponent","rf","ctx","ɵɵclassProp","_c0","ɵɵprojectionDef","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵtemplate","TuiLoaderComponent_div_2_Template","ɵɵproperty","ɵɵattribute","ɵɵadvance","NgIf","PolymorpheusOutletDirective","TuiLoaderModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","PolymorpheusModule","_c0","_c1","TuiButtonComponent_ng_container_0_Template","rf","ctx","ɵɵelementContainer","TuiButtonComponent_span_4_tui_svg_1_Template","ɵɵelement","text_r1","ɵɵproperty","TuiButtonComponent_span_4_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵadvance","TuiButtonComponent_span_6_tui_svg_1_Template","text_r3","TuiButtonComponent_span_6_Template","TuiButtonComponent_tui_loader_7_Template","TUI_BUTTON_DEFAULT_OPTIONS","TuiAppearance","TUI_BUTTON_OPTIONS","tuiCreateToken","TuiButtonComponent","AbstractTuiInteractive","mode","el","options","_a","EMPTY","startWith","map","distinctUntilChanged","tuiIsNativeFocused","focused","t","ɵɵdirectiveInject","TuiModeDirective","ElementRef","TUI_BUTTON_OPTIONS","ɵɵdefineComponent","rf","ctx","ɵɵlistener","ɵɵhostProperty","ɵɵattribute","ɵɵclassProp","ɵɵProvidersFeature","tuiAsFocusableItemAccessor","TuiDestroyService","ɵɵInheritDefinitionFeature","_c0","_c1","ɵɵprojectionDef","ɵɵtemplate","TuiButtonComponent_ng_container_0_Template","ɵɵpipe","ɵɵelementStart","TuiButtonComponent_span_4_Template","ɵɵprojection","TuiButtonComponent_span_6_Template","ɵɵelementEnd","TuiButtonComponent_tui_loader_7_Template","ɵɵproperty","ɵɵpipeBind1","ɵɵadvance","TuiSvgComponent","TuiLoaderComponent","NgIf","TuiWrapperDirective","PolymorpheusOutletDirective","AsyncPipe","TuiButtonModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","PolymorpheusModule","TuiWrapperModule","TuiSvgModule","TuiLoaderModule","_c0","_c1","TuiLinkComponent_tui_svg_0_Template","rf","ctx","ɵɵelement","ctx_r0","ɵɵnextContext","ɵɵproperty","TuiLinkComponent_tui_svg_3_Template","TuiLinkComponent","el","mode$","focusVisible$","merge","tuiTypedFromEvent","map","ALWAYS_TRUE_HANDLER","ALWAYS_FALSE_HANDLER","visible","tuiIsNativeFocused","t","ɵɵdirectiveInject","ElementRef","TUI_MODE","TuiFocusVisibleService","ɵɵdefineComponent","ɵɵlistener","ɵɵattribute","ɵɵclassProp","ɵɵProvidersFeature","tuiAsFocusableItemAccessor","TuiDestroyService","MODE_PROVIDER","ɵɵprojectionDef","ɵɵtemplate","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵadvance","TuiSvgComponent","NgIf","TuiLinkModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiSvgModule"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]}