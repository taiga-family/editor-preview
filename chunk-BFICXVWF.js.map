{"version":3,"sources":["node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-abstract.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-checked.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-focus-visible.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-focusable.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-focused.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-hovered.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-item.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-obscured.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-pressed.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-repeat-times.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-scrollbar.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-dropdown.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-hint.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-mask-accessor.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-textfield-controller.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-data-list.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-hosted-dropdown.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-providers.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-components-input-inline.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-components-toggle.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-color-selector.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-directives-tiptap-editor.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-edit-link.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-align-content.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-code.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-details.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-font-size.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-font-style.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-group.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-highlight-color.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-list-configs.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-cell-color.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-size-selector.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-create.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-merge-cells.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-row-column-manager.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-text-color.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-editor-socket.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-editor.js","apps/demo/src/app/home/home.component.ts","apps/demo/src/app/home/home.component.html"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Directive } from '@angular/core';\nimport { Subject } from 'rxjs';\nlet AbstractTuiEditor = /*#__PURE__*/(() => {\n  class AbstractTuiEditor {\n    constructor() {\n      this.stateChange$ = new Subject();\n      this.valueChange$ = new Subject();\n    }\n  }\n  AbstractTuiEditor.ɵfac = function AbstractTuiEditor_Factory(t) {\n    return new (t || AbstractTuiEditor)();\n  };\n  AbstractTuiEditor.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiEditor\n  });\n  return AbstractTuiEditor;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiEditor };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Directive, HostBinding, Input, Output, HostListener, NgModule } from '@angular/core';\nlet TuiCheckedDirective = /*#__PURE__*/(() => {\n  class TuiCheckedDirective {\n    constructor() {\n      this.indeterminate = false;\n      this.checked = false;\n      this.tuiCheckedChange = new EventEmitter();\n    }\n    get isChecked() {\n      return this.checked;\n    }\n    get isIndeterminate() {\n      return this.indeterminate;\n    }\n    set tuiChecked(checked) {\n      this.checked = checked || false;\n      this.indeterminate = checked === null;\n    }\n    onChange({\n      checked\n    }) {\n      this.checked = checked;\n      this.indeterminate = false;\n      this.tuiCheckedChange.emit(checked);\n    }\n  }\n  TuiCheckedDirective.ɵfac = function TuiCheckedDirective_Factory(t) {\n    return new (t || TuiCheckedDirective)();\n  };\n  TuiCheckedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiCheckedDirective,\n    selectors: [[\"input\", \"tuiChecked\", \"\"], [\"input\", \"tuiCheckedChange\", \"\"]],\n    hostVars: 2,\n    hostBindings: function TuiCheckedDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"change\", function TuiCheckedDirective_change_HostBindingHandler($event) {\n          return ctx.onChange($event.target);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"checked\", ctx.isChecked)(\"indeterminate\", ctx.isIndeterminate);\n      }\n    },\n    inputs: {\n      tuiChecked: \"tuiChecked\"\n    },\n    outputs: {\n      tuiCheckedChange: \"tuiCheckedChange\"\n    }\n  });\n  return TuiCheckedDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiCheckedModule = /*#__PURE__*/(() => {\n  class TuiCheckedModule {}\n  TuiCheckedModule.ɵfac = function TuiCheckedModule_Factory(t) {\n    return new (t || TuiCheckedModule)();\n  };\n  TuiCheckedModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiCheckedModule\n  });\n  TuiCheckedModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiCheckedModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiCheckedDirective, TuiCheckedModule };\n","import * as i0 from '@angular/core';\nimport { Directive, Inject, NgModule } from '@angular/core';\nimport { TuiFocusVisibleService, TuiDestroyService } from '@taiga-ui/cdk/services';\nimport * as i1 from 'rxjs';\n\n/**\n * Directive to imitate :focus-visible\n * (https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible)\n * in browsers that do not support it\n */\nlet TuiFocusVisibleDirective = /*#__PURE__*/(() => {\n  class TuiFocusVisibleDirective {\n    constructor(tuiFocusVisibleChange) {\n      this.tuiFocusVisibleChange = tuiFocusVisibleChange;\n    }\n  }\n  TuiFocusVisibleDirective.ɵfac = function TuiFocusVisibleDirective_Factory(t) {\n    return new (t || TuiFocusVisibleDirective)(i0.ɵɵdirectiveInject(TuiFocusVisibleService));\n  };\n  TuiFocusVisibleDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiFocusVisibleDirective,\n    selectors: [[\"\", \"tuiFocusVisibleChange\", \"\"]],\n    outputs: {\n      tuiFocusVisibleChange: \"tuiFocusVisibleChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiFocusVisibleService])]\n  });\n  return TuiFocusVisibleDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFocusVisibleModule = /*#__PURE__*/(() => {\n  class TuiFocusVisibleModule {}\n  TuiFocusVisibleModule.ɵfac = function TuiFocusVisibleModule_Factory(t) {\n    return new (t || TuiFocusVisibleModule)();\n  };\n  TuiFocusVisibleModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFocusVisibleModule\n  });\n  TuiFocusVisibleModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiFocusVisibleModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFocusVisibleDirective, TuiFocusVisibleModule };\n","import * as i0 from '@angular/core';\nimport { Directive, Input, HostBinding, NgModule } from '@angular/core';\n\n/**\n * Abstraction over `tabindex`\n */\nlet TuiFocusableDirective = /*#__PURE__*/(() => {\n  class TuiFocusableDirective {\n    constructor() {\n      /**\n       * Element can be focused with keyboard\n       */\n      this.focusable = true;\n    }\n    get tabIndex() {\n      return this.focusable ? 0 : -1;\n    }\n  }\n  TuiFocusableDirective.ɵfac = function TuiFocusableDirective_Factory(t) {\n    return new (t || TuiFocusableDirective)();\n  };\n  TuiFocusableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiFocusableDirective,\n    selectors: [[\"\", \"tuiFocusable\", \"\"]],\n    hostVars: 1,\n    hostBindings: function TuiFocusableDirective_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"tabIndex\", ctx.tabIndex);\n      }\n    },\n    inputs: {\n      focusable: [0, \"tuiFocusable\", \"focusable\"]\n    }\n  });\n  return TuiFocusableDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFocusableModule = /*#__PURE__*/(() => {\n  class TuiFocusableModule {}\n  TuiFocusableModule.ɵfac = function TuiFocusableModule_Factory(t) {\n    return new (t || TuiFocusableModule)();\n  };\n  TuiFocusableModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFocusableModule\n  });\n  TuiFocusableModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiFocusableModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFocusableDirective, TuiFocusableModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, NgZone, Directive, Inject, Output, NgModule } from '@angular/core';\nimport { tuiTypedFromEvent, tuiZoneOptimized } from '@taiga-ui/cdk/observables';\nimport { tuiIsNativeFocused } from '@taiga-ui/cdk/utils/focus';\nimport { merge } from 'rxjs';\nimport { map, startWith, distinctUntilChanged, skip } from 'rxjs/operators';\n\n/**\n * Directive to monitor focus/blur status, works with focusIn/focus-out\n * instead of focus/blur to sync events order with Internet Explorer and\n * other focus related directives that require bubbling\n */\nlet TuiFocusedDirective = /*#__PURE__*/(() => {\n  class TuiFocusedDirective {\n    constructor({\n      nativeElement\n    }, zone) {\n      this.tuiFocusedChange = merge(tuiTypedFromEvent(nativeElement, 'focusin'), tuiTypedFromEvent(nativeElement, 'focusout')).pipe(map(() => tuiIsNativeFocused(nativeElement)), startWith(false), distinctUntilChanged(), skip(1), tuiZoneOptimized(zone));\n    }\n  }\n  TuiFocusedDirective.ɵfac = function TuiFocusedDirective_Factory(t) {\n    return new (t || TuiFocusedDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(NgZone));\n  };\n  TuiFocusedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiFocusedDirective,\n    selectors: [[\"\", \"tuiFocusedChange\", \"\"]],\n    outputs: {\n      tuiFocusedChange: \"tuiFocusedChange\"\n    }\n  });\n  return TuiFocusedDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFocusedModule = /*#__PURE__*/(() => {\n  class TuiFocusedModule {}\n  TuiFocusedModule.ɵfac = function TuiFocusedModule_Factory(t) {\n    return new (t || TuiFocusedModule)();\n  };\n  TuiFocusedModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFocusedModule\n  });\n  TuiFocusedModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiFocusedModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFocusedDirective, TuiFocusedModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, NgZone, Injectable, Inject, Directive, NgModule } from '@angular/core';\nimport { ALWAYS_TRUE_HANDLER, ALWAYS_FALSE_HANDLER } from '@taiga-ui/cdk/constants';\nimport { tuiTypedFromEvent, tuiZoneOptimized } from '@taiga-ui/cdk/observables';\nimport { tuiIsElement } from '@taiga-ui/cdk/utils';\nimport * as i1 from 'rxjs';\nimport { Observable, merge } from 'rxjs';\nimport { map, filter, distinctUntilChanged } from 'rxjs/operators';\nfunction movedOut({\n  currentTarget,\n  relatedTarget\n}) {\n  return !tuiIsElement(relatedTarget) || !tuiIsElement(currentTarget) || !currentTarget.contains(relatedTarget);\n}\nlet TuiHoveredService = /*#__PURE__*/(() => {\n  class TuiHoveredService extends Observable {\n    constructor(el, zone) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.el = el;\n      this.zone = zone;\n      this.stream$ = merge(tuiTypedFromEvent(this.el.nativeElement, 'mouseenter').pipe(map(ALWAYS_TRUE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'mouseleave').pipe(map(ALWAYS_FALSE_HANDLER)),\n      // Hello, Safari\n      tuiTypedFromEvent(this.el.nativeElement, 'mouseout').pipe(filter(movedOut), map(ALWAYS_FALSE_HANDLER))).pipe(distinctUntilChanged(), tuiZoneOptimized(this.zone));\n    }\n  }\n  TuiHoveredService.ɵfac = function TuiHoveredService_Factory(t) {\n    return new (t || TuiHoveredService)(i0.ɵɵinject(ElementRef), i0.ɵɵinject(NgZone));\n  };\n  TuiHoveredService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiHoveredService,\n    factory: TuiHoveredService.ɵfac\n  });\n  return TuiHoveredService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHoveredDirective = /*#__PURE__*/(() => {\n  class TuiHoveredDirective {\n    constructor(tuiHoveredChange) {\n      this.tuiHoveredChange = tuiHoveredChange;\n    }\n  }\n  TuiHoveredDirective.ɵfac = function TuiHoveredDirective_Factory(t) {\n    return new (t || TuiHoveredDirective)(i0.ɵɵdirectiveInject(TuiHoveredService));\n  };\n  TuiHoveredDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHoveredDirective,\n    selectors: [[\"\", \"tuiHoveredChange\", \"\"]],\n    outputs: {\n      tuiHoveredChange: \"tuiHoveredChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiHoveredService])]\n  });\n  return TuiHoveredDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHoveredModule = /*#__PURE__*/(() => {\n  class TuiHoveredModule {}\n  TuiHoveredModule.ɵfac = function TuiHoveredModule_Factory(t) {\n    return new (t || TuiHoveredModule)();\n  };\n  TuiHoveredModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiHoveredModule\n  });\n  TuiHoveredModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiHoveredModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiHoveredDirective, TuiHoveredModule, TuiHoveredService };\n","import * as i0 from '@angular/core';\nimport { Directive, NgModule } from '@angular/core';\n\n/**\n * Blank directive for queries via `@ContentChildren` / `@ViewChildren` / `querySelector`\n */\nlet TuiItemDirective = /*#__PURE__*/(() => {\n  class TuiItemDirective {}\n  TuiItemDirective.ɵfac = function TuiItemDirective_Factory(t) {\n    return new (t || TuiItemDirective)();\n  };\n  TuiItemDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiItemDirective,\n    selectors: [[\"\", \"tuiItem\", \"\"]]\n  });\n  return TuiItemDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiItemModule = /*#__PURE__*/(() => {\n  class TuiItemModule {}\n  TuiItemModule.ɵfac = function TuiItemModule_Factory(t) {\n    return new (t || TuiItemModule)();\n  };\n  TuiItemModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiItemModule\n  });\n  TuiItemModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiItemModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiItemDirective, TuiItemModule };\n","import * as i0 from '@angular/core';\nimport { Directive, Optional, Inject, Self, Input, Output, NgModule } from '@angular/core';\nimport * as i1 from '@taiga-ui/cdk/directives/active-zone';\nimport { TuiActiveZoneDirective } from '@taiga-ui/cdk/directives/active-zone';\nimport { tuiIfMap } from '@taiga-ui/cdk/observables';\nimport * as i2 from '@taiga-ui/cdk/services';\nimport { TuiObscuredService, TuiParentsScrollService, TuiDestroyService } from '@taiga-ui/cdk/services';\nimport { Subject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n/**\n * Directive that monitors element visibility\n */\nlet TuiObscuredDirective = /*#__PURE__*/(() => {\n  class TuiObscuredDirective {\n    constructor(activeZone, obscured$) {\n      this.enabled$ = new Subject();\n      const mapped$ = obscured$.pipe(map(obscuredBy => !!obscuredBy && (!activeZone || !obscuredBy.length || obscuredBy.every(element => !activeZone.contains(element)))));\n      this.tuiObscured = this.enabled$.pipe(tuiIfMap(() => mapped$));\n    }\n    set tuiObscuredEnabled(enabled) {\n      this.enabled$.next(enabled);\n    }\n  }\n  TuiObscuredDirective.ɵfac = function TuiObscuredDirective_Factory(t) {\n    return new (t || TuiObscuredDirective)(i0.ɵɵdirectiveInject(TuiActiveZoneDirective, 8), i0.ɵɵdirectiveInject(TuiObscuredService, 2));\n  };\n  TuiObscuredDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiObscuredDirective,\n    selectors: [[\"\", \"tuiObscured\", \"\"]],\n    inputs: {\n      tuiObscuredEnabled: \"tuiObscuredEnabled\"\n    },\n    outputs: {\n      tuiObscured: \"tuiObscured\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiObscuredService, TuiParentsScrollService, TuiDestroyService])]\n  });\n  return TuiObscuredDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiObscuredModule = /*#__PURE__*/(() => {\n  class TuiObscuredModule {}\n  TuiObscuredModule.ɵfac = function TuiObscuredModule_Factory(t) {\n    return new (t || TuiObscuredModule)();\n  };\n  TuiObscuredModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiObscuredModule\n  });\n  TuiObscuredModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiObscuredModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiObscuredDirective, TuiObscuredModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Directive, Inject, Output, NgModule } from '@angular/core';\nimport { tuiPressedObservable } from '@taiga-ui/cdk/observables';\nimport { TUI_TAKE_ONLY_TRUSTED_EVENTS } from '@taiga-ui/cdk/tokens';\nlet TuiPressedDirective = /*#__PURE__*/(() => {\n  class TuiPressedDirective {\n    constructor(el, takeOnlyTrustedEvents) {\n      this.el = el;\n      this.takeOnlyTrustedEvents = takeOnlyTrustedEvents;\n      this.tuiPressedChange = tuiPressedObservable(this.el.nativeElement, {\n        onlyTrusted: this.takeOnlyTrustedEvents\n      });\n    }\n  }\n  TuiPressedDirective.ɵfac = function TuiPressedDirective_Factory(t) {\n    return new (t || TuiPressedDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_TAKE_ONLY_TRUSTED_EVENTS));\n  };\n  TuiPressedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiPressedDirective,\n    selectors: [[\"\", \"tuiPressedChange\", \"\"]],\n    outputs: {\n      tuiPressedChange: \"tuiPressedChange\"\n    }\n  });\n  return TuiPressedDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPressedModule = /*#__PURE__*/(() => {\n  class TuiPressedModule {}\n  TuiPressedModule.ɵfac = function TuiPressedModule_Factory(t) {\n    return new (t || TuiPressedModule)();\n  };\n  TuiPressedModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiPressedModule\n  });\n  TuiPressedModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiPressedModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiPressedDirective, TuiPressedModule };\n","import * as i0 from '@angular/core';\nimport { ViewContainerRef, TemplateRef, Directive, Inject, Input, NgModule } from '@angular/core';\nimport { tuiClamp } from '@taiga-ui/cdk/utils/math';\nconst MAX_VALUE = 0x10000;\nclass TuiRepeatTimesContext {\n  constructor($implicit) {\n    this.$implicit = $implicit;\n  }\n}\n/**\n * Directive similar to ngFor but using a number of repetitions rather than an array\n *\n * {@link TuiRepeatTimesDirective.tuiRepeatTimesOf requested number of times}.\n * {@link TuiRepeatTimesContext context} for every instance of the template inherits outer context and stores\n * {@link TuiRepeatTimesContext.$implicit index} of a template instance.\n */\nlet TuiRepeatTimesDirective = /*#__PURE__*/(() => {\n  class TuiRepeatTimesDirective {\n    constructor(viewContainer, templateRef) {\n      this.viewContainer = viewContainer;\n      this.templateRef = templateRef;\n    }\n    set tuiRepeatTimesOf(count) {\n      const safeCount = Math.floor(tuiClamp(count, 0, MAX_VALUE));\n      const {\n        length\n      } = this.viewContainer;\n      if (count < length) {\n        this.removeContainers(length - count);\n      } else {\n        this.addContainers(safeCount);\n      }\n    }\n    addContainers(count) {\n      for (let index = this.viewContainer.length; index < count; index++) {\n        this.viewContainer.createEmbeddedView(this.templateRef, new TuiRepeatTimesContext(index));\n      }\n    }\n    removeContainers(amount) {\n      for (let index = 0; index < amount; index++) {\n        this.viewContainer.remove();\n      }\n    }\n  }\n  TuiRepeatTimesDirective.ɵfac = function TuiRepeatTimesDirective_Factory(t) {\n    return new (t || TuiRepeatTimesDirective)(i0.ɵɵdirectiveInject(ViewContainerRef), i0.ɵɵdirectiveInject(TemplateRef));\n  };\n  TuiRepeatTimesDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiRepeatTimesDirective,\n    selectors: [[\"\", \"tuiRepeatTimes\", \"\", \"tuiRepeatTimesOf\", \"\"]],\n    inputs: {\n      tuiRepeatTimesOf: \"tuiRepeatTimesOf\"\n    }\n  });\n  return TuiRepeatTimesDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiRepeatTimesModule = /*#__PURE__*/(() => {\n  class TuiRepeatTimesModule {}\n  TuiRepeatTimesModule.ɵfac = function TuiRepeatTimesModule_Factory(t) {\n    return new (t || TuiRepeatTimesModule)();\n  };\n  TuiRepeatTimesModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiRepeatTimesModule\n  });\n  TuiRepeatTimesModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiRepeatTimesModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiRepeatTimesContext, TuiRepeatTimesDirective, TuiRepeatTimesModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Directive, Inject, Component, ChangeDetectionStrategy, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport * as i1 from '@taiga-ui/cdk';\nimport { TUI_SCROLL_REF, tuiIsFirefox, tuiGetElementOffset, TUI_IS_IOS, TuiScrollControlsModule } from '@taiga-ui/cdk';\nimport { TUI_SCROLLABLE, TUI_SCROLL_INTO_VIEW } from '@taiga-ui/core/constants';\nimport { CSS, USER_AGENT } from '@ng-web-apis/common';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n/** @deprecated import from `@taiga-ui/cdk` instead */\nconst _c0 = [\"*\"];\nfunction TuiScrollbarComponent_tui_scroll_controls_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-scroll-controls\", 2);\n  }\n}\nconst SCROLL_REF_SELECTOR = '[tuiScrollRef]';\n/** @deprecated import from `@taiga-ui/cdk` instead */\nlet TuiScrollRefDirective = /*#__PURE__*/(() => {\n  class TuiScrollRefDirective {}\n  TuiScrollRefDirective.ɵfac = function TuiScrollRefDirective_Factory(t) {\n    return new (t || TuiScrollRefDirective)();\n  };\n  TuiScrollRefDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiScrollRefDirective,\n    selectors: [[\"\", \"tuiScrollRef\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_SCROLL_REF,\n      useExisting: ElementRef\n    }])]\n  });\n  return TuiScrollRefDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiScrollableDirective = /*#__PURE__*/(() => {\n  class TuiScrollableDirective {\n    constructor(el) {\n      this.el = el;\n    }\n    ngOnInit() {\n      this.el.nativeElement.dispatchEvent(new CustomEvent(TUI_SCROLLABLE, {\n        bubbles: true,\n        detail: this.el.nativeElement\n      }));\n    }\n  }\n  TuiScrollableDirective.ɵfac = function TuiScrollableDirective_Factory(t) {\n    return new (t || TuiScrollableDirective)(i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiScrollableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiScrollableDirective,\n    selectors: [[\"\", \"tuiScrollable\", \"\"]]\n  });\n  return TuiScrollableDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// TODO: Remove all legacy code in 4.0\nlet TuiScrollbarComponent = /*#__PURE__*/(() => {\n  class TuiScrollbarComponent {\n    constructor(cssRef, el, userAgent, isIos) {\n      this.cssRef = cssRef;\n      this.el = el;\n      this.userAgent = userAgent;\n      this.isIos = isIos;\n      this.isLegacy = !this.cssRef.supports('position', 'sticky') || tuiIsFirefox(this.userAgent) && !this.cssRef.supports('scrollbar-width', 'none');\n      this.hidden = false;\n      this.browserScrollRef = new ElementRef(this.el.nativeElement);\n    }\n    get delegated() {\n      return this.browserScrollRef.nativeElement !== this.el.nativeElement;\n    }\n    get showScrollbars() {\n      return !this.hidden && !this.isIos && (!this.isLegacy || this.delegated);\n    }\n    get showNative() {\n      return this.isLegacy && !this.hidden && !this.delegated;\n    }\n    onScrollable(element) {\n      this.browserScrollRef.nativeElement = element;\n    }\n    scrollIntoView(detail) {\n      var _a;\n      if (this.delegated) {\n        return;\n      }\n      const {\n        nativeElement\n      } = this.browserScrollRef;\n      const {\n        offsetTop,\n        offsetLeft\n      } = tuiGetElementOffset(nativeElement, detail);\n      const {\n        clientHeight,\n        clientWidth\n      } = nativeElement;\n      const {\n        offsetHeight,\n        offsetWidth\n      } = detail;\n      const scrollTop = offsetTop + offsetHeight / 2 - clientHeight / 2;\n      const scrollLeft = offsetLeft + offsetWidth / 2 - clientWidth / 2;\n      // ?. for our clients on Windows XP and Chrome 49\n      (_a = nativeElement.scrollTo) === null || _a === void 0 ? void 0 : _a.call(nativeElement, scrollLeft, scrollTop);\n    }\n  }\n  TuiScrollbarComponent.ɵfac = function TuiScrollbarComponent_Factory(t) {\n    return new (t || TuiScrollbarComponent)(i0.ɵɵdirectiveInject(CSS), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(USER_AGENT), i0.ɵɵdirectiveInject(TUI_IS_IOS));\n  };\n  TuiScrollbarComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiScrollbarComponent,\n    selectors: [[\"tui-scrollbar\"]],\n    hostVars: 2,\n    hostBindings: function TuiScrollbarComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"tui-scrollable.stop\", function TuiScrollbarComponent_tui_scrollable_stop_HostBindingHandler($event) {\n          return ctx.onScrollable($event.detail);\n        })(\"tui-scroll-into-view.stop\", function TuiScrollbarComponent_tui_scroll_into_view_stop_HostBindingHandler($event) {\n          return ctx.scrollIntoView($event.detail);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_legacy\", ctx.showNative);\n      }\n    },\n    inputs: {\n      hidden: \"hidden\"\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_SCROLL_REF,\n      deps: [TuiScrollbarComponent],\n      useFactory: ({\n        browserScrollRef\n      }) => browserScrollRef\n    }])],\n    ngContentSelectors: _c0,\n    decls: 3,\n    vars: 3,\n    consts: [[\"class\", \"t-bars\", 4, \"ngIf\"], [1, \"t-content\"], [1, \"t-bars\"]],\n    template: function TuiScrollbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiScrollbarComponent_tui_scroll_controls_0_Template, 1, 0, \"tui-scroll-controls\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵprojection(2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.showScrollbars);\n        i0.ɵɵadvance();\n        i0.ɵɵclassProp(\"t-content_delegated\", ctx.delegated);\n      }\n    },\n    dependencies: [i1.TuiScrollControlsComponent, i2.NgIf],\n    styles: [\"[_nghost-%COMP%]{position:relative;display:flex;isolation:isolate;overflow:auto}[_nghost-%COMP%]:not(._legacy){scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar, [_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar-thumb{background:transparent;width:0;height:0}._legacy[_nghost-%COMP%]{overflow:overlay}@media all and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: .001dpcm){._legacy[_nghost-%COMP%]::-webkit-scrollbar, ._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{width:1rem;height:1rem;border-radius:6.25rem;background-clip:padding-box;border:.375rem solid transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar{background-color:transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--tui-clear-hover)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--tui-clear-active)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:active{background-color:var(--tui-text-03)}}.t-content[_ngcontent-%COMP%]{isolation:isolate;flex:1;flex-basis:auto;width:100%;height:-webkit-max-content;height:max-content}.t-content_delegated[_ngcontent-%COMP%]{height:100%}.t-bars[_ngcontent-%COMP%]{color:var(--tui-text-01)}\"],\n    changeDetection: 0\n  });\n  return TuiScrollbarComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiScrollbarModule = /*#__PURE__*/(() => {\n  class TuiScrollbarModule {}\n  TuiScrollbarModule.ɵfac = function TuiScrollbarModule_Factory(t) {\n    return new (t || TuiScrollbarModule)();\n  };\n  TuiScrollbarModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiScrollbarModule\n  });\n  TuiScrollbarModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiScrollControlsModule]]\n  });\n  return TuiScrollbarModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { SCROLL_REF_SELECTOR, TuiScrollRefDirective, TuiScrollableDirective, TuiScrollbarComponent, TuiScrollbarModule };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Directive, Input, Output, ElementRef, INJECTOR, Self, Inject, Optional, SkipSelf, forwardRef, Component, ChangeDetectionStrategy, HostBinding, HostListener, ViewContainerRef, NgModule } from '@angular/core';\nimport { WINDOW } from '@ng-web-apis/common';\nimport * as i2 from '@taiga-ui/cdk';\nimport { tuiCreateTokenFromFactory, TuiDestroyService, TuiDropdownPortalService, tuiPure, tuiCreateToken, tuiProvideOptions, TuiHoveredService, EMPTY_CLIENT_RECT, tuiPx, tuiGetClosestFocusable, tuiPointToClientRect, TuiActiveZoneDirective, TUI_IS_IOS, TUI_TOUCH_SUPPORTED, ALWAYS_TRUE_HANDLER, tuiIsTextNode, tuiIsString, tuiIsElement, tuiGetNativeFocused, tuiIsTextfield, CHAR_ZERO_WIDTH_SPACE, CHAR_NO_BREAK_SPACE, TUI_RANGE, TuiActiveZoneModule, TuiOverscrollModule, TuiHoveredModule } from '@taiga-ui/cdk';\nimport * as i1$1 from '@taiga-ui/core/abstract';\nimport { tuiAsRectAccessor, tuiAsVehicle, TuiDriver, tuiAsDriver, TuiPositionAccessor, tuiFallbackRectAccessor, TuiRectAccessor, tuiPositionAccessorFor, tuiRectAccessorFor, AbstractTuiDriverDirective, TuiVehicle, tuiAsPositionAccessor } from '@taiga-ui/core/abstract';\nimport { tuiDropdownAnimation } from '@taiga-ui/core/animations';\nimport { MODE_PROVIDER } from '@taiga-ui/core/providers';\nimport * as i4 from '@taiga-ui/core/services';\nimport { TuiVisualViewportService, TuiPositionService } from '@taiga-ui/core/services';\nimport { TUI_VIEWPORT, TUI_ANIMATION_OPTIONS, TUI_MODE, TUI_SELECTION_STREAM } from '@taiga-ui/core/tokens';\nimport { throttleTime, takeUntil, switchMap, delay, tap, share, map, distinctUntilChanged } from 'rxjs/operators';\nimport { __decorate } from 'tslib';\nimport { tuiCheckFixedPosition, tuiOverrideOptions, tuiGetWordRange } from '@taiga-ui/core/utils';\nimport * as i3 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusComponent, PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as i1 from 'rxjs';\nimport { Subject, merge, of, BehaviorSubject, combineLatest } from 'rxjs';\nimport * as i1$2 from '@taiga-ui/core/components/scrollbar';\nimport { TuiScrollbarModule } from '@taiga-ui/core/components/scrollbar';\nimport { shouldCall } from '@tinkoff/ng-event-plugins';\nimport { DOCUMENT } from '@angular/common';\n\n/**\n * A component to display a dropdown\n */\nconst _c0 = a0 => ({\n  $implicit: a0\n});\nfunction TuiDropdownComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r2 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r2, \" \");\n  }\n}\nconst TUI_DROPDOWN_COMPONENT = tuiCreateTokenFromFactory(() => TuiDropdownComponent);\nlet TuiDropdownOpenDirective = /*#__PURE__*/(() => {\n  class TuiDropdownOpenDirective {\n    constructor() {\n      this.tuiDropdownOpen = false;\n      this.tuiDropdownOpenChange = new EventEmitter();\n    }\n    update(open) {\n      this.tuiDropdownOpen = open;\n      this.tuiDropdownOpenChange.emit(open);\n    }\n    ngOnChanges() {\n      var _a;\n      (_a = this.dropdown) === null || _a === void 0 ? void 0 : _a.toggle(this.tuiDropdownOpen);\n    }\n  }\n  TuiDropdownOpenDirective.ɵfac = function TuiDropdownOpenDirective_Factory(t) {\n    return new (t || TuiDropdownOpenDirective)();\n  };\n  TuiDropdownOpenDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownOpenDirective,\n    selectors: [[\"\", \"tuiDropdownOpen\", \"\"], [\"\", \"tuiDropdownOpenChange\", \"\"]],\n    inputs: {\n      tuiDropdownOpen: \"tuiDropdownOpen\"\n    },\n    outputs: {\n      tuiDropdownOpenChange: \"tuiDropdownOpenChange\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n  return TuiDropdownOpenDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownDirective = /*#__PURE__*/(() => {\n  class TuiDropdownDirective {\n    constructor(destroy$, el, dropdown, injector, dropdownService, open) {\n      this.el = el;\n      this.dropdown = dropdown;\n      this.injector = injector;\n      this.dropdownService = dropdownService;\n      this.open = open;\n      this.refresh$ = new Subject();\n      this.dropdownBoxRef = null;\n      this.type = 'dropdown';\n      this.component = new PolymorpheusComponent(this.dropdown, this.injector);\n      if (this.open && !this.open.dropdown) {\n        this.open.dropdown = this;\n      } else {\n        this.open = null;\n      }\n      // Ignore multiple change detection triggers at the same frame\n      this.refresh$.pipe(throttleTime(0), takeUntil(destroy$)).subscribe(() => {\n        var _a, _b;\n        (_a = this.dropdownBoxRef) === null || _a === void 0 ? void 0 : _a.changeDetectorRef.detectChanges();\n        (_b = this.dropdownBoxRef) === null || _b === void 0 ? void 0 : _b.changeDetectorRef.markForCheck();\n      });\n    }\n    get position() {\n      return tuiCheckFixedPosition(this.el.nativeElement) ? 'fixed' : 'absolute';\n    }\n    ngAfterViewChecked() {\n      this.refresh$.next();\n    }\n    ngAfterViewInit() {\n      if (this.open) {\n        this.toggle(this.open.tuiDropdownOpen);\n      }\n    }\n    ngOnChanges() {\n      if (!this.content) {\n        this.toggle(false);\n      }\n    }\n    ngOnDestroy() {\n      this.toggle(false);\n      if (this.open) {\n        this.open.dropdown = undefined;\n      }\n    }\n    getClientRect() {\n      return this.el.nativeElement.getBoundingClientRect();\n    }\n    toggle(show) {\n      var _a, _b;\n      if (show && this.content && !this.dropdownBoxRef) {\n        this.dropdownBoxRef = this.dropdownService.add(this.component);\n        (_a = this.open) === null || _a === void 0 ? void 0 : _a.update(true);\n      } else if (!show && this.dropdownBoxRef) {\n        this.dropdownService.remove(this.dropdownBoxRef);\n        this.dropdownBoxRef = null;\n        (_b = this.open) === null || _b === void 0 ? void 0 : _b.update(false);\n      }\n    }\n  }\n  TuiDropdownDirective.ɵfac = function TuiDropdownDirective_Factory(t) {\n    return new (t || TuiDropdownDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_DROPDOWN_COMPONENT), i0.ɵɵdirectiveInject(INJECTOR), i0.ɵɵdirectiveInject(TuiDropdownPortalService), i0.ɵɵdirectiveInject(TuiDropdownOpenDirective, 8));\n  };\n  TuiDropdownDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", 5, \"ng-container\"]],\n    inputs: {\n      content: [0, \"tuiDropdown\", \"content\"]\n    },\n    exportAs: [\"tuiDropdown\"],\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, tuiAsRectAccessor(TuiDropdownDirective), tuiAsVehicle(TuiDropdownDirective)]), i0.ɵɵNgOnChangesFeature]\n  });\n  __decorate([tuiPure], TuiDropdownDirective.prototype, \"position\", null);\n  return TuiDropdownDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Default values for hint options */\nconst TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS = {\n  showDelay: 200,\n  hideDelay: 500\n};\n/**\n * Default parameters for dropdown hover directive\n */\nconst TUI_DROPDOWN_HOVER_OPTIONS = tuiCreateToken(TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS);\nfunction tuiDropdownHoverOptionsProvider(options) {\n  return tuiProvideOptions(TUI_DROPDOWN_HOVER_OPTIONS, options, TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS);\n}\nlet TuiDropdownHoverDirective = /*#__PURE__*/(() => {\n  class TuiDropdownHoverDirective extends TuiDriver {\n    constructor(hovered$, options, parentHover) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.hovered$ = hovered$;\n      this.options = options;\n      this.parentHover = parentHover;\n      this.toggle$ = new Subject();\n      this.stream$ = merge(this.toggle$, this.hovered$).pipe(switchMap(visible => of(visible).pipe(delay(visible ? this.showDelay : this.hideDelay))), tap(visible => {\n        this.hovered = visible;\n      }), share());\n      this.showDelay = this.options.showDelay;\n      this.hideDelay = this.options.hideDelay;\n      this.hovered = false;\n      this.type = 'dropdown';\n    }\n    toggle(visible) {\n      var _a;\n      (_a = this.parentHover) === null || _a === void 0 ? void 0 : _a.toggle(visible);\n      this.toggle$.next(visible);\n    }\n  }\n  TuiDropdownHoverDirective.ɵfac = function TuiDropdownHoverDirective_Factory(t) {\n    return new (t || TuiDropdownHoverDirective)(i0.ɵɵdirectiveInject(TuiHoveredService), i0.ɵɵdirectiveInject(TUI_DROPDOWN_HOVER_OPTIONS), i0.ɵɵdirectiveInject(TuiDropdownHoverDirective, 12));\n  };\n  TuiDropdownHoverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownHoverDirective,\n    selectors: [[\"\", \"tuiDropdownHover\", \"\", 5, \"ng-container\"]],\n    inputs: {\n      showDelay: [0, \"tuiDropdownShowDelay\", \"showDelay\"],\n      hideDelay: [0, \"tuiDropdownHideDelay\", \"hideDelay\"]\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiDropdownHoverDirective), TuiHoveredService]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownHoverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Default values for dropdown options */\nconst TUI_DROPDOWN_DEFAULT_OPTIONS = {\n  align: 'left',\n  direction: null,\n  limitWidth: 'auto',\n  maxHeight: 400,\n  minHeight: 80,\n  offset: 4,\n  appearance: ''\n};\n/**\n * Default parameters for dropdown directive\n */\nconst TUI_DROPDOWN_OPTIONS = tuiCreateToken(TUI_DROPDOWN_DEFAULT_OPTIONS);\nconst tuiDropdownOptionsProvider = override => ({\n  provide: TUI_DROPDOWN_OPTIONS,\n  deps: [[new Optional(), TuiDropdownOptionsDirective], [new Optional(), new SkipSelf(), TUI_DROPDOWN_OPTIONS]],\n  useFactory: tuiOverrideOptions(override, TUI_DROPDOWN_DEFAULT_OPTIONS)\n});\nlet TuiDropdownOptionsDirective = /*#__PURE__*/(() => {\n  class TuiDropdownOptionsDirective {\n    constructor(options) {\n      this.options = options;\n      this.align = this.options.align;\n      this.appearance = this.options.appearance;\n      this.direction = this.options.direction;\n      this.limitWidth = this.options.limitWidth;\n      this.minHeight = this.options.minHeight;\n      this.maxHeight = this.options.maxHeight;\n      this.offset = this.options.offset;\n    }\n  }\n  TuiDropdownOptionsDirective.ɵfac = function TuiDropdownOptionsDirective_Factory(t) {\n    return new (t || TuiDropdownOptionsDirective)(i0.ɵɵdirectiveInject(TUI_DROPDOWN_OPTIONS, 4));\n  };\n  TuiDropdownOptionsDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownOptionsDirective,\n    selectors: [[\"\", \"tuiDropdownAlign\", \"\"], [\"\", \"tuiDropdownAppearance\", \"\"], [\"\", \"tuiDropdownDirection\", \"\"], [\"\", \"tuiDropdownLimitWidth\", \"\"], [\"\", \"tuiDropdownMinHeight\", \"\"], [\"\", \"tuiDropdownMaxHeight\", \"\"], [\"\", \"tuiDropdownOffset\", \"\"]],\n    inputs: {\n      align: [0, \"tuiDropdownAlign\", \"align\"],\n      appearance: [0, \"tuiDropdownAppearance\", \"appearance\"],\n      direction: [0, \"tuiDropdownDirection\", \"direction\"],\n      limitWidth: [0, \"tuiDropdownLimitWidth\", \"limitWidth\"],\n      minHeight: [0, \"tuiDropdownMinHeight\", \"minHeight\"],\n      maxHeight: [0, \"tuiDropdownMaxHeight\", \"maxHeight\"],\n      offset: [0, \"tuiDropdownOffset\", \"offset\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_DROPDOWN_OPTIONS,\n      useExisting: forwardRef(() => TuiDropdownOptionsDirective)\n    }])]\n  });\n  return TuiDropdownOptionsDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownPositionDirective = /*#__PURE__*/(() => {\n  class TuiDropdownPositionDirective extends TuiPositionAccessor {\n    constructor(options, viewport, accessors, directive) {\n      super();\n      this.options = options;\n      this.viewport = viewport;\n      this.accessors = accessors;\n      this.directive = directive;\n      this.type = 'dropdown';\n    }\n    getPosition({\n      width,\n      height\n    }) {\n      var _a, _b;\n      if (!width && !height) {\n        this.previous = undefined;\n      }\n      const hostRect = (_b = (_a = this.accessor) === null || _a === void 0 ? void 0 : _a.getClientRect()) !== null && _b !== void 0 ? _b : EMPTY_CLIENT_RECT;\n      const viewportRect = this.viewport.getClientRect();\n      const {\n        minHeight,\n        align,\n        direction,\n        offset,\n        limitWidth\n      } = this.options;\n      const viewport = {\n        top: viewportRect.top - offset,\n        bottom: viewportRect.bottom + offset,\n        right: viewportRect.right - offset,\n        left: viewportRect.left + offset\n      };\n      const previous = this.previous || direction || 'bottom';\n      const available = {\n        top: hostRect.top - 2 * offset - viewport.top,\n        bottom: viewport.bottom - hostRect.bottom - 2 * offset\n      };\n      const rectWidth = limitWidth === 'fixed' ? hostRect.width : width;\n      const right = Math.max(hostRect.right - rectWidth, offset);\n      const left = hostRect.left + width < viewport.right ? hostRect.left : right;\n      const position = {\n        top: hostRect.top - offset - height,\n        bottom: hostRect.bottom + offset,\n        right: Math.max(viewport.left, right),\n        center: hostRect.left + hostRect.width / 2 + width / 2 < viewport.right ? hostRect.left + hostRect.width / 2 - width / 2 : right,\n        left: Math.max(viewport.left, left)\n      };\n      const better = available.top > available.bottom ? 'top' : 'bottom';\n      if (available[previous] > minHeight && direction || available[previous] > height) {\n        return [position[previous], position[align]];\n      }\n      this.previous = better;\n      return [position[better], position[align]];\n    }\n    get accessor() {\n      return tuiFallbackRectAccessor('dropdown')(this.accessors, this.directive);\n    }\n  }\n  TuiDropdownPositionDirective.ɵfac = function TuiDropdownPositionDirective_Factory(t) {\n    return new (t || TuiDropdownPositionDirective)(i0.ɵɵdirectiveInject(TUI_DROPDOWN_OPTIONS), i0.ɵɵdirectiveInject(TUI_VIEWPORT), i0.ɵɵdirectiveInject(TuiRectAccessor), i0.ɵɵdirectiveInject(TuiDropdownDirective));\n  };\n  TuiDropdownPositionDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownPositionDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\"]],\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  __decorate([tuiPure], TuiDropdownPositionDirective.prototype, \"accessor\", null);\n  return TuiDropdownPositionDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @description:\n * This component is used to show template in a portal\n * using default style of white rounded box with a shadow\n */\nlet TuiDropdownComponent = /*#__PURE__*/(() => {\n  class TuiDropdownComponent {\n    constructor(vvs, position$, destroy$, directive, animation, el, accessor, win, mode$, options, hoverDirective) {\n      this.directive = directive;\n      this.animation = animation;\n      this.el = el;\n      this.accessor = accessor;\n      this.win = win;\n      this.mode$ = mode$;\n      this.options = options;\n      this.hoverDirective = hoverDirective;\n      position$.pipe(map(point => this.directive.position === 'fixed' ? vvs.correct(point) : point), takeUntil(destroy$)).subscribe(([top, left]) => {\n        if (this.directive.el.nativeElement.isConnected) {\n          this.update(top, left);\n        } else {\n          this.directive.toggle(false);\n        }\n      });\n      this.updateWidth(this.accessor.getClientRect().width);\n    }\n    onHoveredChange(hovered) {\n      var _a;\n      (_a = this.hoverDirective) === null || _a === void 0 ? void 0 : _a.toggle(hovered);\n    }\n    onTopFocus() {\n      this.moveFocusOutside(true);\n    }\n    onBottomFocus() {\n      this.moveFocusOutside(false);\n    }\n    update(top, left) {\n      var _a;\n      const {\n        style\n      } = this.el.nativeElement;\n      const {\n        right\n      } = this.el.nativeElement.getBoundingClientRect();\n      const {\n        maxHeight,\n        minHeight,\n        offset\n      } = this.options;\n      const {\n        innerHeight\n      } = this.win;\n      const clientRect = (_a = this.el.nativeElement.offsetParent) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n      const {\n        position\n      } = this.directive;\n      const rect = this.accessor.getClientRect();\n      const offsetX = position === 'fixed' ? 0 : -((clientRect === null || clientRect === void 0 ? void 0 : clientRect.left) || 0);\n      const offsetY = position === 'fixed' ? 0 : -((clientRect === null || clientRect === void 0 ? void 0 : clientRect.top) || 0);\n      top += offsetY;\n      left += offsetX;\n      const isIntersecting = left < rect.right && right > rect.left && top < offsetY + 2 * offset;\n      const available = isIntersecting ? rect.top - 2 * offset : offsetY + innerHeight - top - offset;\n      const sided = right <= rect.left || left >= rect.right;\n      style.position = position;\n      style.top = tuiPx(Math.max(top, offsetY + offset));\n      style.left = tuiPx(left);\n      style.maxHeight = sided ? `${maxHeight}px` : tuiPx(Math.min(maxHeight, Math.max(available, minHeight)));\n      style.width = '';\n      style.minWidth = '';\n      this.updateWidth(rect.width);\n    }\n    updateWidth(width) {\n      const {\n        style\n      } = this.el.nativeElement;\n      switch (this.options.limitWidth) {\n        case 'min':\n          style.minWidth = tuiPx(width);\n          break;\n        case 'fixed':\n          style.width = tuiPx(width);\n          break;\n        case 'auto':\n          break;\n      }\n    }\n    moveFocusOutside(previous) {\n      const {\n        nativeElement\n      } = this.directive.el;\n      const {\n        ownerDocument\n      } = nativeElement;\n      const root = ownerDocument ? ownerDocument.body : nativeElement;\n      let focusable = tuiGetClosestFocusable({\n        initial: nativeElement,\n        root,\n        previous\n      });\n      while (focusable !== null && nativeElement.contains(focusable)) {\n        focusable = tuiGetClosestFocusable({\n          initial: focusable,\n          root,\n          previous\n        });\n      }\n      focusable === null || focusable === void 0 ? void 0 : focusable.focus();\n    }\n  }\n  TuiDropdownComponent.ɵfac = function TuiDropdownComponent_Factory(t) {\n    return new (t || TuiDropdownComponent)(i0.ɵɵdirectiveInject(TuiVisualViewportService), i0.ɵɵdirectiveInject(TuiPositionService), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiDropdownDirective), i0.ɵɵdirectiveInject(TUI_ANIMATION_OPTIONS), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TuiRectAccessor), i0.ɵɵdirectiveInject(WINDOW), i0.ɵɵdirectiveInject(TUI_MODE), i0.ɵɵdirectiveInject(TUI_DROPDOWN_OPTIONS), i0.ɵɵdirectiveInject(TuiDropdownHoverDirective, 8));\n  };\n  TuiDropdownComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDropdownComponent,\n    selectors: [[\"tui-dropdown\"]],\n    hostVars: 2,\n    hostBindings: function TuiDropdownComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"$.data-mode.attr\", function TuiDropdownComponent___data_mode_attr_HostBindingHandler() {\n          return ctx.mode$;\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵsyntheticHostProperty(\"@tuiDropdownAnimation\", ctx.animation);\n        i0.ɵɵattribute(\"data-appearance\", ctx.options.appearance);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPositionService, tuiPositionAccessorFor('dropdown', TuiDropdownPositionDirective), tuiRectAccessorFor('dropdown', TuiDropdownDirective), MODE_PROVIDER])],\n    decls: 5,\n    vars: 4,\n    consts: [[\"activeZone\", \"tuiActiveZone\"], [\"tuiActiveZone\", \"\", \"tuiOverscroll\", \"all\", 1, \"t-scroll\", 3, \"tuiHoveredChange\"], [\"tabindex\", \"0\", 3, \"focus\"], [\"class\", \"t-primitive\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [1, \"t-primitive\"]],\n    template: function TuiDropdownComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"tui-scrollbar\", 1, 0);\n        i0.ɵɵlistener(\"tuiHoveredChange\", function TuiDropdownComponent_Template_tui_scrollbar_tuiHoveredChange_0_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onHoveredChange($event));\n        });\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵlistener(\"focus\", function TuiDropdownComponent_Template_div_focus_2_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onTopFocus());\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, TuiDropdownComponent_div_3_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵlistener(\"focus\", function TuiDropdownComponent_Template_div_focus_4_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onBottomFocus());\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        const activeZone_r3 = i0.ɵɵreference(1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.directive.content)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c0, activeZone_r3));\n      }\n    },\n    dependencies: [i1$2.TuiScrollbarComponent, i2.TuiActiveZoneDirective, i2.TuiOverscrollDirective, i2.TuiHoveredDirective, i3.PolymorpheusOutletDirective],\n    styles: [\"[_nghost-%COMP%]{position:absolute;display:flex;box-shadow:var(--tui-shadow-dropdown);background:var(--tui-elevation-02);border-radius:var(--tui-radius-m);overflow:hidden;border:1px solid var(--tui-base-04);box-sizing:border-box;max-width:calc(100% - 8px);isolation:isolate;pointer-events:auto}.ng-animating[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]:not([style*=\\\"top\\\"]){visibility:hidden}[data-mode=onDark][_nghost-%COMP%]{--tui-text-01: var(--tui-text-01-night);--tui-clear: var(--tui-clear-inverse);background:#222;border:1px solid #808080}.t-scroll[_ngcontent-%COMP%]{flex-grow:1;max-width:100%}.t-primitive[_ngcontent-%COMP%]{padding:1rem}\"],\n    data: {\n      animation: [tuiDropdownAnimation]\n    }\n  });\n  return TuiDropdownComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction activeZoneFilter(target) {\n  return !this.activeZone.contains(target);\n}\nconst TAP_DELAY = 700;\nconst MOVE_THRESHOLD = 15;\nlet TuiDropdownContextDirective = /*#__PURE__*/(() => {\n  class TuiDropdownContextDirective extends TuiDriver {\n    constructor(activeZone, isIOS, isTouch) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.activeZone = activeZone;\n      this.isIOS = isIOS;\n      this.isTouch = isTouch;\n      this.stream$ = new Subject();\n      this.currentRect = EMPTY_CLIENT_RECT;\n      this.longTapTimeout = NaN;\n      this.type = 'dropdown';\n    }\n    get userSelect() {\n      return this.isTouch ? 'none' : null;\n    }\n    onContextMenu(x, y) {\n      this.currentRect = tuiPointToClientRect(x, y);\n      this.stream$.next(true);\n    }\n    closeDropdown() {\n      this.stream$.next(false);\n      this.currentRect = EMPTY_CLIENT_RECT;\n    }\n    onTouchMove(x, y) {\n      if (this.isIOS && this.isTouch && this.currentRect !== EMPTY_CLIENT_RECT && Math.hypot(x - this.currentRect.x, y - this.currentRect.y) > MOVE_THRESHOLD) {\n        this.onTouchEnd();\n      }\n    }\n    onTouchStart(x, y) {\n      if (!this.isIOS || !this.isTouch || this.currentRect !== EMPTY_CLIENT_RECT) {\n        return;\n      }\n      this.currentRect = tuiPointToClientRect(x, y);\n      this.longTapTimeout = setTimeout(() => {\n        this.stream$.next(true);\n      }, TAP_DELAY);\n    }\n    onTouchEnd() {\n      if (this.isIOS && this.isTouch) {\n        clearTimeout(this.longTapTimeout);\n      }\n    }\n    getClientRect() {\n      return this.currentRect;\n    }\n  }\n  TuiDropdownContextDirective.ɵfac = function TuiDropdownContextDirective_Factory(t) {\n    return new (t || TuiDropdownContextDirective)(i0.ɵɵdirectiveInject(TuiActiveZoneDirective), i0.ɵɵdirectiveInject(TUI_IS_IOS), i0.ɵɵdirectiveInject(TUI_TOUCH_SUPPORTED));\n  };\n  TuiDropdownContextDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownContextDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", \"tuiDropdownContext\", \"\"]],\n    hostVars: 6,\n    hostBindings: function TuiDropdownContextDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"contextmenu.prevent.stop\", function TuiDropdownContextDirective_contextmenu_prevent_stop_HostBindingHandler($event) {\n          return ctx.onContextMenu($event.clientX, $event.clientY);\n        })(\"click.silent\", function TuiDropdownContextDirective_click_silent_HostBindingHandler($event) {\n          return ctx.closeDropdown($event.target);\n        }, false, i0.ɵɵresolveDocument)(\"contextmenu.capture.silent\", function TuiDropdownContextDirective_contextmenu_capture_silent_HostBindingHandler($event) {\n          return ctx.closeDropdown($event.target);\n        }, false, i0.ɵɵresolveDocument)(\"keydown.esc\", function TuiDropdownContextDirective_keydown_esc_HostBindingHandler($event) {\n          return ctx.closeDropdown($event.currentTarget);\n        }, false, i0.ɵɵresolveDocument)(\"touchmove.silent.passive\", function TuiDropdownContextDirective_touchmove_silent_passive_HostBindingHandler($event) {\n          return ctx.onTouchMove($event.touches[0].clientX, $event.touches[0].clientY);\n        })(\"touchstart.silent.passive\", function TuiDropdownContextDirective_touchstart_silent_passive_HostBindingHandler($event) {\n          return ctx.onTouchStart($event.touches[0].clientX, $event.touches[0].clientY);\n        })(\"touchend.silent.passive\", function TuiDropdownContextDirective_touchend_silent_passive_HostBindingHandler() {\n          return ctx.onTouchEnd();\n        })(\"touchcancel.silent.passive\", function TuiDropdownContextDirective_touchcancel_silent_passive_HostBindingHandler() {\n          return ctx.onTouchEnd();\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"user-select\", ctx.userSelect)(\"-webkit-touch-callout\", ctx.userSelect)(\"-webkit-user-select\", ctx.userSelect);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([TuiActiveZoneDirective, tuiAsDriver(TuiDropdownContextDirective), tuiAsRectAccessor(TuiDropdownContextDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  __decorate([shouldCall(activeZoneFilter)], TuiDropdownContextDirective.prototype, \"closeDropdown\", null);\n  return TuiDropdownContextDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownDriverDirective = /*#__PURE__*/(() => {\n  class TuiDropdownDriverDirective extends AbstractTuiDriverDirective {\n    // TODO: Figure out why this is necessary under nx test runner\n    constructor(destroy$, drivers, vehicles) {\n      super(destroy$, drivers, vehicles);\n      this.type = 'dropdown';\n    }\n  }\n  TuiDropdownDriverDirective.ɵfac = function TuiDropdownDriverDirective_Factory(t) {\n    return new (t || TuiDropdownDriverDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiDriver), i0.ɵɵdirectiveInject(TuiVehicle));\n  };\n  TuiDropdownDriverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownDriverDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownDriverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownHostDirective = /*#__PURE__*/(() => {\n  class TuiDropdownHostDirective extends TuiRectAccessor {\n    constructor() {\n      super(...arguments);\n      this.type = 'dropdown';\n    }\n    getClientRect() {\n      var _a;\n      return ((_a = this.tuiDropdownHost) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) || EMPTY_CLIENT_RECT;\n    }\n  }\n  TuiDropdownHostDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDropdownHostDirective_BaseFactory;\n    return function TuiDropdownHostDirective_Factory(t) {\n      return (ɵTuiDropdownHostDirective_BaseFactory || (ɵTuiDropdownHostDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDropdownHostDirective)))(t || TuiDropdownHostDirective);\n    };\n  })();\n  TuiDropdownHostDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownHostDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", \"tuiDropdownHost\", \"\"]],\n    inputs: {\n      tuiDropdownHost: \"tuiDropdownHost\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsRectAccessor(TuiDropdownHostDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownHostDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownManualDirective = /*#__PURE__*/(() => {\n  class TuiDropdownManualDirective extends TuiDriver {\n    constructor() {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.stream$ = new BehaviorSubject(false);\n      this.tuiDropdownManual = false;\n      this.type = 'dropdown';\n    }\n    ngOnChanges() {\n      this.stream$.next(this.tuiDropdownManual);\n    }\n  }\n  TuiDropdownManualDirective.ɵfac = function TuiDropdownManualDirective_Factory(t) {\n    return new (t || TuiDropdownManualDirective)();\n  };\n  TuiDropdownManualDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownManualDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", \"tuiDropdownManual\", \"\"]],\n    inputs: {\n      tuiDropdownManual: \"tuiDropdownManual\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiDropdownManualDirective)]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  return TuiDropdownManualDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownPositionSidedDirective = /*#__PURE__*/(() => {\n  class TuiDropdownPositionSidedDirective extends TuiPositionAccessor {\n    constructor(options, viewport, vertical) {\n      super();\n      this.options = options;\n      this.viewport = viewport;\n      this.vertical = vertical;\n      this.previous = this.options.direction || 'bottom';\n      this.tuiDropdownSided = '';\n      this.tuiDropdownSidedOffset = 4;\n      this.type = 'dropdown';\n    }\n    getPosition(rect) {\n      var _a, _b;\n      if (this.tuiDropdownSided === false) {\n        return this.vertical.getPosition(rect);\n      }\n      const {\n        height,\n        width\n      } = rect;\n      const hostRect = (_b = (_a = this.vertical.accessor) === null || _a === void 0 ? void 0 : _a.getClientRect()) !== null && _b !== void 0 ? _b : EMPTY_CLIENT_RECT;\n      const viewport = this.viewport.getClientRect();\n      const {\n        direction,\n        minHeight,\n        offset\n      } = this.options;\n      const align = this.options.align === 'center' ? 'left' : this.options.align;\n      const available = {\n        top: hostRect.bottom - viewport.top,\n        left: hostRect.left - offset - viewport.left,\n        right: viewport.right - hostRect.right - offset,\n        bottom: viewport.bottom - hostRect.top\n      };\n      const position = {\n        top: hostRect.bottom - height + this.tuiDropdownSidedOffset + 1,\n        left: hostRect.left - width - offset,\n        right: hostRect.right + offset,\n        bottom: hostRect.top - this.tuiDropdownSidedOffset - 1 // 1 for border\n      };\n      const better = available.top > available.bottom ? 'top' : 'bottom';\n      const maxLeft = available.left > available.right ? position.left : position.right;\n      const left = available[align] > width ? position[align] : maxLeft;\n      if (available[this.previous] > minHeight && direction || this.previous === better) {\n        return [position[this.previous], left];\n      }\n      this.previous = better;\n      return [position[better], left];\n    }\n  }\n  TuiDropdownPositionSidedDirective.ɵfac = function TuiDropdownPositionSidedDirective_Factory(t) {\n    return new (t || TuiDropdownPositionSidedDirective)(i0.ɵɵdirectiveInject(TUI_DROPDOWN_OPTIONS), i0.ɵɵdirectiveInject(TUI_VIEWPORT), i0.ɵɵdirectiveInject(TuiDropdownPositionDirective));\n  };\n  TuiDropdownPositionSidedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownPositionSidedDirective,\n    selectors: [[\"\", \"tuiDropdownSided\", \"\"]],\n    inputs: {\n      tuiDropdownSided: \"tuiDropdownSided\",\n      tuiDropdownSidedOffset: \"tuiDropdownSidedOffset\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDropdownPositionDirective, tuiAsPositionAccessor(TuiDropdownPositionSidedDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownPositionSidedDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownSelectionDirective = /*#__PURE__*/(() => {\n  class TuiDropdownSelectionDirective extends TuiDriver {\n    constructor(range, doc, selection$, el, vcr, dropdown) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.range = range;\n      this.doc = doc;\n      this.selection$ = selection$;\n      this.el = el;\n      this.vcr = vcr;\n      this.dropdown = dropdown;\n      this.handler$ = new BehaviorSubject(ALWAYS_TRUE_HANDLER);\n      this.stream$ = combineLatest([this.handler$, this.selection$.pipe(map(() => this.getRange()), distinctUntilChanged((x, y) => x.startOffset === y.startOffset && x.endOffset === y.endOffset && x.commonAncestorContainer === y.commonAncestorContainer))]).pipe(map(([handler, range]) => {\n        const contained = this.el.nativeElement.contains(range.commonAncestorContainer);\n        this.range = contained && tuiIsTextNode(range.commonAncestorContainer) ? range : this.range;\n        return contained && handler(this.range) || this.inDropdown(range);\n      }));\n      this.position = 'selection';\n      this.type = 'dropdown';\n    }\n    set tuiDropdownSelection(visible) {\n      if (!tuiIsString(visible)) {\n        this.handler$.next(visible);\n      }\n    }\n    getClientRect() {\n      switch (this.position) {\n        case 'tag':\n          {\n            const {\n              commonAncestorContainer\n            } = this.range;\n            const element = tuiIsElement(commonAncestorContainer) ? commonAncestorContainer : commonAncestorContainer.parentNode;\n            return element && tuiIsElement(element) ? element.getBoundingClientRect() : EMPTY_CLIENT_RECT;\n          }\n        case 'word':\n          return tuiGetWordRange(this.range).getBoundingClientRect();\n        default:\n          return this.range.getBoundingClientRect();\n      }\n    }\n    ngOnDestroy() {\n      if (this.ghost) {\n        this.vcr.element.nativeElement.removeChild(this.ghost);\n      }\n    }\n    getRange() {\n      const active = tuiGetNativeFocused(this.doc);\n      const selection = this.doc.getSelection();\n      const range = active && tuiIsTextfield(active) && this.el.nativeElement.contains(active) ? this.veryVerySadInputFix(active) : (selection === null || selection === void 0 ? void 0 : selection.rangeCount) && selection.getRangeAt(0) || this.range;\n      return range.cloneRange();\n    }\n    /**\n     * Check if given range is at least partially inside dropdown\n     */\n    inDropdown(range) {\n      const {\n        startContainer,\n        endContainer\n      } = range;\n      const {\n        nativeElement\n      } = this.el;\n      const inDropdown = this.boxContains(range.commonAncestorContainer);\n      const hostToDropdown = this.boxContains(endContainer) && nativeElement.contains(startContainer);\n      const dropdownToHost = this.boxContains(startContainer) && nativeElement.contains(endContainer);\n      return inDropdown || hostToDropdown || dropdownToHost;\n    }\n    veryVerySadInputFix(element) {\n      const {\n        ghost = this.initGhost(element)\n      } = this;\n      const {\n        top,\n        left,\n        width,\n        height\n      } = element.getBoundingClientRect();\n      const {\n        selectionStart,\n        selectionEnd,\n        value\n      } = element;\n      const range = this.doc.createRange();\n      const hostRect = this.el.nativeElement.getBoundingClientRect();\n      ghost.style.top = tuiPx(top - hostRect.top);\n      ghost.style.left = tuiPx(left - hostRect.left);\n      ghost.style.width = tuiPx(width);\n      ghost.style.height = tuiPx(height);\n      ghost.textContent = CHAR_ZERO_WIDTH_SPACE + value + CHAR_NO_BREAK_SPACE;\n      range.setStart(ghost.firstChild, selectionStart || 0);\n      range.setEnd(ghost.firstChild, selectionEnd || 0);\n      return range;\n    }\n    /**\n     * Check if Node is inside dropdown\n     */\n    boxContains(node) {\n      var _a;\n      return !!((_a = this.dropdown.dropdownBoxRef) === null || _a === void 0 ? void 0 : _a.location.nativeElement.contains(node));\n    }\n    /**\n     * Create an invisible DIV styled exactly like input/textarea element inside directive\n     */\n    initGhost(element) {\n      const ghost = this.doc.createElement('div');\n      const {\n        font,\n        letterSpacing,\n        textTransform,\n        padding\n      } = getComputedStyle(element);\n      ghost.style.position = 'absolute';\n      ghost.style.pointerEvents = 'none';\n      ghost.style.opacity = '0';\n      ghost.style.whiteSpace = 'pre-wrap';\n      ghost.style.font = font;\n      ghost.style.letterSpacing = letterSpacing;\n      ghost.style.textTransform = textTransform;\n      ghost.style.padding = padding;\n      this.vcr.element.nativeElement.appendChild(ghost);\n      this.ghost = ghost;\n      return ghost;\n    }\n  }\n  TuiDropdownSelectionDirective.ɵfac = function TuiDropdownSelectionDirective_Factory(t) {\n    return new (t || TuiDropdownSelectionDirective)(i0.ɵɵdirectiveInject(TUI_RANGE), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(TUI_SELECTION_STREAM), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(ViewContainerRef), i0.ɵɵdirectiveInject(TuiDropdownDirective));\n  };\n  TuiDropdownSelectionDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownSelectionDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", \"tuiDropdownSelection\", \"\"]],\n    inputs: {\n      position: [0, \"tuiDropdownSelectionPosition\", \"position\"],\n      tuiDropdownSelection: \"tuiDropdownSelection\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiDropdownSelectionDirective), tuiAsRectAccessor(TuiDropdownSelectionDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownSelectionDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownModule = /*#__PURE__*/(() => {\n  class TuiDropdownModule {}\n  TuiDropdownModule.ɵfac = function TuiDropdownModule_Factory(t) {\n    return new (t || TuiDropdownModule)();\n  };\n  TuiDropdownModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiDropdownModule\n  });\n  TuiDropdownModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[PolymorpheusModule, TuiActiveZoneModule, TuiOverscrollModule, TuiScrollbarModule, TuiHoveredModule]]\n  });\n  return TuiDropdownModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_DROPDOWN_COMPONENT, TUI_DROPDOWN_DEFAULT_OPTIONS, TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS, TUI_DROPDOWN_HOVER_OPTIONS, TUI_DROPDOWN_OPTIONS, TuiDropdownComponent, TuiDropdownContextDirective, TuiDropdownDirective, TuiDropdownDriverDirective, TuiDropdownHostDirective, TuiDropdownHoverDirective, TuiDropdownManualDirective, TuiDropdownModule, TuiDropdownOpenDirective, TuiDropdownOptionsDirective, TuiDropdownPositionDirective, TuiDropdownPositionSidedDirective, TuiDropdownSelectionDirective, tuiDropdownHoverOptionsProvider, tuiDropdownOptionsProvider };\n","import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { Optional, SkipSelf, forwardRef, Directive, Inject, Input, ElementRef, INJECTOR, HostListener, Component, ChangeDetectionStrategy, Self, HostBinding, NgZone, TemplateRef, NgModule } from '@angular/core';\nimport * as i3 from '@taiga-ui/cdk';\nimport { tuiCreateTokenFromFactory, tuiCreateToken, AbstractTuiController, TuiActiveZoneDirective, TuiHoveredService, EMPTY_CLIENT_RECT, tuiPointToClientRect, tuiPure, tuiClamp, tuiPx, TuiDestroyService, tuiIfMap, tuiTypedFromEvent, tuiIsPresent, tuiZoneOptimized, tuiIsNativeFocused, TUI_PARENT_ANIMATION } from '@taiga-ui/cdk';\nimport * as i1$1 from '@taiga-ui/core/abstract';\nimport { tuiAsRectAccessor, tuiAsVehicle, TuiDriver, tuiAsDriver, TuiPositionAccessor, tuiFallbackRectAccessor, TuiRectAccessor, tuiPositionAccessorFor, tuiRectAccessorFor, AbstractTuiDriverDirective, TuiVehicle } from '@taiga-ui/core/abstract';\nimport { tuiFadeIn } from '@taiga-ui/core/animations';\nimport * as i5 from '@taiga-ui/core/directives/mode';\nimport { TuiModeDirective } from '@taiga-ui/core/directives/mode';\nimport * as i2 from '@taiga-ui/core/services';\nimport { TuiHintService, TuiPositionService, TuiVisualViewportService } from '@taiga-ui/core/services';\nimport { TUI_VIEWPORT, TUI_ANIMATION_OPTIONS } from '@taiga-ui/core/tokens';\nimport { tuiOverrideOptions, tuiIsObscured } from '@taiga-ui/core/utils';\nimport * as i1 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusComponent, POLYMORPHEUS_CONTEXT, PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport { switchMap, delay, takeUntil, repeat, filter, map, tap, debounce, startWith, distinctUntilChanged, skip } from 'rxjs/operators';\nimport * as i2$1 from 'rxjs';\nimport { Subject, merge, of, ReplaySubject, timer, BehaviorSubject } from 'rxjs';\nimport { TUI_HINT_DIRECTIONS } from '@taiga-ui/core/constants';\nimport { DOCUMENT, CommonModule } from '@angular/common';\n\n/**\n * A component to display a hint\n */\nconst _c0 = [\"*\"];\nfunction TuiHintComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 1);\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"innerHTML\", text_r1, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction TuiHintUnstyledComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst TUI_HINT_COMPONENT = tuiCreateTokenFromFactory(() => TuiHintComponent);\n\n/** Default values for hint options */\nconst TUI_HINT_DEFAULT_OPTIONS = {\n  direction: 'bottom-left',\n  showDelay: 500,\n  hideDelay: 200,\n  appearance: '',\n  icon: 'tuiIconHelpCircle'\n};\n/**\n * Default parameters for hint directive\n */\nconst TUI_HINT_OPTIONS = tuiCreateToken(TUI_HINT_DEFAULT_OPTIONS);\nconst tuiHintOptionsProvider = override => ({\n  provide: TUI_HINT_OPTIONS,\n  deps: [[new Optional(), TuiHintOptionsDirective], [new Optional(), new SkipSelf(), TUI_HINT_OPTIONS]],\n  useFactory: tuiOverrideOptions(override, TUI_HINT_DEFAULT_OPTIONS)\n});\nlet TuiHintOptionsDirective = /*#__PURE__*/(() => {\n  class TuiHintOptionsDirective extends AbstractTuiController {\n    constructor(options) {\n      super();\n      this.options = options;\n      this.direction = this.options.direction;\n      this.appearance = this.options.appearance;\n      this.showDelay = this.options.showDelay;\n      this.hideDelay = this.options.hideDelay;\n      this.icon = this.options.icon;\n    }\n  }\n  TuiHintOptionsDirective.ɵfac = function TuiHintOptionsDirective_Factory(t) {\n    return new (t || TuiHintOptionsDirective)(i0.ɵɵdirectiveInject(TUI_HINT_OPTIONS, 4));\n  };\n  TuiHintOptionsDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintOptionsDirective,\n    selectors: [[\"\", \"tuiHintContent\", \"\"]],\n    inputs: {\n      content: [0, \"tuiHintContent\", \"content\"],\n      direction: [0, \"tuiHintDirection\", \"direction\"],\n      appearance: [0, \"tuiHintAppearance\", \"appearance\"],\n      showDelay: [0, \"tuiHintShowDelay\", \"showDelay\"],\n      hideDelay: [0, \"tuiHintHideDelay\", \"hideDelay\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_HINT_OPTIONS,\n      useExisting: forwardRef(() => TuiHintOptionsDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintOptionsDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintDirective = /*#__PURE__*/(() => {\n  class TuiHintDirective {\n    constructor(el, component, hintService, options, activeZone) {\n      this.el = el;\n      this.component = component;\n      this.hintService = hintService;\n      this.options = options;\n      this.activeZone = activeZone;\n      this.tuiHintAppearance = null;\n      this.type = 'hint';\n    }\n    set tuiHint(content) {\n      this.content = content;\n      if (!content) {\n        this.toggle(false);\n      }\n    }\n    get appearance() {\n      var _a;\n      return (_a = this.tuiHintAppearance) !== null && _a !== void 0 ? _a : this.options.appearance;\n    }\n    ngOnDestroy() {\n      this.toggle(false);\n    }\n    getClientRect() {\n      return this.el.nativeElement.getBoundingClientRect();\n    }\n    toggle(show) {\n      if (show && this.content) {\n        this.hintService.add(this);\n      } else {\n        this.hintService.remove(this);\n      }\n    }\n  }\n  TuiHintDirective.ɵfac = function TuiHintDirective_Factory(t) {\n    return new (t || TuiHintDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(PolymorpheusComponent), i0.ɵɵdirectiveInject(TuiHintService), i0.ɵɵdirectiveInject(TUI_HINT_OPTIONS), i0.ɵɵdirectiveInject(TuiActiveZoneDirective, 8));\n  };\n  TuiHintDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", 5, \"ng-container\", 5, \"ng-template\"]],\n    inputs: {\n      tuiHint: \"tuiHint\",\n      context: [0, \"tuiHintContext\", \"context\"],\n      tuiHintAppearance: \"tuiHintAppearance\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsRectAccessor(TuiHintDirective), tuiAsVehicle(TuiHintDirective), {\n      provide: PolymorpheusComponent,\n      deps: [TUI_HINT_COMPONENT, INJECTOR],\n      useClass: PolymorpheusComponent\n    }])]\n  });\n  return TuiHintDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/* eslint-disable rxjs/no-unsafe-takeuntil */\nlet TuiHintHoverDirective = /*#__PURE__*/(() => {\n  class TuiHintHoverDirective extends TuiDriver {\n    constructor(hovered$, options, el, parent) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.hovered$ = hovered$;\n      this.options = options;\n      this.el = el;\n      this.parent = parent;\n      this.visible = false;\n      this.toggle$ = new Subject();\n      this.stream$ = merge(this.toggle$.pipe(switchMap(visible => of(visible).pipe(delay(visible ? 0 : this.hideDelay))), takeUntil(this.hovered$), repeat()), this.hovered$.pipe(switchMap(visible => of(visible).pipe(delay(visible ? this.showDelay : this.hideDelay))), takeUntil(this.toggle$), repeat())).pipe(filter(() => this.enabled), map(value => value && (this.el.nativeElement.hasAttribute('tuiHintPointer') || !tuiIsObscured(this.el.nativeElement))), tap(visible => {\n        this.visible = visible;\n      }));\n      this.showDelay = this.options.showDelay;\n      this.hideDelay = this.options.hideDelay;\n      this.type = 'hint';\n      this.enabled = true;\n    }\n    toggle(visible = !this.visible) {\n      var _a;\n      this.toggle$.next(visible);\n      (_a = this.parent) === null || _a === void 0 ? void 0 : _a.toggle(visible);\n    }\n  }\n  TuiHintHoverDirective.ɵfac = function TuiHintHoverDirective_Factory(t) {\n    return new (t || TuiHintHoverDirective)(i0.ɵɵdirectiveInject(TuiHoveredService), i0.ɵɵdirectiveInject(TUI_HINT_OPTIONS), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TuiHintHoverDirective, 12));\n  };\n  TuiHintHoverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintHoverDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", 5, \"ng-container\", 5, \"ng-template\"]],\n    inputs: {\n      showDelay: [0, \"tuiHintShowDelay\", \"showDelay\"],\n      hideDelay: [0, \"tuiHintHideDelay\", \"hideDelay\"]\n    },\n    exportAs: [\"tuiHintHover\"],\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiHintHoverDirective), TuiHoveredService]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintHoverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintPointerDirective = /*#__PURE__*/(() => {\n  class TuiHintPointerDirective extends TuiHintHoverDirective {\n    constructor() {\n      super(...arguments);\n      this.currentRect = EMPTY_CLIENT_RECT;\n    }\n    onMove({\n      clientX,\n      clientY\n    }) {\n      this.currentRect = tuiPointToClientRect(clientX, clientY);\n    }\n    getClientRect() {\n      return this.currentRect;\n    }\n  }\n  TuiHintPointerDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiHintPointerDirective_BaseFactory;\n    return function TuiHintPointerDirective_Factory(t) {\n      return (ɵTuiHintPointerDirective_BaseFactory || (ɵTuiHintPointerDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiHintPointerDirective)))(t || TuiHintPointerDirective);\n    };\n  })();\n  TuiHintPointerDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintPointerDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", \"tuiHintPointer\", \"\"]],\n    hostBindings: function TuiHintPointerDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousemove.silent\", function TuiHintPointerDirective_mousemove_silent_HostBindingHandler($event) {\n          return ctx.onMove($event);\n        });\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsRectAccessor(TuiHintPointerDirective), tuiAsDriver(TuiHintPointerDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintPointerDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst OFFSET = 8;\nconst ARROW_OFFSET = 22;\nconst TOP = 0;\nconst LEFT = 1;\nlet TuiHintPositionDirective = /*#__PURE__*/(() => {\n  class TuiHintPositionDirective extends TuiPositionAccessor {\n    constructor(options, viewport, directive, accessors) {\n      super();\n      this.options = options;\n      this.viewport = viewport;\n      this.directive = directive;\n      this.accessors = accessors;\n      this.points = TUI_HINT_DIRECTIONS.reduce((acc, direction) => Object.assign(Object.assign({}, acc), {\n        [direction]: [0, 0]\n      }), {});\n      this.direction = this.options.direction;\n      this.type = 'hint';\n    }\n    getPosition({\n      width,\n      height\n    }) {\n      var _a, _b;\n      const hostRect = (_b = (_a = this.accessor) === null || _a === void 0 ? void 0 : _a.getClientRect()) !== null && _b !== void 0 ? _b : EMPTY_CLIENT_RECT;\n      const leftCenter = hostRect.left + hostRect.width / 2;\n      const topCenter = hostRect.top + hostRect.height / 2;\n      this.points['top-left'][TOP] = hostRect.top - height - OFFSET;\n      this.points['top-left'][LEFT] = leftCenter - width + ARROW_OFFSET;\n      this.points.top[TOP] = this.points['top-left'][TOP];\n      this.points.top[LEFT] = leftCenter - width / 2;\n      this.points['top-right'][TOP] = this.points['top-left'][TOP];\n      this.points['top-right'][LEFT] = leftCenter - ARROW_OFFSET;\n      this.points['bottom-left'][TOP] = hostRect.bottom + OFFSET;\n      this.points['bottom-left'][LEFT] = this.points['top-left'][LEFT];\n      this.points.bottom[TOP] = this.points['bottom-left'][TOP];\n      this.points.bottom[LEFT] = this.points.top[LEFT];\n      this.points['bottom-right'][TOP] = this.points['bottom-left'][TOP];\n      this.points['bottom-right'][LEFT] = this.points['top-right'][LEFT];\n      this.points['left-top'][TOP] = topCenter - height + ARROW_OFFSET;\n      this.points['left-top'][LEFT] = hostRect.left - width - OFFSET;\n      this.points.left[TOP] = topCenter - height / 2;\n      this.points.left[LEFT] = this.points['left-top'][LEFT];\n      this.points['left-bottom'][TOP] = topCenter - ARROW_OFFSET;\n      this.points['left-bottom'][LEFT] = this.points['left-top'][LEFT];\n      this.points['right-top'][TOP] = this.points['left-top'][TOP];\n      this.points['right-top'][LEFT] = hostRect.right + OFFSET;\n      this.points.right[TOP] = this.points.left[TOP];\n      this.points.right[LEFT] = this.points['right-top'][LEFT];\n      this.points['right-bottom'][TOP] = this.points['left-bottom'][TOP];\n      this.points['right-bottom'][LEFT] = this.points['right-top'][LEFT];\n      if (this.checkPosition(this.points[this.direction], width, height)) {\n        return this.points[this.direction];\n      }\n      const direction = TUI_HINT_DIRECTIONS.find(direction => this.checkPosition(this.points[direction], width, height));\n      return this.points[direction || this.fallback];\n    }\n    get accessor() {\n      return tuiFallbackRectAccessor('hint')(this.accessors, this.directive);\n    }\n    get fallback() {\n      return this.points.top[TOP] > this.viewport.getClientRect().bottom - this.points.bottom[TOP] ? 'top' : 'bottom';\n    }\n    checkPosition([top, left], width, height) {\n      const viewport = this.viewport.getClientRect();\n      return top > OFFSET / 4 && left > OFFSET / 4 && top + height < viewport.bottom - OFFSET / 4 && left + width < viewport.right - OFFSET / 4;\n    }\n  }\n  TuiHintPositionDirective.ɵfac = function TuiHintPositionDirective_Factory(t) {\n    return new (t || TuiHintPositionDirective)(i0.ɵɵdirectiveInject(TUI_HINT_OPTIONS), i0.ɵɵdirectiveInject(TUI_VIEWPORT), i0.ɵɵdirectiveInject(TuiHintDirective), i0.ɵɵdirectiveInject(TuiRectAccessor));\n  };\n  TuiHintPositionDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintPositionDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", 5, \"ng-container\", 5, \"ng-template\"]],\n    inputs: {\n      direction: [0, \"tuiHintDirection\", \"direction\"]\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  __decorate([tuiPure], TuiHintPositionDirective.prototype, \"accessor\", null);\n  return TuiHintPositionDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst GAP = 4;\nlet TuiHintComponent = /*#__PURE__*/(() => {\n  class TuiHintComponent {\n    constructor(hovered$, position$, destroy$, animation, pointer, accessor, el, polymorpheus, hover, mode, vvs, viewport) {\n      var _a;\n      this.animation = animation;\n      this.pointer = pointer;\n      this.accessor = accessor;\n      this.el = el;\n      this.polymorpheus = polymorpheus;\n      this.hover = hover;\n      this.mode = mode;\n      this.vvs = vvs;\n      this.viewport = viewport;\n      this.appearance = this.polymorpheus.$implicit.appearance || ((_a = this.mode) === null || _a === void 0 ? void 0 : _a.mode);\n      position$.pipe(map(point => this.vvs.correct(point)), takeUntil(destroy$)).subscribe(([top, left]) => {\n        this.update(top, left);\n      });\n      hovered$.pipe(takeUntil(destroy$)).subscribe(hover => this.hover.toggle(hover));\n    }\n    get content() {\n      return this.polymorpheus.$implicit.content;\n    }\n    get context() {\n      return this.polymorpheus.$implicit.context;\n    }\n    onClick(target) {\n      if (!target.closest('tui-hint') && !this.hover.el.nativeElement.contains(target) || tuiIsObscured(this.hover.el.nativeElement)) {\n        this.hover.toggle(false);\n      }\n    }\n    update(top, left) {\n      if (!this.hover.el.nativeElement.isConnected) {\n        this.hover.toggle(false);\n        return;\n      }\n      const {\n        height,\n        width\n      } = this.el.nativeElement.getBoundingClientRect();\n      const {\n        style\n      } = this.el.nativeElement;\n      const rect = this.accessor.getClientRect();\n      const viewport = this.viewport.getClientRect();\n      if (rect === EMPTY_CLIENT_RECT) {\n        return;\n      }\n      const safeLeft = tuiClamp(left, GAP, viewport.width - width - GAP);\n      const [beakTop, beakLeft] = this.vvs.correct([rect.top + rect.height / 2 - top, rect.left + rect.width / 2 - safeLeft]);\n      style.top = tuiPx(top);\n      style.left = tuiPx(safeLeft);\n      style.setProperty('--top', tuiPx(tuiClamp(beakTop, 0.5, height - 1)));\n      style.setProperty('--left', tuiPx(tuiClamp(beakLeft, 0.5, width - 1)));\n    }\n  }\n  TuiHintComponent.ɵfac = function TuiHintComponent_Factory(t) {\n    return new (t || TuiHintComponent)(i0.ɵɵdirectiveInject(TuiHoveredService), i0.ɵɵdirectiveInject(TuiPositionService), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TUI_ANIMATION_OPTIONS), i0.ɵɵdirectiveInject(TuiHintPointerDirective, 8), i0.ɵɵdirectiveInject(TuiRectAccessor), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(POLYMORPHEUS_CONTEXT), i0.ɵɵdirectiveInject(TuiHintHoverDirective), i0.ɵɵdirectiveInject(TuiModeDirective, 8), i0.ɵɵdirectiveInject(TuiVisualViewportService), i0.ɵɵdirectiveInject(TUI_VIEWPORT));\n  };\n  TuiHintComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiHintComponent,\n    selectors: [[\"tui-hint\"]],\n    hostVars: 4,\n    hostBindings: function TuiHintComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function TuiHintComponent_click_HostBindingHandler($event) {\n          return ctx.onClick($event.target);\n        }, false, i0.ɵɵresolveDocument);\n      }\n      if (rf & 2) {\n        i0.ɵɵsyntheticHostProperty(\"@tuiFadeIn\", ctx.animation);\n        i0.ɵɵattribute(\"data-appearance\", ctx.appearance);\n        i0.ɵɵclassProp(\"_untouchable\", ctx.pointer);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPositionService, TuiHoveredService, tuiPositionAccessorFor('hint', TuiHintPositionDirective), tuiRectAccessorFor('hint', TuiHintDirective)])],\n    ngContentSelectors: _c0,\n    decls: 2,\n    vars: 2,\n    consts: [[3, \"innerHTML\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [3, \"innerHTML\"]],\n    template: function TuiHintComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵprojection(0);\n        i0.ɵɵtemplate(1, TuiHintComponent_span_1_Template, 1, 1, \"span\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.content)(\"polymorpheusOutletContext\", ctx.context);\n      }\n    },\n    dependencies: [i1.PolymorpheusOutletDirective],\n    styles: [\"[_nghost-%COMP%]{position:absolute;max-width:18rem;min-height:var(--tui-height-m);padding:.75rem 1rem;background:var(--tui-primary);border-radius:var(--tui-radius-l);color:var(--tui-primary-text);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;word-wrap:break-word;line-height:1.25rem}[_nghost-%COMP%]:before{content:\\\"\\\";position:absolute;top:var(--top);left:var(--left);width:.5rem;height:.5rem;border-radius:.125rem;box-sizing:border-box;background:inherit;transform:translate(-50%,-50%) rotate(45deg)}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-error-fill)}[data-appearance=onDark][_nghost-%COMP%]{background:var(--tui-elevation-02);color:var(--tui-text-01);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*=\\\"top\\\"]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}\"],\n    data: {\n      animation: [tuiFadeIn]\n    },\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiHintComponent.prototype, \"update\", null);\n  return TuiHintComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintDescribeDirective = /*#__PURE__*/(() => {\n  class TuiHintDescribeDirective extends TuiDriver {\n    constructor(zone, doc, el) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.zone = zone;\n      this.doc = doc;\n      this.el = el;\n      this.id$ = new ReplaySubject(1);\n      this.stream$ = this.id$.pipe(tuiIfMap(() => tuiTypedFromEvent(this.doc, 'keydown', {\n        capture: true\n      }), tuiIsPresent), switchMap(() => this.focused ? of(false) : merge(tuiTypedFromEvent(this.doc, 'keyup'), tuiTypedFromEvent(this.element, 'blur')).pipe(map(() => this.focused))), debounce(visible => visible ? timer(1000) : of(null)), startWith(false), distinctUntilChanged(), skip(1), tuiZoneOptimized(this.zone));\n      this.tuiHintDescribe = '';\n      this.type = 'hint';\n    }\n    ngOnChanges() {\n      this.id$.next(this.tuiHintDescribe);\n    }\n    get focused() {\n      return tuiIsNativeFocused(this.element);\n    }\n    get element() {\n      return this.doc.getElementById(this.tuiHintDescribe || '') || this.el.nativeElement;\n    }\n  }\n  TuiHintDescribeDirective.ɵfac = function TuiHintDescribeDirective_Factory(t) {\n    return new (t || TuiHintDescribeDirective)(i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiHintDescribeDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintDescribeDirective,\n    selectors: [[\"\", \"tuiHintDescribe\", \"\"]],\n    inputs: {\n      tuiHintDescribe: \"tuiHintDescribe\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiHintDescribeDirective)]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  __decorate([tuiPure], TuiHintDescribeDirective.prototype, \"element\", null);\n  return TuiHintDescribeDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintDriverDirective = /*#__PURE__*/(() => {\n  class TuiHintDriverDirective extends AbstractTuiDriverDirective {\n    // TODO: Figure out why this is necessary under nx test runner\n    constructor(destroy$, drivers, vehicles) {\n      super(destroy$, drivers, vehicles);\n      this.type = 'hint';\n    }\n  }\n  TuiHintDriverDirective.ɵfac = function TuiHintDriverDirective_Factory(t) {\n    return new (t || TuiHintDriverDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiDriver), i0.ɵɵdirectiveInject(TuiVehicle));\n  };\n  TuiHintDriverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintDriverDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", 5, \"ng-container\", 5, \"ng-template\"]],\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintDriverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintHostDirective = /*#__PURE__*/(() => {\n  class TuiHintHostDirective extends TuiRectAccessor {\n    constructor() {\n      super(...arguments);\n      this.type = 'hint';\n    }\n    getClientRect() {\n      var _a;\n      return ((_a = this.tuiHintHost) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) || EMPTY_CLIENT_RECT;\n    }\n  }\n  TuiHintHostDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiHintHostDirective_BaseFactory;\n    return function TuiHintHostDirective_Factory(t) {\n      return (ɵTuiHintHostDirective_BaseFactory || (ɵTuiHintHostDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiHintHostDirective)))(t || TuiHintHostDirective);\n    };\n  })();\n  TuiHintHostDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintHostDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", \"tuiHintHost\", \"\"]],\n    inputs: {\n      tuiHintHost: \"tuiHintHost\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsRectAccessor(TuiHintHostDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintHostDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintManualDirective = /*#__PURE__*/(() => {\n  class TuiHintManualDirective extends TuiDriver {\n    constructor(hover) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.stream$ = new BehaviorSubject(false);\n      this.tuiHintManual = false;\n      this.type = 'hint';\n      hover.enabled = false;\n    }\n    ngOnChanges() {\n      this.stream$.next(this.tuiHintManual);\n    }\n  }\n  TuiHintManualDirective.ɵfac = function TuiHintManualDirective_Factory(t) {\n    return new (t || TuiHintManualDirective)(i0.ɵɵdirectiveInject(TuiHintHoverDirective));\n  };\n  TuiHintManualDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintManualDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", \"tuiHintManual\", \"\"]],\n    inputs: {\n      tuiHintManual: \"tuiHintManual\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiHintManualDirective)]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  return TuiHintManualDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintUnstyledComponent = /*#__PURE__*/(() => {\n  class TuiHintUnstyledComponent {\n    constructor(context) {\n      this.context = context;\n    }\n  }\n  TuiHintUnstyledComponent.ɵfac = function TuiHintUnstyledComponent_Factory(t) {\n    return new (t || TuiHintUnstyledComponent)(i0.ɵɵdirectiveInject(POLYMORPHEUS_CONTEXT));\n  };\n  TuiHintUnstyledComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiHintUnstyledComponent,\n    selectors: [[\"ng-component\"]],\n    hostVars: 1,\n    hostBindings: function TuiHintUnstyledComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵsyntheticHostProperty(\"@tuiParentAnimation\", undefined);\n      }\n    },\n    decls: 1,\n    vars: 2,\n    consts: [[4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"]],\n    template: function TuiHintUnstyledComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiHintUnstyledComponent_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.context.$implicit.content)(\"polymorpheusOutletContext\", ctx.context);\n      }\n    },\n    dependencies: [i1.PolymorpheusOutletDirective],\n    encapsulation: 2,\n    data: {\n      animation: [TUI_PARENT_ANIMATION]\n    },\n    changeDetection: 0\n  });\n  return TuiHintUnstyledComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintUnstyledDirective = /*#__PURE__*/(() => {\n  class TuiHintUnstyledDirective {\n    constructor(templateRef, hint) {\n      hint.component = new PolymorpheusComponent(TuiHintUnstyledComponent);\n      hint.content = templateRef;\n    }\n  }\n  TuiHintUnstyledDirective.ɵfac = function TuiHintUnstyledDirective_Factory(t) {\n    return new (t || TuiHintUnstyledDirective)(i0.ɵɵdirectiveInject(TemplateRef), i0.ɵɵdirectiveInject(TuiHintDirective));\n  };\n  TuiHintUnstyledDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintUnstyledDirective,\n    selectors: [[\"ng-template\", \"tuiHint\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: POLYMORPHEUS_CONTEXT,\n      useValue: {\n        $implicit: {}\n      }\n    }])]\n  });\n  return TuiHintUnstyledDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintModule = /*#__PURE__*/(() => {\n  class TuiHintModule {}\n  TuiHintModule.ɵfac = function TuiHintModule_Factory(t) {\n    return new (t || TuiHintModule)();\n  };\n  TuiHintModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiHintModule\n  });\n  TuiHintModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule]]\n  });\n  return TuiHintModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_HINT_COMPONENT, TUI_HINT_DEFAULT_OPTIONS, TUI_HINT_OPTIONS, TuiHintComponent, TuiHintDescribeDirective, TuiHintDirective, TuiHintDriverDirective, TuiHintHostDirective, TuiHintHoverDirective, TuiHintManualDirective, TuiHintModule, TuiHintOptionsDirective, TuiHintPointerDirective, TuiHintPositionDirective, TuiHintUnstyledComponent, TuiHintUnstyledDirective, tuiHintOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { Optional, Directive, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, DefaultValueAccessor } from '@angular/forms';\nimport { TUI_VALUE_ACCESSOR } from '@taiga-ui/core/tokens';\nlet TuiMaskAccessorDirective = /*#__PURE__*/(() => {\n  class TuiMaskAccessorDirective {}\n  TuiMaskAccessorDirective.ɵfac = function TuiMaskAccessorDirective_Factory(t) {\n    return new (t || TuiMaskAccessorDirective)();\n  };\n  TuiMaskAccessorDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiMaskAccessorDirective,\n    selectors: [[\"input\", \"tuiMaskAccessor\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: NG_VALUE_ACCESSOR,\n      deps: [[new Optional(), TUI_VALUE_ACCESSOR], DefaultValueAccessor],\n      multi: true,\n      useFactory: (accessor, fallback) => accessor ? accessor[0] : fallback\n    }])]\n  });\n  return TuiMaskAccessorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @internal\n */\nlet TuiMaskAccessorModule = /*#__PURE__*/(() => {\n  class TuiMaskAccessorModule {}\n  TuiMaskAccessorModule.ɵfac = function TuiMaskAccessorModule_Factory(t) {\n    return new (t || TuiMaskAccessorModule)();\n  };\n  TuiMaskAccessorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiMaskAccessorModule\n  });\n  TuiMaskAccessorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiMaskAccessorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiMaskAccessorDirective, TuiMaskAccessorModule };\n","import { tuiCreateToken, tuiProvideOptions, tuiCreateTokenFromFactory, AbstractTuiController, TuiDestroyService, tuiWatch } from '@taiga-ui/cdk';\nimport * as i0 from '@angular/core';\nimport { forwardRef, Directive, Input, NgModule, InjectionToken, ChangeDetectorRef } from '@angular/core';\nimport { TUI_TEXTFIELD_APPEARANCE } from '@taiga-ui/core/tokens';\nimport { merge, NEVER } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nclass TuiTextfieldController {\n  constructor(change$, options, legacyAppearance, appearanceDirective, cleanerDirective, customContentDirective, iconDirective, iconLeftDirective, labelOutsideDirective, sizeDirective, prefixDirective, postfixDirective, fillerDirective) {\n    this.change$ = change$;\n    this.options = options;\n    this.legacyAppearance = legacyAppearance;\n    this.appearanceDirective = appearanceDirective;\n    this.cleanerDirective = cleanerDirective;\n    this.customContentDirective = customContentDirective;\n    this.iconDirective = iconDirective;\n    this.iconLeftDirective = iconLeftDirective;\n    this.labelOutsideDirective = labelOutsideDirective;\n    this.sizeDirective = sizeDirective;\n    this.prefixDirective = prefixDirective;\n    this.postfixDirective = postfixDirective;\n    this.fillerDirective = fillerDirective;\n  }\n  get appearance() {\n    return this.appearanceDirective.appearance || this.legacyAppearance;\n  }\n  get cleaner() {\n    return this.cleanerDirective.cleaner;\n  }\n  get customContent() {\n    return this.customContentDirective.customContent || '';\n  }\n  get icon() {\n    return this.iconDirective.icon;\n  }\n  get iconLeft() {\n    return this.iconLeftDirective.iconLeft;\n  }\n  get labelOutside() {\n    return this.labelOutsideDirective.labelOutside;\n  }\n  get size() {\n    return this.sizeDirective.size;\n  }\n  get prefix() {\n    return this.prefixDirective.prefix;\n  }\n  get postfix() {\n    return this.postfixDirective.postfix;\n  }\n  get filler() {\n    return this.fillerDirective.filler;\n  }\n}\n\n/** Default values for primitive textfield options */\nconst TUI_TEXTFIELD_DEFAULT_OPTIONS = {\n  iconCleaner: 'tuiIconClose',\n  hintOnDisabled: false\n};\n/**\n * Default parameters for textfield\n */\nconst TUI_TEXTFIELD_OPTIONS = tuiCreateToken(TUI_TEXTFIELD_DEFAULT_OPTIONS);\nfunction tuiTextfieldOptionsProvider(options) {\n  return tuiProvideOptions(TUI_TEXTFIELD_OPTIONS, options, TUI_TEXTFIELD_DEFAULT_OPTIONS);\n}\n\n// TODO: rename to TUI_TEXTFIELD_APPEARANCE in v4\nconst TUI_TEXTFIELD_APPEARANCE_DIRECTIVE = tuiCreateTokenFromFactory(() => new TuiTextfieldAppearanceDirective());\nlet TuiTextfieldAppearanceDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldAppearanceDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      // it's an empty string by default for backward compatibility\n      // (see comment https://github.com/taiga-family/taiga-ui/pull/3007#issuecomment-1315179508)\n      this.appearance = '';\n    }\n  }\n  TuiTextfieldAppearanceDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldAppearanceDirective_BaseFactory;\n    return function TuiTextfieldAppearanceDirective_Factory(t) {\n      return (ɵTuiTextfieldAppearanceDirective_BaseFactory || (ɵTuiTextfieldAppearanceDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldAppearanceDirective)))(t || TuiTextfieldAppearanceDirective);\n    };\n  })();\n  TuiTextfieldAppearanceDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldAppearanceDirective,\n    selectors: [[\"\", \"tuiTextfieldAppearance\", \"\"]],\n    inputs: {\n      appearance: [0, \"tuiTextfieldAppearance\", \"appearance\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_APPEARANCE_DIRECTIVE,\n      useExisting: forwardRef(() => TuiTextfieldAppearanceDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldAppearanceDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_CLEANER = tuiCreateTokenFromFactory(() => new TuiTextfieldCleanerDirective());\nlet TuiTextfieldCleanerDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldCleanerDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.cleaner = false;\n    }\n  }\n  TuiTextfieldCleanerDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldCleanerDirective_BaseFactory;\n    return function TuiTextfieldCleanerDirective_Factory(t) {\n      return (ɵTuiTextfieldCleanerDirective_BaseFactory || (ɵTuiTextfieldCleanerDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldCleanerDirective)))(t || TuiTextfieldCleanerDirective);\n    };\n  })();\n  TuiTextfieldCleanerDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldCleanerDirective,\n    selectors: [[\"\", \"tuiTextfieldCleaner\", \"\"]],\n    inputs: {\n      cleaner: [0, \"tuiTextfieldCleaner\", \"cleaner\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_CLEANER,\n      useExisting: forwardRef(() => TuiTextfieldCleanerDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldCleanerDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_CUSTOM_CONTENT = tuiCreateTokenFromFactory(() => new TuiTextfieldCustomContentDirective());\nlet TuiTextfieldCustomContentDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldCustomContentDirective extends AbstractTuiController {}\n  TuiTextfieldCustomContentDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldCustomContentDirective_BaseFactory;\n    return function TuiTextfieldCustomContentDirective_Factory(t) {\n      return (ɵTuiTextfieldCustomContentDirective_BaseFactory || (ɵTuiTextfieldCustomContentDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldCustomContentDirective)))(t || TuiTextfieldCustomContentDirective);\n    };\n  })();\n  TuiTextfieldCustomContentDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldCustomContentDirective,\n    selectors: [[\"\", \"tuiTextfieldCustomContent\", \"\"]],\n    inputs: {\n      customContent: [0, \"tuiTextfieldCustomContent\", \"customContent\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_CUSTOM_CONTENT,\n      useExisting: forwardRef(() => TuiTextfieldCustomContentDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldCustomContentDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_FILLER = tuiCreateTokenFromFactory(() => new TuiTextfieldFillerDirective());\nlet TuiTextfieldFillerDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldFillerDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.filler = '';\n    }\n  }\n  TuiTextfieldFillerDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldFillerDirective_BaseFactory;\n    return function TuiTextfieldFillerDirective_Factory(t) {\n      return (ɵTuiTextfieldFillerDirective_BaseFactory || (ɵTuiTextfieldFillerDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldFillerDirective)))(t || TuiTextfieldFillerDirective);\n    };\n  })();\n  TuiTextfieldFillerDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldFillerDirective,\n    selectors: [[\"\", \"tuiTextfieldFiller\", \"\"]],\n    inputs: {\n      filler: [0, \"tuiTextfieldFiller\", \"filler\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_FILLER,\n      useExisting: forwardRef(() => TuiTextfieldFillerDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldFillerDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_ICON = tuiCreateTokenFromFactory(() => new TuiTextfieldIconDirective());\nlet TuiTextfieldIconDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldIconDirective extends AbstractTuiController {}\n  TuiTextfieldIconDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldIconDirective_BaseFactory;\n    return function TuiTextfieldIconDirective_Factory(t) {\n      return (ɵTuiTextfieldIconDirective_BaseFactory || (ɵTuiTextfieldIconDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldIconDirective)))(t || TuiTextfieldIconDirective);\n    };\n  })();\n  TuiTextfieldIconDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldIconDirective,\n    selectors: [[\"\", \"tuiTextfieldIcon\", \"\"]],\n    inputs: {\n      icon: [0, \"tuiTextfieldIcon\", \"icon\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_ICON,\n      useExisting: forwardRef(() => TuiTextfieldIconDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldIconDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_ICON_LEFT = tuiCreateTokenFromFactory(() => new TuiTextfieldIconLeftDirective());\nlet TuiTextfieldIconLeftDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldIconLeftDirective extends AbstractTuiController {}\n  TuiTextfieldIconLeftDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldIconLeftDirective_BaseFactory;\n    return function TuiTextfieldIconLeftDirective_Factory(t) {\n      return (ɵTuiTextfieldIconLeftDirective_BaseFactory || (ɵTuiTextfieldIconLeftDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldIconLeftDirective)))(t || TuiTextfieldIconLeftDirective);\n    };\n  })();\n  TuiTextfieldIconLeftDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldIconLeftDirective,\n    selectors: [[\"\", \"tuiTextfieldIconLeft\", \"\"]],\n    inputs: {\n      iconLeft: [0, \"tuiTextfieldIconLeft\", \"iconLeft\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_ICON_LEFT,\n      useExisting: forwardRef(() => TuiTextfieldIconLeftDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldIconLeftDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_LABEL_OUTSIDE = tuiCreateTokenFromFactory(() => new TuiTextfieldLabelOutsideDirective());\nlet TuiTextfieldLabelOutsideDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldLabelOutsideDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.labelOutside = false;\n    }\n  }\n  TuiTextfieldLabelOutsideDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldLabelOutsideDirective_BaseFactory;\n    return function TuiTextfieldLabelOutsideDirective_Factory(t) {\n      return (ɵTuiTextfieldLabelOutsideDirective_BaseFactory || (ɵTuiTextfieldLabelOutsideDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldLabelOutsideDirective)))(t || TuiTextfieldLabelOutsideDirective);\n    };\n  })();\n  TuiTextfieldLabelOutsideDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldLabelOutsideDirective,\n    selectors: [[\"\", \"tuiTextfieldLabelOutside\", \"\"]],\n    inputs: {\n      labelOutside: [0, \"tuiTextfieldLabelOutside\", \"labelOutside\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_LABEL_OUTSIDE,\n      useExisting: forwardRef(() => TuiTextfieldLabelOutsideDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldLabelOutsideDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_POSTFIX = tuiCreateTokenFromFactory(() => new TuiTextfieldPostfixDirective());\nlet TuiTextfieldPostfixDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldPostfixDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.postfix = '';\n    }\n  }\n  TuiTextfieldPostfixDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldPostfixDirective_BaseFactory;\n    return function TuiTextfieldPostfixDirective_Factory(t) {\n      return (ɵTuiTextfieldPostfixDirective_BaseFactory || (ɵTuiTextfieldPostfixDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldPostfixDirective)))(t || TuiTextfieldPostfixDirective);\n    };\n  })();\n  TuiTextfieldPostfixDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldPostfixDirective,\n    selectors: [[\"\", \"tuiTextfieldPostfix\", \"\"]],\n    inputs: {\n      postfix: [0, \"tuiTextfieldPostfix\", \"postfix\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_POSTFIX,\n      useExisting: forwardRef(() => TuiTextfieldPostfixDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldPostfixDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_PREFIX = tuiCreateTokenFromFactory(() => new TuiTextfieldPrefixDirective());\nlet TuiTextfieldPrefixDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldPrefixDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.prefix = '';\n    }\n  }\n  TuiTextfieldPrefixDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldPrefixDirective_BaseFactory;\n    return function TuiTextfieldPrefixDirective_Factory(t) {\n      return (ɵTuiTextfieldPrefixDirective_BaseFactory || (ɵTuiTextfieldPrefixDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldPrefixDirective)))(t || TuiTextfieldPrefixDirective);\n    };\n  })();\n  TuiTextfieldPrefixDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldPrefixDirective,\n    selectors: [[\"\", \"tuiTextfieldPrefix\", \"\"]],\n    inputs: {\n      prefix: [0, \"tuiTextfieldPrefix\", \"prefix\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_PREFIX,\n      useExisting: forwardRef(() => TuiTextfieldPrefixDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldPrefixDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_SIZE = tuiCreateTokenFromFactory(() => new TuiTextfieldSizeDirective());\nlet TuiTextfieldSizeDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldSizeDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.size = 'l';\n    }\n  }\n  TuiTextfieldSizeDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldSizeDirective_BaseFactory;\n    return function TuiTextfieldSizeDirective_Factory(t) {\n      return (ɵTuiTextfieldSizeDirective_BaseFactory || (ɵTuiTextfieldSizeDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldSizeDirective)))(t || TuiTextfieldSizeDirective);\n    };\n  })();\n  TuiTextfieldSizeDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldSizeDirective,\n    selectors: [[\"\", \"tuiTextfieldSize\", \"\"]],\n    inputs: {\n      size: [0, \"tuiTextfieldSize\", \"size\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_SIZE,\n      useExisting: forwardRef(() => TuiTextfieldSizeDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldSizeDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTextfieldControllerModule = /*#__PURE__*/(() => {\n  class TuiTextfieldControllerModule {}\n  TuiTextfieldControllerModule.ɵfac = function TuiTextfieldControllerModule_Factory(t) {\n    return new (t || TuiTextfieldControllerModule)();\n  };\n  TuiTextfieldControllerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTextfieldControllerModule\n  });\n  TuiTextfieldControllerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiTextfieldControllerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_WATCHED_CONTROLLER = new InjectionToken('[TUI_TEXTFIELD_WATCHED_CONTROLLER]');\nconst TEXTFIELD_CONTROLLER_PROVIDER = [TuiDestroyService, {\n  provide: TUI_TEXTFIELD_WATCHED_CONTROLLER,\n  deps: [ChangeDetectorRef, TuiDestroyService, TUI_TEXTFIELD_OPTIONS, TUI_TEXTFIELD_APPEARANCE, TUI_TEXTFIELD_APPEARANCE_DIRECTIVE, TUI_TEXTFIELD_CLEANER, TUI_TEXTFIELD_CUSTOM_CONTENT, TUI_TEXTFIELD_ICON, TUI_TEXTFIELD_ICON_LEFT, TUI_TEXTFIELD_LABEL_OUTSIDE, TUI_TEXTFIELD_SIZE, TUI_TEXTFIELD_PREFIX, TUI_TEXTFIELD_POSTFIX, TUI_TEXTFIELD_FILLER],\n  useFactory: (cdr, destroy$, options, legacyAppearance, ...controllers) => {\n    const change$ = merge(...controllers.map(({\n      change$\n    }) => change$ || NEVER)).pipe(tuiWatch(cdr), takeUntil(destroy$));\n    change$.subscribe();\n    return new TuiTextfieldController(change$, options, legacyAppearance, ...controllers);\n  }\n}];\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TEXTFIELD_CONTROLLER_PROVIDER, TUI_TEXTFIELD_APPEARANCE_DIRECTIVE, TUI_TEXTFIELD_CLEANER, TUI_TEXTFIELD_CUSTOM_CONTENT, TUI_TEXTFIELD_DEFAULT_OPTIONS, TUI_TEXTFIELD_FILLER, TUI_TEXTFIELD_ICON, TUI_TEXTFIELD_ICON_LEFT, TUI_TEXTFIELD_LABEL_OUTSIDE, TUI_TEXTFIELD_OPTIONS, TUI_TEXTFIELD_POSTFIX, TUI_TEXTFIELD_PREFIX, TUI_TEXTFIELD_SIZE, TUI_TEXTFIELD_WATCHED_CONTROLLER, TuiTextfieldAppearanceDirective, TuiTextfieldCleanerDirective, TuiTextfieldController, TuiTextfieldControllerModule, TuiTextfieldCustomContentDirective, TuiTextfieldFillerDirective, TuiTextfieldIconDirective, TuiTextfieldIconLeftDirective, TuiTextfieldLabelOutsideDirective, TuiTextfieldPostfixDirective, TuiTextfieldPrefixDirective, TuiTextfieldSizeDirective, tuiTextfieldOptionsProvider };\n","import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { forwardRef, ElementRef, Component, ChangeDetectionStrategy, Inject, Optional, Self, Input, HostBinding, HostListener, ViewEncapsulation, ContentChildren, Directive, NgModule } from '@angular/core';\nimport { tuiIsNativeFocused, TUI_IS_MOBILE, EMPTY_QUERY, tuiQueryListChanges, tuiMoveFocus, tuiIsNativeFocusedIn, tuiSetNativeMouseFocused, tuiIsPresent, tuiIsElement, tuiPure } from '@taiga-ui/cdk';\nimport * as i3 from '@taiga-ui/core/directives';\nimport { TUI_TEXTFIELD_WATCHED_CONTROLLER, TEXTFIELD_CONTROLLER_PROVIDER } from '@taiga-ui/core/directives';\nimport { TUI_OPTION_CONTENT, TUI_DATA_LIST_HOST, TUI_COMMON_ICONS, TUI_NOTHING_FOUND_MESSAGE, tuiAsDataListAccessor } from '@taiga-ui/core/tokens';\nimport { map } from 'rxjs/operators';\nimport * as i5 from '@taiga-ui/core/directives/dropdown';\nimport { TuiDropdownDirective } from '@taiga-ui/core/directives/dropdown';\nimport { shouldCall } from '@tinkoff/ng-event-plugins';\nimport * as i1 from '@taiga-ui/core/components/svg';\nimport { TuiSvgModule } from '@taiga-ui/core/components/svg';\nimport * as i2 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as i1$1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from 'rxjs';\nconst _c0 = [\"tuiOption\", \"\"];\nconst _c1 = [\"*\"];\nconst _c2 = a0 => ({\n  $implicit: a0\n});\nfunction TuiOptionComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \"\\n\");\n  }\n}\nfunction TuiOptionComponent_ng_template_1_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 3);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r1.icons.more);\n  }\n}\nfunction TuiOptionComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0);\n    i0.ɵɵtemplate(1, TuiOptionComponent_ng_template_1_tui_svg_1_Template, 1, 1, \"tui-svg\", 2);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.dropdown);\n  }\n}\nfunction TuiDataListComponent_div_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nfunction TuiDataListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, TuiDataListComponent_div_2_ng_container_1_Template, 2, 1, \"ng-container\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.emptyContent || i0.ɵɵpipeBind1(2, 1, ctx_r1.defaultEmptyContent$));\n  }\n}\nfunction shouldFocus({\n  currentTarget\n}) {\n  return !this.isMobile && !tuiIsNativeFocused(currentTarget);\n}\n// TODO: Consider all use cases for aria roles\nlet TuiOptionComponent = /*#__PURE__*/(() => {\n  class TuiOptionComponent {\n    constructor(isMobile, content, dataList, el, host, dropdown, icons) {\n      this.isMobile = isMobile;\n      this.content = content;\n      this.dataList = dataList;\n      this.el = el;\n      this.host = host;\n      this.dropdown = dropdown;\n      this.icons = icons;\n      /** @deprecated use size on {@link TuiDataListComponent} instead */\n      this.size = null;\n      this.role = 'option';\n      this.disabled = false;\n    }\n    get active() {\n      return !!this.dropdown && !!this.dropdown.dropdownBoxRef;\n    }\n    onClick() {\n      if (this.host && this.value !== undefined) {\n        this.host.handleOption(this.value);\n      }\n    }\n    // @bad TODO: Consider aria-activedescendant for proper accessibility implementation\n    onMouseMove({\n      currentTarget\n    }) {\n      currentTarget.focus({\n        preventScroll: true\n      });\n    }\n    // Preventing focus loss upon focused option removal\n    ngOnDestroy() {\n      var _a;\n      (_a = this.dataList) === null || _a === void 0 ? void 0 : _a.handleFocusLossIfNecessary(this.el.nativeElement);\n    }\n  }\n  TuiOptionComponent.ɵfac = function TuiOptionComponent_Factory(t) {\n    return new (t || TuiOptionComponent)(i0.ɵɵdirectiveInject(TUI_IS_MOBILE), i0.ɵɵdirectiveInject(TUI_OPTION_CONTENT, 8), i0.ɵɵdirectiveInject(forwardRef(() => TuiDataListComponent), 8), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_DATA_LIST_HOST, 8), i0.ɵɵdirectiveInject(TuiDropdownDirective, 10), i0.ɵɵdirectiveInject(TUI_COMMON_ICONS));\n  };\n  TuiOptionComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiOptionComponent,\n    selectors: [[\"button\", \"tuiOption\", \"\"], [\"a\", \"tuiOption\", \"\"]],\n    hostAttrs: [\"tabIndex\", \"-1\", \"type\", \"button\"],\n    hostVars: 5,\n    hostBindings: function TuiOptionComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function TuiOptionComponent_click_HostBindingHandler() {\n          return ctx.onClick();\n        })(\"mousemove.silent\", function TuiOptionComponent_mousemove_silent_HostBindingHandler($event) {\n          return ctx.onMouseMove($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"disabled\", ctx.disabled || null)(\"data-size\", ctx.size)(\"role\", ctx.role);\n        i0.ɵɵclassProp(\"_with-dropdown\", ctx.active);\n      }\n    },\n    inputs: {\n      size: \"size\",\n      role: \"role\",\n      disabled: \"disabled\",\n      value: \"value\"\n    },\n    attrs: _c0,\n    ngContentSelectors: _c1,\n    decls: 3,\n    vars: 4,\n    consts: [[\"base\", \"\"], [4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"class\", \"t-arrow\", 3, \"src\", 4, \"ngIf\"], [1, \"t-arrow\", 3, \"src\"]],\n    template: function TuiOptionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiOptionComponent_ng_container_0_Template, 2, 1, \"ng-container\", 1)(1, TuiOptionComponent_ng_template_1_Template, 2, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const base_r3 = i0.ɵɵreference(2);\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.content || base_r3)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c2, base_r3));\n      }\n    },\n    dependencies: [i1.TuiSvgComponent, i2.PolymorpheusOutletDirective, i1$1.NgIf],\n    styles: [\"[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;justify-content:space-between;text-align:left;color:var(--tui-text-01);border-radius:var(--tui-radius-s);outline:none;cursor:pointer;background-clip:padding-box}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}[_nghost-%COMP%]:focus, ._with-dropdown[_nghost-%COMP%]{background-color:var(--tui-clear)}[_nghost-%COMP%]   [data-list-size=\\\"s\\\"][_nghost-%COMP%], [data-list-size=\\\"s\\\"]   [_nghost-%COMP%], [_nghost-%COMP%]   [data-list-size=\\\"xs\\\"][_nghost-%COMP%], [data-list-size=\\\"xs\\\"]   [_nghost-%COMP%], [data-size=s][data-size=s][_nghost-%COMP%], [data-size=xs][data-size=xs][_nghost-%COMP%]{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-s);min-height:2rem;padding:.3125rem .5rem}[_nghost-%COMP%]   [data-list-size=\\\"m\\\"][_nghost-%COMP%], [data-list-size=\\\"m\\\"]   [_nghost-%COMP%], [data-size=m][data-size=m][_nghost-%COMP%]{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-s);min-height:2.5rem;padding:.375rem .5rem}[_nghost-%COMP%]   [data-list-size=\\\"l\\\"][_nghost-%COMP%], [data-list-size=\\\"l\\\"]   [_nghost-%COMP%], [data-size=l][data-size=l][_nghost-%COMP%]{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-m);min-height:2.75rem;padding:.375rem .625rem}.t-arrow[_ngcontent-%COMP%]{margin:0 -.5rem 0 .75rem}\"],\n    changeDetection: 0\n  });\n  __decorate([shouldCall(shouldFocus)], TuiOptionComponent.prototype, \"onMouseMove\", null);\n  return TuiOptionComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// TODO: Consider aria-activedescendant for proper accessibility implementation\nlet TuiDataListComponent = /*#__PURE__*/(() => {\n  class TuiDataListComponent {\n    constructor(controller, el, defaultEmptyContent$) {\n      var _a;\n      this.controller = controller;\n      this.el = el;\n      this.defaultEmptyContent$ = defaultEmptyContent$;\n      this.options = EMPTY_QUERY;\n      this.role = 'listbox';\n      this.size = ((_a = this.controller) === null || _a === void 0 ? void 0 : _a.size) || 'm';\n    }\n    get empty$() {\n      return tuiQueryListChanges(this.options).pipe(map(({\n        length\n      }) => !length));\n    }\n    onFocusIn(relatedTarget, currentTarget) {\n      if (!currentTarget.contains(relatedTarget) && !this.origin) {\n        this.origin = relatedTarget;\n      }\n    }\n    noop() {}\n    onKeyDownArrow(current, step) {\n      const {\n        elements\n      } = this;\n      tuiMoveFocus(elements.indexOf(current), elements, step);\n    }\n    // TODO: Consider aria-activedescendant for proper accessibility implementation\n    handleFocusLossIfNecessary(element = this.el.nativeElement) {\n      if (this.origin && tuiIsNativeFocusedIn(element)) {\n        tuiSetNativeMouseFocused(this.origin, true, true);\n      }\n    }\n    getOptions(includeDisabled = false) {\n      return this.options.filter(({\n        disabled\n      }) => includeDisabled || !disabled).map(({\n        value\n      }) => value).filter(tuiIsPresent);\n    }\n    onFocus({\n      target\n    }, top) {\n      if (!tuiIsElement(target)) {\n        return;\n      }\n      const {\n        elements\n      } = this;\n      tuiMoveFocus(top ? -1 : elements.length, elements, top ? 1 : -1);\n      this.handleFocusLossIfNecessary(target);\n    }\n    get elements() {\n      return Array.from(this.el.nativeElement.querySelectorAll('[tuiOption]'));\n    }\n  }\n  TuiDataListComponent.ɵfac = function TuiDataListComponent_Factory(t) {\n    return new (t || TuiDataListComponent)(i0.ɵɵdirectiveInject(TUI_TEXTFIELD_WATCHED_CONTROLLER, 8), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_NOTHING_FOUND_MESSAGE));\n  };\n  TuiDataListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDataListComponent,\n    selectors: [[\"tui-data-list\"]],\n    contentQueries: function TuiDataListComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, TuiOptionComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.options = _t);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function TuiDataListComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"focusin\", function TuiDataListComponent_focusin_HostBindingHandler($event) {\n          return ctx.onFocusIn($event.relatedTarget, $event.currentTarget);\n        })(\"mousedown.prevent\", function TuiDataListComponent_mousedown_prevent_HostBindingHandler() {\n          return ctx.noop();\n        })(\"keydown.arrowDown.prevent\", function TuiDataListComponent_keydown_arrowDown_prevent_HostBindingHandler($event) {\n          return ctx.onKeyDownArrow($event.target, 1);\n        })(\"keydown.arrowUp.prevent\", function TuiDataListComponent_keydown_arrowUp_prevent_HostBindingHandler($event) {\n          return ctx.onKeyDownArrow($event.target, -1);\n        })(\"wheel.silent.passive\", function TuiDataListComponent_wheel_silent_passive_HostBindingHandler() {\n          return ctx.handleFocusLossIfNecessary();\n        })(\"mouseleave\", function TuiDataListComponent_mouseleave_HostBindingHandler($event) {\n          return ctx.handleFocusLossIfNecessary($event.target);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"role\", ctx.role)(\"data-list-size\", ctx.size);\n      }\n    },\n    inputs: {\n      role: \"role\",\n      emptyContent: \"emptyContent\",\n      size: \"size\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDataListAccessor(TuiDataListComponent), TEXTFIELD_CONTROLLER_PROVIDER])],\n    ngContentSelectors: _c1,\n    decls: 5,\n    vars: 3,\n    consts: [[\"tabindex\", \"0\", 1, \"t-trap\", 3, \"focusin\"], [\"class\", \"t-empty\", 4, \"ngIf\"], [1, \"t-empty\"], [4, \"polymorpheusOutlet\"]],\n    template: function TuiDataListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"focusin\", function TuiDataListComponent_Template_div_focusin_0_listener($event) {\n          return ctx.onFocus($event, true);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵprojection(1);\n        i0.ɵɵtemplate(2, TuiDataListComponent_div_2_Template, 3, 3, \"div\", 1);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementStart(4, \"div\", 0);\n        i0.ɵɵlistener(\"focusin\", function TuiDataListComponent_Template_div_focusin_4_listener($event) {\n          return ctx.onFocus($event, false);\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 1, ctx.empty$));\n      }\n    },\n    dependencies: [i1$1.NgIf, i2.PolymorpheusOutletDirective, i1$1.AsyncPipe],\n    styles: [\"tui-data-list{--tui-data-list-padding: .25rem;--tui-data-list-margin: .0625rem;display:flex;font:var(--tui-font-text-m);flex-direction:column;padding:calc(var(--tui-data-list-padding) - var(--tui-data-list-margin)) var(--tui-data-list-padding);color:var(--tui-text-03)}tui-data-list:focus-within .t-trap{display:none}tui-data-list:focus-within [tuiOption]._with-dropdown:not(:focus){background-color:transparent}tui-data-list[data-list-size=s]{--tui-data-list-margin: 0rem}tui-data-list[data-list-size=s]>.t-empty{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-s);min-height:2rem;padding:.3125rem .5rem}tui-data-list[data-list-size=m]>.t-empty{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-s);min-height:2.5rem;padding:.375rem .5rem}tui-data-list[data-list-size=l]{--tui-data-list-padding: .375rem;--tui-data-list-margin: .125rem}tui-data-list[data-list-size=l]>.t-empty{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-m);min-height:2.75rem;padding:.375rem .625rem}tui-opt-group{position:relative;display:flex;font:var(--tui-font-text-xs);color:var(--tui-text-02);flex-direction:column;line-height:1rem}tui-data-list[data-list-size=l] tui-opt-group{font:var(--tui-font-text-s);line-height:1.25rem}tui-data-list[data-list-size=l] tui-opt-group:before{padding-left:.625rem;padding-right:.625rem}tui-data-list[data-list-size=l] tui-opt-group:after{left:.625rem;right:.625rem}tui-opt-group:empty:before,tui-opt-group:empty:after{display:none}tui-opt-group:before{content:attr(data-label);padding:var(--tui-data-list-padding) .5rem var(--tui-data-list-padding);margin:var(--tui-data-list-margin) 0;white-space:normal;word-break:break-word}tui-opt-group:after{position:absolute;left:.5rem;right:.5rem;top:var(--tui-data-list-padding);height:1px;background:var(--tui-base-03)}tui-opt-group:not(:empty)~tui-opt-group:before{padding-top:calc(.75rem + var(--tui-data-list-padding))}tui-opt-group:not(:empty)~tui-opt-group[data-label=\\\"\\\"]:before,tui-opt-group:not(:empty)~tui-opt-group:not([data-label]):before{padding:var(--tui-data-list-padding) 0}tui-opt-group:not(:empty)~tui-opt-group:after{content:\\\"\\\"}tui-opt-group[data-label=\\\"\\\"]:before,tui-opt-group:not([data-label]):before{padding:0;margin:0}\\n\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiDataListComponent.prototype, \"empty$\", null);\n  return TuiDataListComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDataListDirective = /*#__PURE__*/(() => {\n  class TuiDataListDirective {}\n  TuiDataListDirective.ɵfac = function TuiDataListDirective_Factory(t) {\n    return new (t || TuiDataListDirective)();\n  };\n  TuiDataListDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDataListDirective,\n    selectors: [[\"ng-template\", \"tuiDataList\", \"\"]]\n  });\n  return TuiDataListDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction tuiAsDataList(useExisting) {\n  return {\n    provide: TuiDataListDirective,\n    useExisting\n  };\n}\nlet TuiOptGroupDirective = /*#__PURE__*/(() => {\n  class TuiOptGroupDirective {}\n  TuiOptGroupDirective.ɵfac = function TuiOptGroupDirective_Factory(t) {\n    return new (t || TuiOptGroupDirective)();\n  };\n  TuiOptGroupDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiOptGroupDirective,\n    selectors: [[\"tui-opt-group\"]],\n    hostAttrs: [\"role\", \"group\"],\n    hostVars: 1,\n    hostBindings: function TuiOptGroupDirective_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-label\", ctx.label);\n      }\n    },\n    inputs: {\n      label: \"label\"\n    }\n  });\n  return TuiOptGroupDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDataListModule = /*#__PURE__*/(() => {\n  class TuiDataListModule {}\n  TuiDataListModule.ɵfac = function TuiDataListModule_Factory(t) {\n    return new (t || TuiDataListModule)();\n  };\n  TuiDataListModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiDataListModule\n  });\n  TuiDataListModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiSvgModule, PolymorpheusModule]]\n  });\n  return TuiDataListModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiDataListComponent, TuiDataListDirective, TuiDataListModule, TuiOptGroupDirective, TuiOptionComponent, tuiAsDataList };\n","import * as i0 from '@angular/core';\nimport { Optional, SkipSelf, Directive, InjectionToken, Self, Inject, Input, EventEmitter, ElementRef, Component, ChangeDetectionStrategy, ContentChild, ViewChild, Output, HostListener, NgModule } from '@angular/core';\nimport { TuiPositionAccessor } from '@taiga-ui/core/abstract';\nimport * as i1$1 from '@taiga-ui/cdk';\nimport { TuiDestroyService, tuiTypedFromEvent, tuiGetActualTarget, tuiIsNativeKeyboardFocusable, tuiGetClosestFocusable, tuiIsNativeFocusedIn, tuiIsHTMLElement, tuiIsElementEditable, tuiIsElement, tuiAsFocusableItemAccessor, TuiActiveZoneDirective, TuiLetModule, TuiObscuredModule, TuiActiveZoneModule } from '@taiga-ui/cdk';\nimport * as i2 from '@taiga-ui/core/directives';\nimport { TuiDropdownDirective, TuiDropdownOpenDirective } from '@taiga-ui/core/directives';\nimport { takeUntil, map, switchMap, delay, skip, distinctUntilChanged, share } from 'rxjs/operators';\nimport * as i1 from 'rxjs';\nimport { BehaviorSubject, combineLatest, of, EMPTY, merge } from 'rxjs';\nimport { __decorate } from 'tslib';\nimport * as i3 from '@taiga-ui/core/directives/dropdown';\nimport { TuiDropdownHoverDirective, TuiDropdownDirective as TuiDropdownDirective$1, TuiDropdownModule, TuiDropdownOptionsDirective } from '@taiga-ui/core/directives/dropdown';\nimport { tuiIsEditingKey } from '@taiga-ui/core/utils/miscellaneous';\nimport { shouldCall } from '@tinkoff/ng-event-plugins';\nimport * as i5 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as i6 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nconst _c0 = [\"wrapper\"];\nconst _c1 = [\"*\"];\nconst _c2 = (a0, a1) => ({\n  $implicit: a0,\n  close: a1\n});\nfunction TuiHostedDropdownComponent_div_0_ng_template_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r4 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r4, \" \");\n  }\n}\nfunction TuiHostedDropdownComponent_div_0_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6, 2);\n    i0.ɵɵlistener(\"keydown\", function TuiHostedDropdownComponent_div_0_ng_template_3_Template_div_keydown_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onKeydown($event));\n    });\n    i0.ɵɵtemplate(2, TuiHostedDropdownComponent_div_0_ng_template_3_div_2_Template, 2, 1, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\");\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const activeZone_r5 = i0.ɵɵreference(1);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.content)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction2(2, _c2, activeZone_r5, ctx_r1.close));\n  }\n}\nfunction TuiHostedDropdownComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4, 0);\n    i0.ɵɵlistener(\"tuiActiveZoneChange\", function TuiHostedDropdownComponent_div_0_Template_div_tuiActiveZoneChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onActiveZone($event));\n    })(\"tuiObscured\", function TuiHostedDropdownComponent_div_0_Template_div_tuiObscured_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onHostObscured($event));\n    });\n    i0.ɵɵprojection(2);\n    i0.ɵɵtemplate(3, TuiHostedDropdownComponent_div_0_ng_template_3_Template, 4, 5, \"ng-template\", 5, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const isOpen_r6 = ctx.tuiLet;\n    const dropdown_r7 = i0.ɵɵreference(4);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"tuiDropdown\", dropdown_r7)(\"tuiDropdownManual\", isOpen_r6 && ctx_r1.canOpen)(\"tuiDropdownOpenMonitor\", isOpen_r6 && ctx_r1.canOpen)(\"tuiDropdownSided\", ctx_r1.sided)(\"tuiObscuredEnabled\", isOpen_r6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"polymorpheus\", ctx_r1.context);\n  }\n}\nlet TuiAccessorProxyDirective = /*#__PURE__*/(() => {\n  class TuiAccessorProxyDirective extends TuiPositionAccessor {\n    constructor() {\n      super(...arguments);\n      this.type = 'dummy';\n    }\n    getPosition() {\n      return [0, 0];\n    }\n  }\n  TuiAccessorProxyDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiAccessorProxyDirective_BaseFactory;\n    return function TuiAccessorProxyDirective_Factory(t) {\n      return (ɵTuiAccessorProxyDirective_BaseFactory || (ɵTuiAccessorProxyDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiAccessorProxyDirective)))(t || TuiAccessorProxyDirective);\n    };\n  })();\n  TuiAccessorProxyDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiAccessorProxyDirective,\n    selectors: [[\"\", \"tuiAccessorProxy\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TuiPositionAccessor,\n      multi: true,\n      deps: [[new Optional(), new SkipSelf(), TuiAccessorProxyDirective], TuiAccessorProxyDirective],\n      useFactory: (accessor, fallback) => accessor || fallback\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiAccessorProxyDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_HOSTED_DROPDOWN_COMPONENT = new InjectionToken('[TUI_HOSTED_DROPDOWN_COMPONENT]');\nlet TuiDropdownOpenMonitorDirective = /*#__PURE__*/(() => {\n  class TuiDropdownOpenMonitorDirective {\n    constructor(destroy$, hosted, dropdown, open) {\n      this.hosted = hosted;\n      this.open = open;\n      if ((open === null || open === void 0 ? void 0 : open.dropdown) === dropdown) {\n        open.tuiDropdownOpenChange.pipe(takeUntil(destroy$)).subscribe(value => {\n          var _a;\n          if (value) {\n            (_a = hosted.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.focus();\n          }\n          hosted.updateOpen(value);\n        });\n      }\n    }\n    set tuiDropdownOpenMonitor(open) {\n      var _a;\n      (_a = this.open) === null || _a === void 0 ? void 0 : _a.update(open);\n      this.hosted.updateOpen(open);\n    }\n  }\n  TuiDropdownOpenMonitorDirective.ɵfac = function TuiDropdownOpenMonitorDirective_Factory(t) {\n    return new (t || TuiDropdownOpenMonitorDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TUI_HOSTED_DROPDOWN_COMPONENT), i0.ɵɵdirectiveInject(TuiDropdownDirective, 2), i0.ɵɵdirectiveInject(TuiDropdownOpenDirective, 8));\n  };\n  TuiDropdownOpenMonitorDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownOpenMonitorDirective,\n    selectors: [[\"\", \"tuiDropdownOpenMonitor\", \"\"]],\n    inputs: {\n      tuiDropdownOpenMonitor: \"tuiDropdownOpenMonitor\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])]\n  });\n  return TuiDropdownOpenMonitorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHostedDropdownConnectorDirective = /*#__PURE__*/(() => {\n  class TuiHostedDropdownConnectorDirective {}\n  TuiHostedDropdownConnectorDirective.ɵfac = function TuiHostedDropdownConnectorDirective_Factory(t) {\n    return new (t || TuiHostedDropdownConnectorDirective)();\n  };\n  TuiHostedDropdownConnectorDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHostedDropdownConnectorDirective,\n    selectors: [[\"\", \"tuiHostedDropdownHost\", \"\"]]\n  });\n  return TuiHostedDropdownConnectorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction shouldClose(event) {\n  var _a;\n  return 'key' in event && event.key.toLowerCase() === 'escape' && this.canOpen && this.open && !((_a = this.dropdown) === null || _a === void 0 ? void 0 : _a.nextElementSibling);\n}\nlet TuiHostedDropdownComponent = /*#__PURE__*/(() => {\n  class TuiHostedDropdownComponent {\n    constructor(hover$, el) {\n      this.hover$ = hover$;\n      this.el = el;\n      this.openChange$ = new BehaviorSubject(false);\n      this.hostHover$ = combineLatest([tuiTypedFromEvent(this.el.nativeElement, 'mouseover').pipe(map(e => this.computedHost.contains(tuiGetActualTarget(e))), switchMap(visible => {\n        var _a, _b;\n        return of(visible).pipe(delay((visible ? (_a = this.hover$) === null || _a === void 0 ? void 0 : _a.showDelay : (_b = this.hover$) === null || _b === void 0 ? void 0 : _b.hideDelay) || 0));\n      })), this.hover$ || EMPTY]).pipe(map(([visible, hovered]) => visible && hovered));\n      this.sided = false;\n      this.canOpen = true;\n      this.open$ = merge(this.openChange$, this.hostHover$).pipe(skip(1), distinctUntilChanged(), share());\n      this.focusedChange = new EventEmitter();\n      /** TODO: rename in 4.0 */\n      this.openChange = this.openChange$;\n      this.close = () => this.updateOpen(false);\n    }\n    set open(open) {\n      this.openChange.next(open);\n    }\n    get open() {\n      return this.openChange.value;\n    }\n    get host() {\n      var _a;\n      return ((_a = this.dropdownHost) === null || _a === void 0 ? void 0 : _a.nativeElement) || this.el.nativeElement;\n    }\n    get computedHost() {\n      var _a;\n      return ((_a = this.dropdownHost) === null || _a === void 0 ? void 0 : _a.nativeElement) || this.nativeFocusableElement || this.el.nativeElement;\n    }\n    get dropdown() {\n      var _a, _b;\n      return (_b = (_a = this.dropdownDirective) === null || _a === void 0 ? void 0 : _a.dropdownBoxRef) === null || _b === void 0 ? void 0 : _b.location.nativeElement;\n    }\n    get nativeFocusableElement() {\n      return tuiIsNativeKeyboardFocusable(this.host) ? this.host : tuiGetClosestFocusable({\n        initial: this.host,\n        root: this.el.nativeElement\n      });\n    }\n    get focused() {\n      return tuiIsNativeFocusedIn(this.host) || this.open && !!this.wrapper && tuiIsNativeFocusedIn(this.wrapper.nativeElement);\n    }\n    onFocusInOut() {\n      this.el.nativeElement.classList.toggle('_hosted_dropdown_focused', this.focused);\n    }\n    onFocusIn(target) {\n      if (!this.computedHost.contains(target)) {\n        this.updateOpen(false);\n      }\n    }\n    onClick(target) {\n      var _a;\n      if (!this.hostEditable && this.computedHost.contains(target) && !((_a = this.hover$) === null || _a === void 0 ? void 0 : _a.hovered)) {\n        this.updateOpen(!this.open);\n      }\n    }\n    onKeyDownEsc(event) {\n      event.preventDefault();\n      this.closeDropdown();\n    }\n    onArrow(event, down) {\n      this.focusDropdown(event, down);\n    }\n    onKeydown({\n      key,\n      target,\n      defaultPrevented\n    }) {\n      if (!defaultPrevented && tuiIsEditingKey(key) && this.hostEditable && tuiIsHTMLElement(target) && !tuiIsElementEditable(target)) {\n        this.focusHost();\n      }\n    }\n    onActiveZone(active) {\n      this.updateFocused(active);\n      if (!active) {\n        this.updateOpen(false);\n      }\n    }\n    onHostObscured(obscured) {\n      if (obscured) {\n        this.closeDropdown();\n      }\n    }\n    updateOpen(open) {\n      if (!open || this.canOpen) {\n        this.open = open;\n      }\n    }\n    get hostEditable() {\n      return tuiIsElementEditable(this.computedHost);\n    }\n    focusDropdown(event, first) {\n      const host = this.nativeFocusableElement;\n      if (!host || !tuiIsHTMLElement(host) || !tuiIsElement(event.target) || !host.contains(event.target)) {\n        return;\n      }\n      if (!this.wrapper || !this.open || !this.dropdown || !tuiIsHTMLElement(this.wrapper.nativeElement.nextElementSibling)) {\n        this.updateOpen(true);\n        if (!tuiIsElementEditable(host)) {\n          event.preventDefault();\n        }\n        return;\n      }\n      const initial = first ? this.wrapper.nativeElement : this.wrapper.nativeElement.nextElementSibling;\n      const focusable = tuiGetClosestFocusable({\n        initial,\n        root: this.wrapper.nativeElement,\n        previous: !first\n      });\n      if (!focusable) {\n        return;\n      }\n      focusable.focus();\n      event.preventDefault();\n    }\n    closeDropdown() {\n      if (this.focused) {\n        this.focusHost();\n      }\n      this.updateOpen(false);\n    }\n    focusHost() {\n      const host = this.nativeFocusableElement;\n      if (host) {\n        host.focus({\n          preventScroll: true\n        });\n      }\n    }\n    updateFocused(focused) {\n      this.focusedChange.emit(focused);\n    }\n  }\n  TuiHostedDropdownComponent.ɵfac = function TuiHostedDropdownComponent_Factory(t) {\n    return new (t || TuiHostedDropdownComponent)(i0.ɵɵdirectiveInject(TuiDropdownHoverDirective, 10), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiHostedDropdownComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiHostedDropdownComponent,\n    selectors: [[\"tui-hosted-dropdown\"]],\n    contentQueries: function TuiHostedDropdownComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, TuiHostedDropdownConnectorDirective, 5, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdownHost = _t.first);\n      }\n    },\n    viewQuery: function TuiHostedDropdownComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5, ElementRef);\n        i0.ɵɵviewQuery(TuiDropdownDirective$1, 5);\n        i0.ɵɵviewQuery(TuiActiveZoneDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.wrapper = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdownDirective = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.activeZone = _t.first);\n      }\n    },\n    hostBindings: function TuiHostedDropdownComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"focusin.capture.silent\", function TuiHostedDropdownComponent_focusin_capture_silent_HostBindingHandler() {\n          return ctx.onFocusInOut();\n        })(\"focusout.capture.silent\", function TuiHostedDropdownComponent_focusout_capture_silent_HostBindingHandler() {\n          return ctx.onFocusInOut();\n        })(\"focusin\", function TuiHostedDropdownComponent_focusin_HostBindingHandler($event) {\n          return ctx.onFocusIn($event.target);\n        })(\"click\", function TuiHostedDropdownComponent_click_HostBindingHandler($event) {\n          return ctx.onClick($event.target);\n        })(\"keydown.silent.capture\", function TuiHostedDropdownComponent_keydown_silent_capture_HostBindingHandler($event) {\n          return ctx.onKeyDownEsc($event);\n        }, false, i0.ɵɵresolveDocument)(\"keydown.arrowDown\", function TuiHostedDropdownComponent_keydown_arrowDown_HostBindingHandler($event) {\n          return ctx.onArrow($event, true);\n        })(\"keydown.arrowUp\", function TuiHostedDropdownComponent_keydown_arrowUp_HostBindingHandler($event) {\n          return ctx.onArrow($event, false);\n        });\n      }\n    },\n    inputs: {\n      content: \"content\",\n      sided: \"sided\",\n      canOpen: \"canOpen\",\n      open: \"open\"\n    },\n    outputs: {\n      open$: \"openChange\",\n      focusedChange: \"focusedChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiHostedDropdownComponent), {\n      provide: TuiAccessorProxyDirective,\n      deps: [[new Optional(), new Self(), TuiPositionAccessor]],\n      useFactory: position => position === null || position === void 0 ? void 0 : position[0]\n    }, {\n      provide: TUI_HOSTED_DROPDOWN_COMPONENT,\n      useExisting: TuiHostedDropdownComponent\n    }])],\n    ngContentSelectors: _c1,\n    decls: 2,\n    vars: 3,\n    consts: [[\"activeZone\", \"tuiActiveZone\"], [\"dropdown\", \"polymorpheus\"], [\"wrapper\", \"\"], [\"tuiAccessorProxy\", \"\", \"class\", \"t-wrapper\", 3, \"tuiDropdown\", \"tuiDropdownManual\", \"tuiDropdownOpenMonitor\", \"tuiDropdownSided\", \"tuiObscuredEnabled\", \"tuiActiveZoneChange\", \"tuiObscured\", 4, \"tuiLet\"], [\"tuiAccessorProxy\", \"\", 1, \"t-wrapper\", 3, \"tuiActiveZoneChange\", \"tuiObscured\", \"tuiDropdown\", \"tuiDropdownManual\", \"tuiDropdownOpenMonitor\", \"tuiDropdownSided\", \"tuiObscuredEnabled\"], [3, \"polymorpheus\"], [1, \"t-dropdown\", 3, \"keydown\"], [\"class\", \"t-primitive\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [1, \"t-primitive\"]],\n    template: function TuiHostedDropdownComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiHostedDropdownComponent_div_0_Template, 5, 6, \"div\", 3);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        i0.ɵɵproperty(\"tuiLet\", (tmp_0_0 = i0.ɵɵpipeBind1(1, 1, ctx.open$)) !== null && tmp_0_0 !== undefined ? tmp_0_0 : ctx.openChange.value);\n      }\n    },\n    dependencies: [i1$1.TuiLetDirective, TuiAccessorProxyDirective, i3.TuiDropdownDirective, i3.TuiDropdownDriverDirective, i3.TuiDropdownPositionDirective, i3.TuiDropdownManualDirective, TuiDropdownOpenMonitorDirective, i3.TuiDropdownPositionSidedDirective, i1$1.TuiActiveZoneDirective, i1$1.TuiObscuredDirective, i5.PolymorpheusTemplate, i5.PolymorpheusOutletDirective, i6.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{display:inline-flex}.t-wrapper[_ngcontent-%COMP%]{border-radius:inherit;height:inherit;flex:1 1 auto;width:100%}.t-dropdown[_ngcontent-%COMP%]{height:100%}.t-primitive[_ngcontent-%COMP%]{padding:1rem}\"],\n    changeDetection: 0\n  });\n  __decorate([shouldCall(shouldClose)], TuiHostedDropdownComponent.prototype, \"onKeyDownEsc\", null);\n  return TuiHostedDropdownComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHostedDropdownModule = /*#__PURE__*/(() => {\n  class TuiHostedDropdownModule {}\n  TuiHostedDropdownModule.ɵfac = function TuiHostedDropdownModule_Factory(t) {\n    return new (t || TuiHostedDropdownModule)();\n  };\n  TuiHostedDropdownModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiHostedDropdownModule\n  });\n  TuiHostedDropdownModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule, TuiLetModule, TuiObscuredModule, TuiActiveZoneModule, TuiDropdownModule]]\n  });\n  return TuiHostedDropdownModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiAccessorProxyDirective, TuiDropdownOpenMonitorDirective, TuiHostedDropdownComponent, TuiHostedDropdownConnectorDirective, TuiHostedDropdownModule };\n","import { TuiMonthPipe, tuiDropdownOptionsProvider, TUI_VALUE_ACCESSOR } from '@taiga-ui/core';\nimport { TUI_MONTH_FORMATTER } from '@taiga-ui/kit/tokens';\nimport { of, identity } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Optional, Self } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nconst TUI_MONTH_FORMATTER_PROVIDER = {\n  provide: TUI_MONTH_FORMATTER,\n  deps: [TuiMonthPipe],\n  useFactory: pipe => month => month ? pipe.transform(month).pipe(map(formatted => `${formatted} ${month.formattedYear}`)) : of('')\n};\nconst FIXED_DROPDOWN_CONTROLLER_PROVIDER = tuiDropdownOptionsProvider({\n  limitWidth: 'fixed',\n  align: 'right'\n});\nconst TUI_VALUE_ACCESSOR_PROVIDER = {\n  provide: TUI_VALUE_ACCESSOR,\n  deps: [[new Optional(), new Self(), NG_VALUE_ACCESSOR]],\n  useFactory: identity\n};\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FIXED_DROPDOWN_CONTROLLER_PROVIDER, TUI_MONTH_FORMATTER_PROVIDER, TUI_VALUE_ACCESSOR_PROVIDER };\n","import * as i0 from '@angular/core';\nimport { ChangeDetectorRef, Component, ChangeDetectionStrategy, Optional, Self, Inject, ViewChild, Input, NgModule } from '@angular/core';\nimport * as i3 from '@angular/forms';\nimport { NgControl, FormsModule } from '@angular/forms';\nimport * as i4 from '@taiga-ui/cdk';\nimport { AbstractTuiControl, tuiIsNativeFocused, tuiAsFocusableItemAccessor, TuiFocusableModule, TuiFocusedModule } from '@taiga-ui/cdk';\nimport { TUI_VALUE_ACCESSOR_PROVIDER } from '@taiga-ui/kit/providers';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i2 from '@taiga-ui/core';\nimport { TuiMaskAccessorModule } from '@taiga-ui/core';\nconst _c0 = [\"native\"];\nconst _c1 = [\"text\"];\nconst _c2 = [\"*\"];\nfunction TuiInputInlineComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵprojection(1);\n    i0.ɵɵelementEnd();\n  }\n}\nlet TuiInputInlineComponent = /*#__PURE__*/(() => {\n  class TuiInputInlineComponent extends AbstractTuiControl {\n    constructor(control, cdr) {\n      super(control, cdr);\n      this.maxLength = null;\n      this.indent = -1;\n    }\n    get nativeFocusableElement() {\n      return !this.native ? null : this.native.nativeElement;\n    }\n    get focused() {\n      return tuiIsNativeFocused(this.nativeFocusableElement);\n    }\n    get hasValue() {\n      return this.value !== '';\n    }\n    onValueChange(value) {\n      if (!this.text) {\n        return;\n      }\n      // Sync update so width is calculated immediately\n      this.text.nativeElement.textContent = value;\n      this.text.nativeElement.style.textIndent = '';\n      this.value = value;\n    }\n    onFocused(focused) {\n      this.updateFocused(focused);\n    }\n    onScroll() {\n      var _a;\n      const indent = ((_a = this.native) === null || _a === void 0 ? void 0 : _a.nativeElement.scrollLeft) || 0;\n      // -1 for Safari (see styles)\n      this.indent = -1 - indent;\n    }\n    getFallbackValue() {\n      return '';\n    }\n  }\n  TuiInputInlineComponent.ɵfac = function TuiInputInlineComponent_Factory(t) {\n    return new (t || TuiInputInlineComponent)(i0.ɵɵdirectiveInject(NgControl, 10), i0.ɵɵdirectiveInject(ChangeDetectorRef));\n  };\n  TuiInputInlineComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiInputInlineComponent,\n    selectors: [[\"tui-input-inline\"]],\n    viewQuery: function TuiInputInlineComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.native = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.text = _t.first);\n      }\n    },\n    inputs: {\n      maxLength: \"maxLength\"\n    },\n    features: [i0.ɵɵProvidersFeature([TUI_VALUE_ACCESSOR_PROVIDER, tuiAsFocusableItemAccessor(TuiInputInlineComponent)]), i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c2,\n    decls: 5,\n    vars: 10,\n    consts: [[\"text\", \"\"], [\"native\", \"\"], [1, \"t-before\", 3, \"textContent\"], [\"automation-id\", \"tui-input-inline__placeholder\", \"class\", \"t-placeholder\", 4, \"ngIf\"], [\"automation-id\", \"tui-input-inline__native\", \"tuiMaskAccessor\", \"\", \"type\", \"text\", 1, \"t-native\", 3, \"ngModelChange\", \"scroll\", \"tuiFocusedChange\", \"disabled\", \"id\", \"ngModel\", \"readOnly\", \"tuiFocusable\"], [\"automation-id\", \"tui-input-inline__placeholder\", 1, \"t-placeholder\"]],\n    template: function TuiInputInlineComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelement(0, \"span\", 2, 0);\n        i0.ɵɵtemplate(2, TuiInputInlineComponent_span_2_Template, 2, 0, \"span\", 3);\n        i0.ɵɵelementStart(3, \"input\", 4, 1);\n        i0.ɵɵlistener(\"ngModelChange\", function TuiInputInlineComponent_Template_input_ngModelChange_3_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onValueChange($event));\n        })(\"scroll\", function TuiInputInlineComponent_Template_input_scroll_3_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onScroll());\n        })(\"tuiFocusedChange\", function TuiInputInlineComponent_Template_input_tuiFocusedChange_3_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onFocused($event));\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"text-indent\", ctx.indent, \"px\");\n        i0.ɵɵproperty(\"textContent\", ctx.value);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.hasValue);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"disabled\", ctx.computedDisabled)(\"id\", ctx.id)(\"ngModel\", ctx.value)(\"readOnly\", ctx.readOnly)(\"tuiFocusable\", ctx.focusable);\n        i0.ɵɵattribute(\"maxLength\", ctx.maxLength);\n      }\n    },\n    dependencies: [i1.NgIf, i2.TuiMaskAccessorDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.TuiFocusableDirective, i4.TuiFocusedDirective],\n    styles: [\"[_nghost-%COMP%]{position:relative;display:inline-block;overflow:hidden;white-space:nowrap;box-sizing:border-box}.t-before[_ngcontent-%COMP%]{display:block;padding-right:.02em;margin-left:1px;white-space:pre}.t-placeholder[_ngcontent-%COMP%]{display:inline-block;min-width:1px}.t-native[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:transparent;padding:inherit;font:inherit;-webkit-text-fill-color:transparent;box-sizing:border-box;width:100%;height:100%;border-width:0;text-align:inherit;letter-spacing:inherit;text-indent:inherit;text-transform:inherit;outline:none}\"],\n    changeDetection: 0\n  });\n  return TuiInputInlineComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiInputInlineModule = /*#__PURE__*/(() => {\n  class TuiInputInlineModule {}\n  TuiInputInlineModule.ɵfac = function TuiInputInlineModule_Factory(t) {\n    return new (t || TuiInputInlineModule)();\n  };\n  TuiInputInlineModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiInputInlineModule\n  });\n  TuiInputInlineModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, FormsModule, TuiFocusableModule, TuiFocusedModule, TuiMaskAccessorModule]]\n  });\n  return TuiInputInlineModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiInputInlineComponent, TuiInputInlineModule };\n","import * as i0 from '@angular/core';\nimport { ChangeDetectorRef, Component, ChangeDetectionStrategy, Optional, Self, Inject, ViewChild, Input, HostBinding, NgModule } from '@angular/core';\nimport * as i5 from '@angular/forms';\nimport { NgControl } from '@angular/forms';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiCreateToken, tuiProvideOptions, AbstractTuiControl, tuiIsNativeFocused, tuiAsFocusableItemAccessor, tuiAsControl, TuiFocusedModule, TuiFocusableModule, TuiPressedModule, TuiFocusVisibleModule, TuiCheckedModule } from '@taiga-ui/cdk';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiAppearance, TuiModeDirective, TuiWrapperModule, TuiSvgModule, TuiLoaderModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\n\n/** Default values for the toggle options. */\nconst _c0 = [\"focusableElement\"];\nconst _c1 = a0 => ({\n  $implicit: a0\n});\nfunction TuiToggleComponent_tui_loader_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-loader\", 7);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"inheritColor\", true)(\"showLoader\", ctx_r1.value)(\"size\", ctx_r1.loaderSize);\n  }\n}\nfunction TuiToggleComponent_span_3_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 10);\n  }\n  if (rf & 2) {\n    const src_r3 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", src_r3);\n  }\n}\nfunction TuiToggleComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵtemplate(1, TuiToggleComponent_span_3_tui_svg_1_Template, 1, 1, \"tui-svg\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.iconOn)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c1, ctx_r1.size));\n  }\n}\nfunction TuiToggleComponent_tui_loader_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-loader\", 7);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"inheritColor\", true)(\"showLoader\", !ctx_r1.value)(\"size\", ctx_r1.loaderSize);\n  }\n}\nfunction TuiToggleComponent_span_6_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 12);\n  }\n  if (rf & 2) {\n    const src_r4 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", src_r4);\n  }\n}\nfunction TuiToggleComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵtemplate(1, TuiToggleComponent_span_6_tui_svg_1_Template, 1, 1, \"tui-svg\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.iconOff)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c1, ctx_r1.size));\n  }\n}\nconst TUI_TOGGLE_DEFAULT_OPTIONS = {\n  icons: {\n    toggleOff({\n      $implicit\n    }) {\n      return $implicit === 'm' ? 'tuiIconToggleOff' : 'tuiIconToggleOffLarge';\n    },\n    toggleOn({\n      $implicit\n    }) {\n      return $implicit === 'm' ? 'tuiIconToggleOn' : 'tuiIconToggleOnLarge';\n    }\n  },\n  appearances: {\n    checked: TuiAppearance.Primary,\n    unchecked: TuiAppearance.Secondary\n  },\n  singleColor: false,\n  showIcons: false,\n  size: 'm'\n};\n/**\n * Default parameters for Toggle component\n */\nconst TUI_TOGGLE_OPTIONS = tuiCreateToken(TUI_TOGGLE_DEFAULT_OPTIONS);\nfunction tuiToggleOptionsProvider(options) {\n  return tuiProvideOptions(TUI_TOGGLE_OPTIONS, options, TUI_TOGGLE_DEFAULT_OPTIONS);\n}\nlet TuiToggleComponent = /*#__PURE__*/(() => {\n  class TuiToggleComponent extends AbstractTuiControl {\n    constructor(control, cdr, modeDirective, options) {\n      super(control, cdr);\n      this.modeDirective = modeDirective;\n      this.options = options;\n      this.singleColor = this.options.singleColor;\n      this.showIcons = this.options.showIcons;\n      this.showLoader = false;\n      this.size = this.options.size;\n    }\n    get iconOn() {\n      return this.options.icons.toggleOn;\n    }\n    get iconOff() {\n      return this.options.icons.toggleOff;\n    }\n    get nativeFocusableElement() {\n      var _a, _b;\n      return (_b = (_a = this.focusableElement) === null || _a === void 0 ? void 0 : _a.nativeElement) !== null && _b !== void 0 ? _b : null;\n    }\n    get focused() {\n      return tuiIsNativeFocused(this.nativeFocusableElement);\n    }\n    get appearance() {\n      return this.singleColor || this.value ? this.options.appearances.checked : this.options.appearances.unchecked;\n    }\n    get sizeM() {\n      return this.size === 'm';\n    }\n    get loaderSize() {\n      return this.sizeM ? 'xs' : 's';\n    }\n    get hostMode() {\n      var _a, _b;\n      return (_b = (_a = this.modeDirective) === null || _a === void 0 ? void 0 : _a.mode) !== null && _b !== void 0 ? _b : null;\n    }\n    /** @deprecated use 'value' setter */\n    onChecked(checked) {\n      this.value = checked;\n    }\n    onFocused(focused) {\n      this.updateFocused(focused);\n    }\n    onFocusVisible(focusVisible) {\n      this.updateFocusVisible(focusVisible);\n    }\n    getFallbackValue() {\n      return false;\n    }\n  }\n  TuiToggleComponent.ɵfac = function TuiToggleComponent_Factory(t) {\n    return new (t || TuiToggleComponent)(i0.ɵɵdirectiveInject(NgControl, 10), i0.ɵɵdirectiveInject(ChangeDetectorRef), i0.ɵɵdirectiveInject(TuiModeDirective, 8), i0.ɵɵdirectiveInject(TUI_TOGGLE_OPTIONS));\n  };\n  TuiToggleComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiToggleComponent,\n    selectors: [[\"tui-toggle\"]],\n    viewQuery: function TuiToggleComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.focusableElement = _t.first);\n      }\n    },\n    hostVars: 4,\n    hostBindings: function TuiToggleComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-size\", ctx.size)(\"data-mode\", ctx.hostMode);\n        i0.ɵɵclassProp(\"_checked\", ctx.value);\n      }\n    },\n    inputs: {\n      singleColor: \"singleColor\",\n      showIcons: \"showIcons\",\n      showLoader: \"showLoader\",\n      size: \"size\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiToggleComponent), tuiAsControl(TuiToggleComponent)]), i0.ɵɵInheritDefinitionFeature],\n    decls: 9,\n    vars: 16,\n    consts: [[\"focusableElement\", \"\"], [\"tuiWrapper\", \"\", 3, \"active\", \"appearance\", \"disabled\", \"focus\", \"hover\", \"invalid\", \"readOnly\"], [1, \"t-toggle\"], [\"class\", \"t-loader\", 3, \"inheritColor\", \"showLoader\", \"size\", 4, \"ngIf\"], [\"class\", \"t-icon-wrapper\", 4, \"ngIf\"], [1, \"t-circle\"], [\"automation-id\", \"tui-toggle__checkbox\", \"role\", \"switch\", \"type\", \"checkbox\", 1, \"t-checkbox\", 3, \"tuiCheckedChange\", \"tuiFocusedChange\", \"tuiFocusVisibleChange\", \"disabled\", \"id\", \"tuiFocusable\", \"tuiChecked\"], [1, \"t-loader\", 3, \"inheritColor\", \"showLoader\", \"size\"], [1, \"t-icon-wrapper\"], [\"automation-id\", \"tui-toggle__check-icon\", \"class\", \"t-icon\", 3, \"src\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"automation-id\", \"tui-toggle__check-icon\", 1, \"t-icon\", 3, \"src\"], [\"automation-id\", \"tui-toggle__cancel-icon\", \"class\", \"t-icon t-icon_off\", 3, \"src\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"automation-id\", \"tui-toggle__cancel-icon\", 1, \"t-icon\", \"t-icon_off\", 3, \"src\"]],\n    template: function TuiToggleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2);\n        i0.ɵɵtemplate(2, TuiToggleComponent_tui_loader_2_Template, 1, 3, \"tui-loader\", 3)(3, TuiToggleComponent_span_3_Template, 2, 4, \"span\", 4);\n        i0.ɵɵelement(4, \"div\", 5);\n        i0.ɵɵtemplate(5, TuiToggleComponent_tui_loader_5_Template, 1, 3, \"tui-loader\", 3)(6, TuiToggleComponent_span_6_Template, 2, 4, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"input\", 6, 0);\n        i0.ɵɵtwoWayListener(\"tuiCheckedChange\", function TuiToggleComponent_Template_input_tuiCheckedChange_7_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.value, $event) || (ctx.value = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵlistener(\"tuiFocusedChange\", function TuiToggleComponent_Template_input_tuiFocusedChange_7_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onFocused($event));\n        })(\"tuiFocusVisibleChange\", function TuiToggleComponent_Template_input_tuiFocusVisibleChange_7_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onFocusVisible($event));\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"active\", ctx.pseudoActive)(\"appearance\", ctx.appearance)(\"disabled\", ctx.computedDisabled)(\"focus\", ctx.computedFocusVisible)(\"hover\", ctx.pseudoHover)(\"invalid\", ctx.computedInvalid)(\"readOnly\", ctx.readOnly);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showLoader);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.showIcons && !ctx.showLoader);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showLoader);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.showIcons && !ctx.showLoader);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"disabled\", ctx.disabled)(\"id\", ctx.id)(\"tuiFocusable\", ctx.focusable);\n        i0.ɵɵtwoWayProperty(\"tuiChecked\", ctx.value);\n        i0.ɵɵattribute(\"aria-checked\", ctx.value);\n      }\n    },\n    dependencies: [i1.TuiLoaderComponent, i1.TuiSvgComponent, i1.TuiWrapperDirective, i2.NgIf, i3.PolymorpheusOutletDirective, i4.TuiCheckedDirective, i4.TuiFocusableDirective, i4.TuiFocusedDirective, i4.TuiFocusVisibleDirective],\n    styles: [\"[_nghost-%COMP%]{position:relative;display:inline-block;vertical-align:middle;overflow:hidden;border-radius:6.25rem}[data-size=m][_nghost-%COMP%]{width:2rem;height:1rem}[data-size=l][_nghost-%COMP%]{width:3rem;height:1.5rem}.t-checkbox[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;height:100%;width:100%;opacity:0;cursor:pointer}.t-checkbox[_ngcontent-%COMP%]:-webkit-autofill, .t-checkbox[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-checkbox[_ngcontent-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}@supports (-webkit-touch-callout: none){.t-checkbox[_ngcontent-%COMP%]:active{font-size:1rem}}._disabled[_nghost-%COMP%]   .t-checkbox[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.t-toggle[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;align-items:center;justify-content:center}[data-size=m][_nghost-%COMP%]   .t-toggle[_ngcontent-%COMP%]{width:3rem;height:1rem;transform:translate(-1rem)}[data-size=l][_nghost-%COMP%]   .t-toggle[_ngcontent-%COMP%]{width:4.5rem;height:1.5rem;transform:translate(-1.5rem)}._checked[_nghost-%COMP%]   .t-toggle[_ngcontent-%COMP%]{transform:translate(0)}.t-circle[_ngcontent-%COMP%]{margin:.125rem 0;flex-shrink:0;border-radius:100%;background-color:var(--tui-base-01)}._disabled[_nghost-%COMP%]   .t-circle_light[_ngcontent-%COMP%]{opacity:.24}[data-size=m][_nghost-%COMP%]   .t-circle[_ngcontent-%COMP%]{width:.75rem;height:.75rem}[data-size=l][_nghost-%COMP%]   .t-circle[_ngcontent-%COMP%]{width:1rem;height:1rem}._disabled[_nghost-%COMP%]   .t-circle[_ngcontent-%COMP%]{background-color:var(--tui-base-01)}.t-loader[_ngcontent-%COMP%]{min-width:auto}[_nghost-%COMP%]:not(._checked)   .t-loader[_ngcontent-%COMP%]{color:var(--tui-base-06)}[_nghost-%COMP%]:not(._checked)._disabled   .t-loader[_ngcontent-%COMP%]{color:var(--tui-base-05)}[_nghost-%COMP%]:not(._checked)[data-mode=onDark]   .t-loader[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[_nghost-%COMP%]:not(._checked)[data-mode=onDark]._disabled   .t-loader[_ngcontent-%COMP%]{color:var(--tui-clear-inverse-active)}[_nghost-%COMP%]:not(._checked)[data-mode=onLight]   .t-loader[_ngcontent-%COMP%]{color:var(--tui-text-03)}[_nghost-%COMP%]:not(._checked)[data-mode=onLight]._disabled   .t-loader[_ngcontent-%COMP%]{color:var(--tui-clear-active)}[data-size=m][_nghost-%COMP%]   .t-loader[_ngcontent-%COMP%]{width:.75rem;margin:0 .2rem;transform:scale(.75)}[data-size=l][_nghost-%COMP%]   .t-loader[_ngcontent-%COMP%]{width:1rem;margin:0 .25rem}.t-icon-wrapper[_ngcontent-%COMP%]{display:flex}.t-icon[_ngcontent-%COMP%]{opacity:.8}.t-icon_off[_ngcontent-%COMP%]{color:var(--tui-base-06)}._disabled[_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-base-05)}[data-mode=onDark][_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark]._disabled[_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-clear-inverse-active)}[data-mode=onLight][_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-mode=onLight]._disabled[_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-clear-active)}[data-size=m][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;transform:scale(.75)}[data-size=l][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{margin:0 .125rem;width:1.5rem;height:1.5rem}[_nghost-%COMP%]:hover   .t-icon[_ngcontent-%COMP%]{opacity:1}\"],\n    changeDetection: 0\n  });\n  return TuiToggleComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiToggleModule = /*#__PURE__*/(() => {\n  class TuiToggleModule {}\n  TuiToggleModule.ɵfac = function TuiToggleModule_Factory(t) {\n    return new (t || TuiToggleModule)();\n  };\n  TuiToggleModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiToggleModule\n  });\n  TuiToggleModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiFocusedModule, TuiFocusableModule, TuiPressedModule, TuiFocusVisibleModule, TuiCheckedModule, TuiWrapperModule, TuiSvgModule, TuiLoaderModule, PolymorpheusModule]]\n  });\n  return TuiToggleModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_TOGGLE_DEFAULT_OPTIONS, TUI_TOGGLE_OPTIONS, TuiToggleComponent, TuiToggleModule, tuiToggleOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Input, Output, NgModule, Inject, HostListener } from '@angular/core';\nimport { tuiRgbToHex, tuiHexToRgb, TuiDestroyService, tuiRgbToHsv, tuiHsvToRgb, tuiRound, tuiPure, tuiDefaultSort, tuiParseColor, TuiActiveZoneModule } from '@taiga-ui/cdk';\nimport * as i1 from '@taiga-ui/kit';\nimport { TuiValueAccessorModule, TuiSelectModule, TuiInputNumberModule } from '@taiga-ui/kit';\nimport * as i2 from '@taiga-ui/core';\nimport { TuiPrimitiveTextfieldModule, TuiTextfieldControllerModule, TuiDropdownModule, TuiDataListModule, TuiHintModule, TuiButtonModule, TuiHostedDropdownModule, TuiSvgModule, TuiGroupModule } from '@taiga-ui/core';\nimport * as i3 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport * as i1$1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@maskito/angular';\nimport { MaskitoModule } from '@maskito/angular';\nimport { __decorate } from 'tslib';\nimport * as i3$1 from '@angular/platform-browser';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { TuiPickerService } from '@tinkoff/tui-editor/services';\nimport * as i1$2 from 'rxjs';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_COLOR_SELECTOR_MODE_NAMES } from '@tinkoff/tui-editor/tokens';\nimport { tuiParseGradient, tuiGetGradientData } from '@tinkoff/tui-editor/utils';\nfunction TuiColorEditComponent_tui_data_list_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r2, \" \");\n  }\n}\nfunction TuiColorEditComponent_tui_data_list_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\", 5);\n    i0.ɵɵtemplate(1, TuiColorEditComponent_tui_data_list_1_button_1_Template, 2, 2, \"button\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.modes);\n  }\n}\nfunction TuiColorEditComponent_tui_primitive_textfield_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-primitive-textfield\", 8);\n    i0.ɵɵlistener(\"valueChange\", function TuiColorEditComponent_tui_primitive_textfield_2_Template_tui_primitive_textfield_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onHexChange($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"maskito\", ctx_r2.hexMask)(\"tuiTextfieldLabelOutside\", true)(\"value\", ctx_r2.hex);\n  }\n}\nfunction TuiColorEditComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-input-number\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function TuiColorEditComponent_ng_template_3_Template_tui_input_number_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onRgbChange($event, ctx_r2.color[1], ctx_r2.color[2], ctx_r2.color[3]));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"tui-input-number\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function TuiColorEditComponent_ng_template_3_Template_tui_input_number_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onRgbChange(ctx_r2.color[0], $event, ctx_r2.color[2], ctx_r2.color[3]));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"tui-input-number\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function TuiColorEditComponent_ng_template_3_Template_tui_input_number_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onRgbChange(ctx_r2.color[0], ctx_r2.color[1], $event, ctx_r2.color[3]));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"max\", 255)(\"min\", 0)(\"ngModel\", ctx_r2.color[0])(\"tuiTextfieldLabelOutside\", true);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"max\", 255)(\"min\", 0)(\"ngModel\", ctx_r2.color[1])(\"tuiTextfieldLabelOutside\", true);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"max\", 255)(\"min\", 0)(\"ngModel\", ctx_r2.color[2])(\"tuiTextfieldLabelOutside\", true);\n  }\n}\nfunction TuiLinearMultiPickerComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵlistener(\"dblclick\", function TuiLinearMultiPickerComponent_div_0_Template_div_dblclick_0_listener() {\n      const index_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onClick(index_r2));\n    })(\"mousedown\", function TuiLinearMultiPickerComponent_div_0_Template_div_mousedown_0_listener() {\n      const index_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onMouseDown(index_r2));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"left\", item_r4 * 100, \"%\");\n  }\n}\nconst _c0 = \"[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.t-circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}\";\nfunction TuiPaletteComponent_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function TuiPaletteComponent_button_0_Template_button_click_0_listener() {\n      const color_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectedColor.emit(color_r2.value));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const color_r2 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"background\", color_r2.value);\n    i0.ɵɵproperty(\"id\", color_r2.key)(\"tuiHint\", color_r2.key)(\"tuiHintDescribe\", color_r2.key);\n  }\n}\nfunction TuiColorSelectorComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    const dropdown_r3 = i0.ɵɵreference(1);\n    i0.ɵɵclassProp(\"t-arrow_rotated\", dropdown_r3.open);\n    i0.ɵɵproperty(\"src\", ctx_r1.options.icons.colorSelectorDropdownChevron);\n  }\n}\nfunction TuiColorSelectorComponent_ng_template_6_button_1_tui_svg_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 14);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"src\", ctx_r1.options.icons.colorSelectorDropdownCheck);\n  }\n}\nfunction TuiColorSelectorComponent_ng_template_6_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TuiColorSelectorComponent_ng_template_6_button_1_Template_button_click_0_listener() {\n      const mode_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      const dropdown_r3 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r1.onModeSelect(mode_r5, dropdown_r3));\n    })(\"keydown.enter.prevent\", function TuiColorSelectorComponent_ng_template_6_button_1_Template_button_keydown_enter_prevent_0_listener() {\n      const mode_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      const dropdown_r3 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r1.onModeSelect(mode_r5, dropdown_r3));\n    })(\"keydown.space.prevent\", function TuiColorSelectorComponent_ng_template_6_button_1_Template_button_keydown_space_prevent_0_listener() {\n      const mode_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      const dropdown_r3 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r1.onModeSelect(mode_r5, dropdown_r3));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, TuiColorSelectorComponent_ng_template_6_button_1_tui_svg_2_Template, 1, 1, \"tui-svg\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mode_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"aria-checked\", ctx_r1.isModeActive(mode_r5));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", mode_r5, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isModeActive(mode_r5));\n  }\n}\nfunction TuiColorSelectorComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\", 10);\n    i0.ɵɵtemplate(1, TuiColorSelectorComponent_ng_template_6_button_1_Template, 3, 3, \"button\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.modes);\n  }\n}\nfunction TuiColorSelectorComponent_ng_container_8_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function TuiColorSelectorComponent_ng_container_8_button_5_Template_button_click_0_listener() {\n      const button_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onDirectionChange(button_r8));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const button_r8 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"t-direction_active\", ctx_r1.isDirectionActive(button_r8));\n    i0.ɵɵproperty(\"icon\", ctx_r1.getIcon(button_r8))(\"tuiHint\", button_r8);\n  }\n}\nfunction TuiColorSelectorComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"hr\", 15);\n    i0.ɵɵelementStart(2, \"div\", 16)(3, \"tui-linear-multi-picker\", 17);\n    i0.ɵɵlistener(\"indexChange\", function TuiColorSelectorComponent_ng_container_8_Template_tui_linear_multi_picker_indexChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onIndexChange($event));\n    })(\"valueChange\", function TuiColorSelectorComponent_ng_container_8_Template_tui_linear_multi_picker_valueChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onStopsChange($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 18);\n    i0.ɵɵtemplate(5, TuiColorSelectorComponent_ng_container_8_button_5_Template, 1, 4, \"button\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background\", ctx_r1.gradient);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"value\", ctx_r1.stopsKeys);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.buttons);\n  }\n}\nfunction TuiColorSelectorComponent_tui_color_edit_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-color-edit\", 21);\n    i0.ɵɵlistener(\"colorChange\", function TuiColorSelectorComponent_tui_color_edit_10_Template_tui_color_edit_colorChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onColorChange($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"color\", ctx_r1.color);\n  }\n}\nfunction TuiColorSelectorComponent_tui_palette_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-palette\", 22);\n    i0.ɵɵlistener(\"selectedColor\", function TuiColorSelectorComponent_tui_palette_11_Template_tui_palette_selectedColor_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPalettePick($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"colors\", ctx_r1.palette);\n  }\n}\nconst HEX_MODE_LENGTH = 6;\nlet TuiColorEditComponent = /*#__PURE__*/(() => {\n  class TuiColorEditComponent {\n    constructor() {\n      this.color = [0, 0, 0, 1];\n      this.colorChange = new EventEmitter();\n      this.hexMask = {\n        mask: new RegExp(`^[A-F\\\\d]{0,${HEX_MODE_LENGTH}}$`, 'gi')\n      };\n      this.modes = ['HEX', 'RGB'];\n      this.mode = this.modes[0];\n    }\n    get isHex() {\n      return this.mode === this.modes[0];\n    }\n    get hex() {\n      return tuiRgbToHex(this.color[0], this.color[1], this.color[2]).replace('#', '');\n    }\n    get opacity() {\n      return Math.round(this.color[3] * 100);\n    }\n    onHexChange(hex) {\n      if (hex.length !== HEX_MODE_LENGTH) {\n        return;\n      }\n      const rgb = tuiHexToRgb(hex);\n      this.updateColor([rgb[0], rgb[1], rgb[2], this.color[3]]);\n    }\n    onRgbChange(...rgba) {\n      this.updateColor(rgba);\n    }\n    updateColor(color) {\n      this.color = color;\n      this.colorChange.emit(color);\n    }\n  }\n  TuiColorEditComponent.ɵfac = function TuiColorEditComponent_Factory(t) {\n    return new (t || TuiColorEditComponent)();\n  };\n  TuiColorEditComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiColorEditComponent,\n    selectors: [[\"tui-color-edit\"]],\n    inputs: {\n      color: \"color\"\n    },\n    outputs: {\n      colorChange: \"colorChange\"\n    },\n    decls: 6,\n    vars: 8,\n    consts: [[\"rgb\", \"\"], [\"tuiDropdownAlign\", \"left\", \"tuiDropdownLimitWidth\", \"min\", \"tuiTextfieldSize\", \"m\", 1, \"t-select\", \"tui-group__auto-width-item\", 3, \"ngModelChange\", \"tuiTextfieldLabelOutside\", \"ngModel\"], [\"size\", \"s\", 4, \"tuiDataList\"], [\"tuiTextfieldSize\", \"m\", \"tuiValueAccessor\", \"\", 3, \"maskito\", \"tuiTextfieldLabelOutside\", \"value\", \"valueChange\", 4, \"ngIf\", \"ngIfElse\"], [\"decimal\", \"never\", \"tuiTextfieldPostfix\", \"%\", \"tuiTextfieldSize\", \"m\", 1, \"t-opacity\", \"tui-group__auto-width-item\", 3, \"ngModelChange\", \"max\", \"min\", \"ngModel\", \"tuiTextfieldLabelOutside\"], [\"size\", \"s\"], [\"tuiOption\", \"\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"value\"], [\"tuiTextfieldSize\", \"m\", \"tuiValueAccessor\", \"\", 3, \"valueChange\", \"maskito\", \"tuiTextfieldLabelOutside\", \"value\"], [\"decimal\", \"never\", \"tuiTextfieldSize\", \"m\", 1, \"t-rgb\", 3, \"ngModelChange\", \"max\", \"min\", \"ngModel\", \"tuiTextfieldLabelOutside\"]],\n    template: function TuiColorEditComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"tui-select\", 1);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function TuiColorEditComponent_Template_tui_select_ngModelChange_0_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.mode, $event) || (ctx.mode = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵtemplate(1, TuiColorEditComponent_tui_data_list_1_Template, 2, 1, \"tui-data-list\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, TuiColorEditComponent_tui_primitive_textfield_2_Template, 1, 3, \"tui-primitive-textfield\", 3)(3, TuiColorEditComponent_ng_template_3_Template, 3, 12, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(5, \"tui-input-number\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function TuiColorEditComponent_Template_tui_input_number_ngModelChange_5_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onRgbChange(ctx.color[0], ctx.color[1], ctx.color[2], $event / 100));\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const rgb_r6 = i0.ɵɵreference(4);\n        i0.ɵɵproperty(\"tuiTextfieldLabelOutside\", true);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.mode);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isHex)(\"ngIfElse\", rgb_r6);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"max\", 100)(\"min\", 0)(\"ngModel\", ctx.opacity)(\"tuiTextfieldLabelOutside\", true);\n      }\n    },\n    dependencies: [i1.TuiSelectComponent, i2.TuiDataListComponent, i2.TuiOptionComponent, i2.TuiPrimitiveTextfieldComponent, i1.TuiInputNumberComponent, i1.TuiSelectDirective, i2.TuiDropdownOptionsDirective, i2.TuiTextfieldSizeDirective, i2.TuiTextfieldLabelOutsideDirective, i3.NgControlStatus, i3.NgModel, i2.TuiDataListDirective, i1$1.NgForOf, i1$1.NgIf, i2.TuiPrimitiveTextfieldDirective, i1.TuiValueAccessorDirective, i5.MaskitoDirective, i1.TuiInputNumberDirective, i2.TuiTextfieldPostfixDirective],\n    styles: [\"[_nghost-%COMP%]{display:flex}.t-select[_ngcontent-%COMP%]{width:5.875rem}.t-opacity[_ngcontent-%COMP%]{width:4.275rem}.t-rgb[_ngcontent-%COMP%], .t-opacity[_ngcontent-%COMP%]{text-align:center}\"],\n    changeDetection: 0\n  });\n  return TuiColorEditComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiColorEditModule = /*#__PURE__*/(() => {\n  class TuiColorEditModule {}\n  TuiColorEditModule.ɵfac = function TuiColorEditModule_Factory(t) {\n    return new (t || TuiColorEditModule)();\n  };\n  TuiColorEditModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiColorEditModule\n  });\n  TuiColorEditModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, FormsModule, MaskitoModule, TuiValueAccessorModule, TuiSelectModule, TuiPrimitiveTextfieldModule, TuiTextfieldControllerModule, TuiDropdownModule, TuiDataListModule, TuiInputNumberModule]]\n  });\n  return TuiColorEditModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFlatPickerComponent = /*#__PURE__*/(() => {\n  class TuiFlatPickerComponent {\n    constructor(point$) {\n      this.value = [0, 0];\n      this.valueChange = new EventEmitter();\n      point$.subscribe(point => {\n        this.value = point;\n        this.valueChange.emit([point[0], point[1]]);\n      });\n    }\n    get left() {\n      return this.value[0] * 100;\n    }\n    get top() {\n      return this.value[1] * 100;\n    }\n  }\n  TuiFlatPickerComponent.ɵfac = function TuiFlatPickerComponent_Factory(t) {\n    return new (t || TuiFlatPickerComponent)(i0.ɵɵdirectiveInject(TuiPickerService));\n  };\n  TuiFlatPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiFlatPickerComponent,\n    selectors: [[\"tui-flat-picker\"]],\n    inputs: {\n      value: \"value\"\n    },\n    outputs: {\n      valueChange: \"valueChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPickerService])],\n    decls: 1,\n    vars: 4,\n    consts: [[1, \"t-circle\"]],\n    template: function TuiFlatPickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"left\", ctx.left, \"%\")(\"top\", ctx.top, \"%\");\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{position:relative;display:block}.t-circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:-.5rem 0 0 -.5rem;box-shadow:inset 0 0 0 1px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}\"],\n    changeDetection: 0\n  });\n  return TuiFlatPickerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinearPickerComponent = /*#__PURE__*/(() => {\n  class TuiLinearPickerComponent {\n    constructor(point$) {\n      this.value = 0;\n      this.valueChange = new EventEmitter();\n      point$.subscribe(([x]) => {\n        this.value = x;\n        this.valueChange.emit(x);\n      });\n    }\n    get left() {\n      return this.value * 100;\n    }\n  }\n  TuiLinearPickerComponent.ɵfac = function TuiLinearPickerComponent_Factory(t) {\n    return new (t || TuiLinearPickerComponent)(i0.ɵɵdirectiveInject(TuiPickerService));\n  };\n  TuiLinearPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiLinearPickerComponent,\n    selectors: [[\"tui-linear-picker\"]],\n    inputs: {\n      value: \"value\"\n    },\n    outputs: {\n      valueChange: \"valueChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPickerService])],\n    decls: 1,\n    vars: 2,\n    consts: [[1, \"t-circle\"]],\n    template: function TuiLinearPickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"left\", ctx.left, \"%\");\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.t-circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}\"],\n    changeDetection: 0\n  });\n  return TuiLinearPickerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiColorPickerComponent = /*#__PURE__*/(() => {\n  class TuiColorPickerComponent {\n    constructor(sanitizer) {\n      this.sanitizer = sanitizer;\n      this.colorChange = new EventEmitter();\n      this.point = [0, 1];\n      this.hue = 0;\n      this.opacity = 1;\n    }\n    set color(color) {\n      if (this.currentColor.every((item, index) => item === color[index]) && color[3] === this.opacity) {\n        return;\n      }\n      const [h, s, v] = tuiRgbToHsv(color[0], color[1], color[2]);\n      this.opacity = color[3];\n      this.hue = h / 360;\n      this.point = [s, 1 - v / 255];\n    }\n    get currentColor() {\n      return this.getCurrentColor(this.hue, this.point);\n    }\n    get base() {\n      return `rgb(${tuiHsvToRgb(this.hue * 360, 1, 255)})`;\n    }\n    get gradient() {\n      return this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to right, rgba(${this.currentColor.join(',')}, 0), rgb(${this.currentColor.join(',')}))`);\n    }\n    onPointChange(point) {\n      this.point = point;\n      this.updateColor();\n    }\n    onHueChange(hue) {\n      this.hue = hue;\n      this.updateColor();\n    }\n    onOpacityChange(opacity) {\n      this.opacity = tuiRound(opacity, 2);\n      this.updateColor();\n    }\n    getCurrentColor(hue, point) {\n      return tuiHsvToRgb(hue * 360, point[0], (1 - point[1]) * 255);\n    }\n    updateColor() {\n      this.colorChange.emit([...this.currentColor, this.opacity]);\n    }\n  }\n  TuiColorPickerComponent.ɵfac = function TuiColorPickerComponent_Factory(t) {\n    return new (t || TuiColorPickerComponent)(i0.ɵɵdirectiveInject(DomSanitizer));\n  };\n  TuiColorPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiColorPickerComponent,\n    selectors: [[\"tui-color-picker\"]],\n    inputs: {\n      color: \"color\"\n    },\n    outputs: {\n      colorChange: \"colorChange\"\n    },\n    decls: 5,\n    vars: 7,\n    consts: [[1, \"t-flat\", 3, \"valueChange\", \"value\"], [1, \"t-wrapper\", \"t-wrapper_hue\"], [1, \"t-hue\", 3, \"valueChange\", \"value\"], [1, \"t-wrapper\", \"t-wrapper_opacity\"], [1, \"t-opacity\", 3, \"valueChange\", \"value\"]],\n    template: function TuiColorPickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-flat-picker\", 0);\n        i0.ɵɵlistener(\"valueChange\", function TuiColorPickerComponent_Template_tui_flat_picker_valueChange_0_listener($event) {\n          return ctx.onPointChange($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"tui-linear-picker\", 2);\n        i0.ɵɵlistener(\"valueChange\", function TuiColorPickerComponent_Template_tui_linear_picker_valueChange_2_listener($event) {\n          return ctx.onHueChange($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"tui-linear-picker\", 4);\n        i0.ɵɵlistener(\"valueChange\", function TuiColorPickerComponent_Template_tui_linear_picker_valueChange_4_listener($event) {\n          return ctx.onOpacityChange($event);\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"background-color\", ctx.base);\n        i0.ɵɵproperty(\"value\", ctx.point);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", ctx.hue);\n        i0.ɵɵadvance();\n        i0.ɵɵstyleProp(\"background\", ctx.gradient);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"value\", ctx.opacity);\n      }\n    },\n    dependencies: [TuiFlatPickerComponent, TuiLinearPickerComponent],\n    styles: [\"[_nghost-%COMP%]{position:relative;z-index:0;display:block}.t-flat[_ngcontent-%COMP%]{height:14rem;background:linear-gradient(rgba(0,0,0,0),#000000),linear-gradient(to right,#ffffff,rgba(255,255,255,0));margin-bottom:.25rem;overflow:hidden}.t-wrapper[_ngcontent-%COMP%]{position:relative;margin:1rem 1.25rem;border-radius:.5rem}.t-wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";box-shadow:inset 0 0 0 1px #00000014;pointer-events:none;border-radius:inherit}.t-wrapper_hue[_ngcontent-%COMP%]{background:#ff0000}.t-wrapper_opacity[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.t-hue[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff0000,#ffff00,#00ff00,#00ffff,#0000ff,#ff00ff,#ff0000);border-radius:inherit;margin:0 .5rem}.t-opacity[_ngcontent-%COMP%]{border-radius:inherit;margin:0 .5rem}\"],\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiColorPickerComponent.prototype, \"getCurrentColor\", null);\n  return TuiColorPickerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFlatPickerModule = /*#__PURE__*/(() => {\n  class TuiFlatPickerModule {}\n  TuiFlatPickerModule.ɵfac = function TuiFlatPickerModule_Factory(t) {\n    return new (t || TuiFlatPickerModule)();\n  };\n  TuiFlatPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFlatPickerModule\n  });\n  TuiFlatPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return TuiFlatPickerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinearPickerModule = /*#__PURE__*/(() => {\n  class TuiLinearPickerModule {}\n  TuiLinearPickerModule.ɵfac = function TuiLinearPickerModule_Factory(t) {\n    return new (t || TuiLinearPickerModule)();\n  };\n  TuiLinearPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLinearPickerModule\n  });\n  TuiLinearPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return TuiLinearPickerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiColorPickerModule = /*#__PURE__*/(() => {\n  class TuiColorPickerModule {}\n  TuiColorPickerModule.ɵfac = function TuiColorPickerModule_Factory(t) {\n    return new (t || TuiColorPickerModule)();\n  };\n  TuiColorPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiColorPickerModule\n  });\n  TuiColorPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiFlatPickerModule, TuiLinearPickerModule]]\n  });\n  return TuiColorPickerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinearMultiPickerComponent = /*#__PURE__*/(() => {\n  class TuiLinearMultiPickerComponent {\n    constructor(point$) {\n      this.value = [0, 1];\n      this.valueChange = new EventEmitter();\n      this.indexChange = new EventEmitter();\n      this.index = NaN;\n      point$.subscribe(([x]) => {\n        this.onPicker(x);\n      });\n    }\n    onMouseUp() {\n      this.index = NaN;\n    }\n    onMouseDown(index) {\n      this.updateIndex(index);\n    }\n    onClick(index) {\n      if (this.value.length > 2) {\n        this.updateValue(this.value.filter((_, i) => i !== index));\n      }\n    }\n    onPicker(x) {\n      if (Number.isNaN(this.index)) {\n        this.updateIndex(this.value.length);\n        this.value = [...this.value, 0];\n      }\n      if (this.value.some((item, index) => item === x && index !== this.index)) {\n        return;\n      }\n      this.updateValue(this.value.map((item, index) => index === this.index ? x : item));\n    }\n    updateIndex(index) {\n      this.index = index;\n      this.indexChange.emit(index);\n    }\n    updateValue(value) {\n      this.value = value;\n      this.valueChange.emit(value);\n    }\n  }\n  TuiLinearMultiPickerComponent.ɵfac = function TuiLinearMultiPickerComponent_Factory(t) {\n    return new (t || TuiLinearMultiPickerComponent)(i0.ɵɵdirectiveInject(TuiPickerService));\n  };\n  TuiLinearMultiPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiLinearMultiPickerComponent,\n    selectors: [[\"tui-linear-multi-picker\"]],\n    hostBindings: function TuiLinearMultiPickerComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mouseup\", function TuiLinearMultiPickerComponent_mouseup_HostBindingHandler() {\n          return ctx.onMouseUp();\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      value: \"value\"\n    },\n    outputs: {\n      valueChange: \"valueChange\",\n      indexChange: \"indexChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPickerService])],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"t-circle\", 3, \"left\", \"dblclick\", \"mousedown\", 4, \"ngFor\", \"ngForOf\"], [1, \"t-circle\", 3, \"dblclick\", \"mousedown\"]],\n    template: function TuiLinearMultiPickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiLinearMultiPickerComponent_div_0_Template, 1, 2, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.value);\n      }\n    },\n    dependencies: [i1$1.NgForOf],\n    styles: [_c0],\n    changeDetection: 0\n  });\n  return TuiLinearMultiPickerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPaletteComponent = /*#__PURE__*/(() => {\n  class TuiPaletteComponent {\n    constructor() {\n      this.colors = new Map();\n      this.selectedColor = new EventEmitter();\n      this.originalOrder = (_a, _b) => 0;\n    }\n  }\n  TuiPaletteComponent.ɵfac = function TuiPaletteComponent_Factory(t) {\n    return new (t || TuiPaletteComponent)();\n  };\n  TuiPaletteComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiPaletteComponent,\n    selectors: [[\"tui-palette\"]],\n    inputs: {\n      colors: \"colors\"\n    },\n    outputs: {\n      selectedColor: \"selectedColor\"\n    },\n    decls: 2,\n    vars: 4,\n    consts: [[\"type\", \"button\", \"class\", \"t-button\", 3, \"id\", \"background\", \"tuiHint\", \"tuiHintDescribe\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"t-button\", 3, \"click\", \"id\", \"tuiHint\", \"tuiHintDescribe\"]],\n    template: function TuiPaletteComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiPaletteComponent_button_0_Template, 1, 5, \"button\", 0);\n        i0.ɵɵpipe(1, \"keyvalue\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(1, 1, ctx.colors, ctx.originalOrder));\n      }\n    },\n    dependencies: [i1$1.NgForOf, i2.TuiHintDirective, i2.TuiHintDriverDirective, i2.TuiHintHoverDirective, i2.TuiHintPositionDirective, i2.TuiHintDescribeDirective, i1$1.KeyValuePipe],\n    styles: [\"[_nghost-%COMP%]{display:flex;flex-wrap:wrap;padding:.875rem}.t-button[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;width:1.5625rem;height:1.5625rem;box-sizing:border-box;margin:.375rem;border-radius:var(--tui-radius-m);border:1px solid rgba(0,0,0,.08)}\"],\n    changeDetection: 0\n  });\n  return TuiPaletteComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst EMPTY_STOP = [0, 0, 0, 0];\nconst DEFAULT_STEPS = [[0, [0, 0, 0, 1]], [1, [255, 255, 255, 1]]];\nconst ICONS = {\n  'to top right': 'tuiIconArrowUpRight',\n  'to right': 'tuiIconArrowRight',\n  'to bottom right': 'tuiIconArrowDownRight',\n  'to bottom': 'tuiIconArrowDown',\n  'to bottom left': 'tuiIconArrowDownLeft',\n  'to left': 'tuiIconArrowLeft',\n  'to top left': 'tuiIconArrowUpLeft',\n  'to top': 'tuiIconArrowUp'\n};\nlet TuiColorSelectorComponent = /*#__PURE__*/(() => {\n  class TuiColorSelectorComponent {\n    constructor(options, sanitizer, modes) {\n      this.options = options;\n      this.sanitizer = sanitizer;\n      this.modes = modes;\n      this.stops = new Map(DEFAULT_STEPS);\n      this.currentStop = 0;\n      this.direction = 'to bottom';\n      this.colors = new Map();\n      this.colorChange = new EventEmitter();\n      this.color = [0, 0, 0, 1];\n      this.currentMode = this.modes[0];\n      this.buttons = ['to top right', 'to right', 'to bottom right', 'to bottom', 'to bottom left', 'to left', 'to top left', 'to top'];\n    }\n    set colorSetter(color) {\n      this.parse(color);\n    }\n    get palette() {\n      return this.filterPalette(this.colors, this.isGradient);\n    }\n    get stopsKeys() {\n      return this.getStopsKeys(this.stops);\n    }\n    get currentColor() {\n      return this.isGradient ? this.getStop(this.currentStop) : this.color;\n    }\n    get gradient() {\n      return this.sanitizer.bypassSecurityTrustStyle(this.getGradient('to right'));\n    }\n    get isGradient() {\n      return this.currentMode === this.modes[1];\n    }\n    getIcon(direction) {\n      return ICONS[direction];\n    }\n    isModeActive(mode) {\n      return this.currentMode === mode;\n    }\n    isDirectionActive(direction) {\n      return this.direction === direction;\n    }\n    onPalettePick(color) {\n      this.updateColor(color);\n    }\n    onDirectionChange(direction) {\n      this.direction = direction;\n      this.updateColor(this.getGradient(direction));\n    }\n    onModeSelect(mode, dropdown) {\n      this.currentMode = mode;\n      dropdown.open = false;\n      this.updateColor(mode === this.modes[0] ? `rgba(${this.color.join(', ')})` : this.getGradient(this.direction));\n    }\n    onIndexChange(index) {\n      this.currentStop = this.stopsKeys[index];\n    }\n    onColorChange(color) {\n      if (!this.isGradient) {\n        this.updateColor(`rgba(${color.join(', ')})`);\n        return;\n      }\n      this.stops.set(this.currentStop, color);\n      this.updateColor(this.getGradient(this.direction));\n    }\n    onStopsChange(stopsKeys) {\n      const removed = this.stopsKeys.find(item => !stopsKeys.includes(item));\n      const added = stopsKeys.find(item => !this.stopsKeys.includes(item));\n      if (removed === undefined && added !== undefined) {\n        this.addStop(added);\n      }\n      if (removed !== undefined && added === undefined) {\n        this.removeStop(removed);\n      }\n      if (removed !== undefined && added !== undefined) {\n        this.replaceStop(removed, added);\n      }\n      this.updateColor(this.getGradient(this.direction));\n    }\n    getStopsKeys(stops) {\n      return Array.from(stops.keys());\n    }\n    filterPalette(colors, isGradient) {\n      const map = new Map(colors);\n      map.forEach((value, key) => {\n        if (value.startsWith('linear-gradient') && !isGradient || !value.startsWith('linear-gradient') && isGradient) {\n          map.delete(key);\n        }\n      });\n      return map;\n    }\n    updateColor(color) {\n      this.colorChange.emit(color);\n    }\n    getGradient(direction) {\n      return `linear-gradient(${direction}, ${[...this.stopsKeys].sort(tuiDefaultSort).map(key => `rgba(${this.getStop(key).join(', ')}) ${key * 100}%`).join(', ')})`;\n    }\n    getStop(stop) {\n      return this.stops.get(stop) || EMPTY_STOP;\n    }\n    addStop(stop) {\n      const closest = this.stopsKeys.reduce((prev, curr) => Math.abs(curr - stop) < Math.abs(prev - stop) ? curr : prev, this.stopsKeys[0]);\n      this.stops.set(stop, this.getStop(closest));\n      this.stops = new Map(this.stops);\n      this.currentStop = stop;\n    }\n    removeStop(stop) {\n      this.stops.delete(stop);\n      this.stops = new Map(this.stops);\n      this.currentStop = this.stopsKeys[0];\n    }\n    replaceStop(removed, added) {\n      const value = this.getStop(removed);\n      this.currentStop = added;\n      this.stops = new Map(this.stopsKeys.map(key => key === removed ? [added, value] : [key, this.getStop(key)]));\n    }\n    parse(color) {\n      if (color.startsWith('linear-gradient')) {\n        this.parseGradient(color);\n      } else {\n        this.parseColor(color);\n      }\n    }\n    parseGradient(color) {\n      if (color === this.getGradient(this.direction)) {\n        return;\n      }\n      const gradient = tuiParseGradient(tuiGetGradientData(color));\n      this.currentMode = this.modes[1];\n      this.direction = gradient.side;\n      this.currentStop = 0;\n      this.stops = new Map(gradient.stops.length ? gradient.stops.map(({\n        color,\n        position\n      }) => [parseFloat(position) / 100, tuiParseColor(color)]) : DEFAULT_STEPS);\n    }\n    parseColor(color) {\n      this.currentMode = this.modes[0];\n      this.currentStop = 0;\n      this.color = tuiParseColor(color);\n    }\n  }\n  TuiColorSelectorComponent.ɵfac = function TuiColorSelectorComponent_Factory(t) {\n    return new (t || TuiColorSelectorComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(DomSanitizer), i0.ɵɵdirectiveInject(TUI_EDITOR_COLOR_SELECTOR_MODE_NAMES));\n  };\n  TuiColorSelectorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiColorSelectorComponent,\n    selectors: [[\"tui-color-selector\"]],\n    inputs: {\n      colors: \"colors\",\n      colorSetter: [0, \"color\", \"colorSetter\"]\n    },\n    outputs: {\n      colorChange: \"colorChange\"\n    },\n    decls: 12,\n    vars: 7,\n    consts: [[\"dropdown\", \"\"], [\"arrow\", \"\"], [\"menu\", \"\"], [1, \"t-select\", 3, \"content\"], [\"appearance\", \"\", \"size\", \"s\", \"tuiButton\", \"\", \"type\", \"button\", 3, \"iconRight\"], [4, \"ngIf\"], [3, \"colorChange\", \"color\"], [\"tuiGroup\", \"\", \"class\", \"t-edit\", 3, \"color\", \"colorChange\", 4, \"ngIf\"], [\"class\", \"t-palette\", 3, \"colors\", \"selectedColor\", 4, \"ngIf\"], [1, \"t-arrow\", 3, \"src\"], [\"role\", \"menu\", \"size\", \"s\", 1, \"t-menu\"], [\"role\", \"menuitemradio\", \"tuiOption\", \"\", 3, \"click\", \"keydown.enter.prevent\", \"keydown.space.prevent\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"menuitemradio\", \"tuiOption\", \"\", 3, \"click\", \"keydown.enter.prevent\", \"keydown.space.prevent\"], [\"class\", \"t-checkmark\", 3, \"src\", 4, \"ngIf\"], [1, \"t-checkmark\", 3, \"src\"], [1, \"t-hr\"], [1, \"t-wrapper\"], [1, \"t-gradient\", 3, \"indexChange\", \"valueChange\", \"value\"], [1, \"t-buttons\"], [\"appearance\", \"\", \"size\", \"xs\", \"tuiHintDescribe\", \"\", \"tuiIconButton\", \"\", \"type\", \"button\", \"class\", \"t-direction\", 3, \"t-direction_active\", \"icon\", \"tuiHint\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"appearance\", \"\", \"size\", \"xs\", \"tuiHintDescribe\", \"\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-direction\", 3, \"click\", \"icon\", \"tuiHint\"], [\"tuiGroup\", \"\", 1, \"t-edit\", 3, \"colorChange\", \"color\"], [1, \"t-palette\", 3, \"selectedColor\", \"colors\"]],\n    template: function TuiColorSelectorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 3, 0)(2, \"button\", 4);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, TuiColorSelectorComponent_ng_template_4_Template, 1, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor)(6, TuiColorSelectorComponent_ng_template_6_Template, 2, 1, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, TuiColorSelectorComponent_ng_container_8_Template, 6, 4, \"ng-container\", 5);\n        i0.ɵɵelementStart(9, \"tui-color-picker\", 6);\n        i0.ɵɵlistener(\"colorChange\", function TuiColorSelectorComponent_Template_tui_color_picker_colorChange_9_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onColorChange($event));\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, TuiColorSelectorComponent_tui_color_edit_10_Template, 1, 1, \"tui-color-edit\", 7)(11, TuiColorSelectorComponent_tui_palette_11_Template, 1, 1, \"tui-palette\", 8);\n      }\n      if (rf & 2) {\n        const arrow_r11 = i0.ɵɵreference(5);\n        const menu_r12 = i0.ɵɵreference(7);\n        i0.ɵɵproperty(\"content\", menu_r12);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"iconRight\", arrow_r11);\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" \", ctx.currentMode, \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.isGradient);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"color\", ctx.currentColor);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", !ctx.isGradient);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.palette.size);\n      }\n    },\n    dependencies: [i2.TuiHostedDropdownComponent, i2.TuiButtonComponent, i2.TuiSvgComponent, i2.TuiDataListComponent, i2.TuiOptionComponent, TuiLinearMultiPickerComponent, TuiColorPickerComponent, TuiColorEditComponent, TuiPaletteComponent, i1$1.NgForOf, i1$1.NgIf, i2.TuiHintDescribeDirective, i2.TuiHintDirective, i2.TuiHintDriverDirective, i2.TuiHintHoverDirective, i2.TuiHintPositionDirective, i2.TuiGroupDirective],\n    styles: [\"[_nghost-%COMP%]{position:relative;z-index:0;display:block;width:22.6rem}.t-wrapper[_ngcontent-%COMP%]{position:relative;margin:1.25rem;border-radius:.5rem}.t-wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";box-shadow:inset 0 0 0 1px #00000014;pointer-events:none;border-radius:inherit}.t-wrapper[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.t-hr[_ngcontent-%COMP%]{height:1px;margin:0 0 0 -1px;border:none;background:var(--tui-base-03)}.t-gradient[_ngcontent-%COMP%]{margin:0 .5rem;border-radius:inherit}.t-select[_ngcontent-%COMP%]{margin:.75rem .5rem}.t-arrow[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-arrow_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-menu[_ngcontent-%COMP%]{width:11.25rem}.t-checkmark[_ngcontent-%COMP%]{margin-left:auto;width:1rem;height:1rem}.t-buttons[_ngcontent-%COMP%]{display:flex;padding:0 .75rem 1.25rem}.t-direction[_ngcontent-%COMP%]{color:var(--tui-text-02);margin:0 .375rem}.t-direction[_ngcontent-%COMP%]:hover, .t-direction_active[_ngcontent-%COMP%]{color:var(--tui-text-01);background:var(--tui-secondary-hover)}.t-edit[_ngcontent-%COMP%]{margin:1.25rem}.t-palette[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:inset 0 1px var(--tui-base-03)}\"],\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiColorSelectorComponent.prototype, \"getStopsKeys\", null);\n  __decorate([tuiPure], TuiColorSelectorComponent.prototype, \"filterPalette\", null);\n  return TuiColorSelectorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinearMultiPickerModule = /*#__PURE__*/(() => {\n  class TuiLinearMultiPickerModule {}\n  TuiLinearMultiPickerModule.ɵfac = function TuiLinearMultiPickerModule_Factory(t) {\n    return new (t || TuiLinearMultiPickerModule)();\n  };\n  TuiLinearMultiPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLinearMultiPickerModule\n  });\n  TuiLinearMultiPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return TuiLinearMultiPickerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPaletteModule = /*#__PURE__*/(() => {\n  class TuiPaletteModule {}\n  TuiPaletteModule.ɵfac = function TuiPaletteModule_Factory(t) {\n    return new (t || TuiPaletteModule)();\n  };\n  TuiPaletteModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiPaletteModule\n  });\n  TuiPaletteModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHintModule]]\n  });\n  return TuiPaletteModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiColorSelectorModule = /*#__PURE__*/(() => {\n  class TuiColorSelectorModule {}\n  TuiColorSelectorModule.ɵfac = function TuiColorSelectorModule_Factory(t) {\n    return new (t || TuiColorSelectorModule)();\n  };\n  TuiColorSelectorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiColorSelectorModule\n  });\n  TuiColorSelectorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHostedDropdownModule, TuiColorPickerModule, TuiLinearMultiPickerModule, TuiHintModule, TuiSvgModule, TuiDataListModule, TuiActiveZoneModule, TuiColorEditModule, TuiGroupModule, TuiPaletteModule]]\n  });\n  return TuiColorSelectorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiColorEditComponent, TuiColorEditModule, TuiColorPickerComponent, TuiColorPickerModule, TuiColorSelectorComponent, TuiColorSelectorModule, TuiFlatPickerComponent, TuiFlatPickerModule, TuiLinearMultiPickerComponent, TuiLinearMultiPickerModule, TuiLinearPickerComponent, TuiLinearPickerModule, TuiPaletteComponent, TuiPaletteModule };\n","import * as i0 from '@angular/core';\nimport { Injectable, Inject, ElementRef, Renderer2, Directive, Self, Input, Output, NgModule } from '@angular/core';\nimport * as i3 from '@taiga-ui/cdk';\nimport { tuiPx, TuiDestroyService } from '@taiga-ui/cdk';\nimport { TIPTAP_EDITOR, INITIALIZATION_TIPTAP_CONTAINER } from '@tinkoff/tui-editor/tokens';\nimport { startWith, map, distinctUntilChanged, takeUntil } from 'rxjs/operators';\nimport * as i1$1 from '@tinkoff/tui-editor/abstract';\nimport { AbstractTuiEditor } from '@tinkoff/tui-editor/abstract';\nimport { EDITOR_BLANK_COLOR } from '@tinkoff/tui-editor/constants';\nimport { tuiParseStyle, tuiGetMarkRange } from '@tinkoff/tui-editor/utils';\nimport { EditorState } from 'prosemirror-state';\nimport * as i1 from 'rxjs';\nfunction tuiIsEmptyParagraph(json) {\n  return Array.isArray(json) && json.length === 1 && json[0].type === `paragraph` && !json[0].hasOwnProperty(`content`);\n}\nlet TuiTiptapEditorService = /*#__PURE__*/(() => {\n  class TuiTiptapEditorService extends AbstractTuiEditor {\n    constructor(editorRef) {\n      super();\n      this.editorRef = editorRef;\n      this.editorRef.subscribe(editor => {\n        this.editor = editor;\n        const update = () => {\n          const content = editor.getHTML();\n          const json = editor.getJSON().content;\n          const value = tuiIsEmptyParagraph(json) ? `` : content;\n          this.valueChange$.next(value);\n          this.stateChange$.next();\n        };\n        editor.on(`transaction`, update.bind(this));\n        editor.on(`update`, update.bind(this));\n      });\n    }\n    get isFocused() {\n      return this.editor.isFocused;\n    }\n    get html() {\n      return this.editor.getHTML();\n    }\n    get editable() {\n      return this.editor.isEditable;\n    }\n    set editable(editable) {\n      this.editor.setEditable(editable, false);\n    }\n    get state() {\n      return this.editor.state;\n    }\n    getOriginTiptapEditor() {\n      return this.editor;\n    }\n    undoDisabled() {\n      return !this.editor.can().undo();\n    }\n    redoDisabled() {\n      return !this.editor.can().redo();\n    }\n    getFontColor() {\n      return this.editor.getAttributes(`textStyle`).fontColor || EDITOR_BLANK_COLOR;\n    }\n    getFontSize() {\n      return parseInt(this.editor.getAttributes(`textStyle`).fontSize, 10);\n    }\n    setFontSize(size) {\n      this.editor.chain().setMark(`textStyle`, {\n        fontSize: tuiPx(size)\n      }).run();\n    }\n    getBackgroundColor() {\n      var _a;\n      return ((_a = this.editor) === null || _a === void 0 ? void 0 : _a.getAttributes(`textStyle`).backgroundColor) || `transparent`;\n    }\n    getCellColor() {\n      return this.editor.getAttributes(`tableCell`).background || this.editor.getAttributes(`tableHeader`).background;\n    }\n    getGroupColor() {\n      var _a, _b, _c, _d;\n      if (this.editor.isActive(`group`)) {\n        const style = (_b = (_a = this.editor.getAttributes(`group`)) === null || _a === void 0 ? void 0 : _a.style) !== null && _b !== void 0 ? _b : ``;\n        const styles = tuiParseStyle(style);\n        return (_d = (_c = styles[`background-color`]) !== null && _c !== void 0 ? _c : styles[`background`]) !== null && _d !== void 0 ? _d : ``;\n      }\n      return ``;\n    }\n    onAlign(align) {\n      this.editor.chain().focus().setTextAlign(align).run();\n    }\n    setImage(src) {\n      this.editor.chain().focus().command(({\n        commands,\n        state\n      }) => {\n        var _a;\n        const setImage = (_a = commands.setEditableImage) !== null && _a !== void 0 ? _a : commands.setImage;\n        if (setImage) {\n          const anchor = state.selection.anchor;\n          setImage({\n            src\n          });\n          commands.setTextSelection(anchor);\n          return true;\n        }\n        return false;\n      }).run();\n    }\n    undo() {\n      this.editor.chain().undo().run();\n    }\n    redo() {\n      this.editor.chain().redo().run();\n    }\n    setHorizontalRule() {\n      this.editor.chain().focus().setHorizontalRule().run();\n    }\n    removeFormat() {\n      this.editor.commands.unsetAllMarks();\n      this.editor.commands.clearNodes();\n    }\n    setFontColor(color) {\n      this.editor.chain().focus().setFontColor(color).run();\n    }\n    setBackgroundColor(color) {\n      this.editor.chain().focus().setBackgroundColor(color).run();\n    }\n    toggleUnderline() {\n      this.editor.chain().focus().toggleUnderline().run();\n    }\n    toggleStrike() {\n      this.editor.chain().focus().toggleStrike().run();\n    }\n    toggleOrderedList() {\n      this.editor.chain().focus().toggleOrderedList().run();\n    }\n    toggleUnorderedList() {\n      this.editor.chain().focus().toggleBulletList().run();\n    }\n    togglePre() {\n      this.editor.chain().focus().toggleCodeBlock().run();\n    }\n    toggleTaskList() {\n      this.editor.commands.toggleTaskList();\n    }\n    sinkListItem() {\n      const type = this.editor.isActive(`taskList`) ? `taskItem` : `listItem`;\n      this.editor.chain().focus().sinkListItem(type).run();\n    }\n    liftListItem() {\n      const type = this.editor.isActive(`taskList`) ? `taskItem` : `listItem`;\n      this.editor.chain().focus().liftListItem(type).run();\n    }\n    isActive(nameOrAttributes) {\n      return this.editor.isActive(nameOrAttributes);\n    }\n    isActive$(nameOrAttributes) {\n      return this.stateChange$.pipe(startWith(null), map(() => this.isActive(nameOrAttributes)), distinctUntilChanged());\n    }\n    toggleBold() {\n      this.editor.chain().focus().toggleBold().run();\n    }\n    toggleCode() {\n      this.editor.chain().focus().toggleCode().run();\n    }\n    toggleItalic() {\n      this.editor.chain().focus().toggleItalic().run();\n    }\n    toggleBlockquote() {\n      this.editor.chain().focus().toggleBlockquote().run();\n    }\n    toggleSubscript() {\n      this.editor.chain().focus().toggleSubscript().run();\n    }\n    toggleSuperscript() {\n      this.editor.chain().focus().toggleSuperscript().run();\n    }\n    toggleCodeBlock() {\n      this.editor.chain().focus().toggleCodeBlock().run();\n    }\n    insertTable(cols, rows) {\n      this.editor.chain().focus().insertTable({\n        cols,\n        rows\n      }).run();\n    }\n    addColumnAfter() {\n      this.editor.chain().focus().addColumnAfter().run();\n    }\n    addColumnBefore() {\n      this.editor.chain().focus().addColumnBefore().run();\n    }\n    addRowAfter() {\n      this.editor.chain().focus().addRowAfter().run();\n    }\n    addRowBefore() {\n      this.editor.chain().focus().addRowBefore().run();\n    }\n    deleteColumn() {\n      this.editor.chain().focus().deleteColumn().run();\n    }\n    deleteRow() {\n      this.editor.chain().focus().deleteRow().run();\n    }\n    mergeCells() {\n      this.editor.chain().focus().mergeCells().run();\n    }\n    splitCell() {\n      this.editor.chain().focus().splitCell().run();\n    }\n    canMergeCells() {\n      return this.editor.can().mergeCells();\n    }\n    canSplitCells() {\n      return this.editor.can().splitCell();\n    }\n    setHeading(level) {\n      this.editor.chain().focus().setHeading({\n        level\n      }).run();\n    }\n    setParagraph(options) {\n      this.editor.chain().focus().setParagraph().run();\n      if (options) {\n        this.editor.chain().setMark(`textStyle`, options).run();\n      }\n    }\n    setHardBreak() {\n      this.editor.chain().setHardBreak().run();\n    }\n    setTextSelection(value) {\n      this.editor.commands.setTextSelection(value);\n    }\n    toggleLink(href) {\n      this.editor.chain().focus().toggleLink({\n        href\n      }).run();\n    }\n    setLink(href) {\n      this.editor.chain().focus().setLink({\n        href\n      }).run();\n    }\n    unsetLink() {\n      this.editor.chain().focus().unsetLink().run();\n    }\n    focus() {\n      this.editor.chain().focus().run();\n    }\n    setValue(value) {\n      if (value === this.html || value === `` && this.html === `<p></p>`) {\n        return;\n      }\n      this.editor.commands.setContent(value);\n      this.editor.view.updateState(EditorState.create({\n        schema: this.editor.state.schema,\n        doc: this.editor.state.doc,\n        selection: this.editor.state.selection,\n        storedMarks: this.editor.state.storedMarks,\n        plugins: this.editor.state.plugins\n      }));\n    }\n    destroy() {\n      this.editor.destroy();\n    }\n    setCellColor(color) {\n      this.editor.chain().focus().setCellBackground(color).run();\n    }\n    selectClosest() {\n      const pos = this.editor.state.selection.anchor;\n      const {\n        schema,\n        doc\n      } = this.editor.state;\n      const range = tuiGetMarkRange(doc.resolve(pos), schema.marks.link);\n      if (range) {\n        this.editor.chain().setTextSelection(range).run();\n      }\n    }\n    enter() {\n      this.editor.commands.enter();\n    }\n    setDetails() {\n      this.editor.commands.setDetails();\n    }\n    removeDetails() {\n      this.editor.commands.removeDetails();\n    }\n    setGroup() {\n      this.editor.commands.setGroup();\n    }\n    removeGroup() {\n      this.editor.commands.removeGroup();\n    }\n    setGroupHilite(color) {\n      this.editor.commands.setGroupHilite(color);\n    }\n    setAnchor(anchor) {\n      this.editor.commands.setAnchor(anchor.replace(`#`, ``));\n    }\n    removeAnchor() {\n      this.editor.commands.removeAnchor();\n    }\n    setFileLink(preview) {\n      this.editor.commands.setFileLink(preview);\n    }\n    setYoutubeVideo(options) {\n      this.editor.commands.setYoutubeVideo(options);\n    }\n    setIframe(options) {\n      this.editor.commands.setIframe(options);\n    }\n    removeEmptyTextStyle() {\n      this.editor.commands.removeEmptyTextStyle();\n    }\n    toggleMark(typeOrName, attributes, options) {\n      this.editor.commands.toggleMark(typeOrName, attributes, options);\n    }\n    getHTML() {\n      var _a;\n      return (_a = this.getOriginTiptapEditor().getHTML()) !== null && _a !== void 0 ? _a : ``;\n    }\n  }\n  TuiTiptapEditorService.ɵfac = function TuiTiptapEditorService_Factory(t) {\n    return new (t || TuiTiptapEditorService)(i0.ɵɵinject(TIPTAP_EDITOR));\n  };\n  TuiTiptapEditorService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiTiptapEditorService,\n    factory: TuiTiptapEditorService.ɵfac\n  });\n  return TuiTiptapEditorService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTiptapEditorDirective = /*#__PURE__*/(() => {\n  class TuiTiptapEditorDirective {\n    constructor(el, renderer, editor, editorContainer, editorLoaded$, destroy$) {\n      this.el = el;\n      this.renderer = renderer;\n      this.editor = editor;\n      this.editorContainer = editorContainer;\n      this.editorLoaded$ = editorLoaded$;\n      this.valueChange = this.editor.valueChange$;\n      this.stateChange = this.editor.stateChange$;\n      this.editorLoaded$.pipe(takeUntil(destroy$)).subscribe(() => {\n        this.renderer.appendChild(this.el.nativeElement, this.editorContainer);\n      });\n    }\n    set value(value) {\n      this.editor.setValue(value);\n    }\n    set editable(editable) {\n      this.editor.editable = editable;\n    }\n  }\n  TuiTiptapEditorDirective.ɵfac = function TuiTiptapEditorDirective_Factory(t) {\n    return new (t || TuiTiptapEditorDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(Renderer2), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(INITIALIZATION_TIPTAP_CONTAINER), i0.ɵɵdirectiveInject(TIPTAP_EDITOR), i0.ɵɵdirectiveInject(TuiDestroyService, 2));\n  };\n  TuiTiptapEditorDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTiptapEditorDirective,\n    selectors: [[\"\", \"tuiTiptapEditor\", \"\"]],\n    inputs: {\n      value: \"value\",\n      editable: \"editable\"\n    },\n    outputs: {\n      valueChange: \"valueChange\",\n      stateChange: \"stateChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])]\n  });\n  return TuiTiptapEditorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTiptapEditorModule = /*#__PURE__*/(() => {\n  class TuiTiptapEditorModule {}\n  TuiTiptapEditorModule.ɵfac = function TuiTiptapEditorModule_Factory(t) {\n    return new (t || TuiTiptapEditorModule)();\n  };\n  TuiTiptapEditorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTiptapEditorModule\n  });\n  TuiTiptapEditorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiTiptapEditorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTiptapEditorDirective, TuiTiptapEditorModule, TuiTiptapEditorService };\n","import * as i3 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Pipe, EventEmitter, Component, ChangeDetectionStrategy, Inject, Output, Input, HostListener, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiIsValidUrl, tuiIsElement, TuiAutoFocusModule } from '@taiga-ui/cdk';\nimport { TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER, TUI_EDITOR_LINK_HASH_PREFIX, TUI_EDITOR_LINK_SIMPLE_PROTOCOL_DIVIDER, TUI_EDITOR_LINK_HTTPS_PREFIX } from '@tinkoff/tui-editor/constants';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_LINK_TEXTS, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport * as i1 from '@taiga-ui/kit';\nimport { TuiInputInlineModule, TuiToggleModule } from '@taiga-ui/kit';\nimport * as i2 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiSvgModule, TuiLinkModule, TuiScrollbarModule } from '@taiga-ui/core';\nimport * as i5 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport * as i8 from '@tinkoff/tui-editor/abstract';\nfunction TuiEditLinkComponent_ng_container_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Edit anchor\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_ng_template_4_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Link to anchor\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_ng_template_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"URL\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiEditLinkComponent_ng_container_1_ng_template_4_span_0_Template, 2, 0, \"span\", 4)(1, TuiEditLinkComponent_ng_container_1_ng_template_4_ng_template_1_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const urlTitle_r2 = i0.ɵɵreference(2);\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.prefixIsHashMode)(\"ngIfElse\", urlTitle_r2);\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r4 = ctx.ngIf;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.prefixIsHashMode ? text_r4.anchorExample : text_r4.urlExample, \" \");\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"label\", 6)(2, \"div\", 7);\n    i0.ɵɵtemplate(3, TuiEditLinkComponent_ng_container_1_ng_container_3_Template, 2, 0, \"ng-container\", 4)(4, TuiEditLinkComponent_ng_container_1_ng_template_4_Template, 3, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8)(7, \"div\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"tui-input-inline\", 10);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function TuiEditLinkComponent_ng_container_1_Template_tui_input_inline_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.url, $event) || (ctx_r2.url = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function TuiEditLinkComponent_ng_container_1_Template_tui_input_inline_input_9_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onChange($event.target == null ? null : $event.target.value));\n    })(\"keydown.backspace\", function TuiEditLinkComponent_ng_container_1_Template_tui_input_inline_keydown_backspace_9_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onBackspace());\n    })(\"keydown.prevent.enter\", function TuiEditLinkComponent_ng_container_1_Template_tui_input_inline_keydown_prevent_enter_9_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onSave());\n    });\n    i0.ɵɵtemplate(10, TuiEditLinkComponent_ng_container_1_ng_container_10_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tui-svg\", 11);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_container_1_Template_tui_svg_click_12_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onClear());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_container_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onSave());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const fullOptions_r5 = i0.ɵɵreference(5);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.anchorMode)(\"ngIfElse\", fullOptions_r5);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.prefix);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"t-input_filled\", ctx_r2.hasUrl);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.url);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 11, ctx_r2.texts$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"t-cleaner_hidden\", !ctx_r2.hasUrl);\n    i0.ɵɵproperty(\"src\", ctx_r2.options.icons.popupLinkRemove);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r2.options.icons.popupLinkSave);\n  }\n}\nfunction TuiEditLinkComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"tuiShortUrl\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_template_2_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onEdit());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_template_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onRemove());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"href\", ctx_r2.href, i0.ɵɵsanitizeUrl)(\"icon\", ctx_r2.prefixIsHashMode ? \"tuiIconHash\" : \"tuiIconExternalLink\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 5, ctx_r2.url), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", ctx_r2.options.icons.popupPreviewLinkEdit);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r2.options.icons.popupPreviewLinkClear);\n  }\n}\nfunction TuiEditLinkComponent_ng_container_4_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_container_4_button_4_Template_button_click_0_listener() {\n      const id_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.setAnchor(id_r8));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const id_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" #\", id_r8, \" \");\n  }\n}\nfunction TuiEditLinkComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"hr\", 16);\n    i0.ɵɵelementStart(2, \"tui-scrollbar\")(3, \"div\", 17);\n    i0.ɵɵtemplate(4, TuiEditLinkComponent_ng_container_4_button_4_Template, 2, 1, \"button\", 18);\n    i0.ɵɵpipe(5, \"tuiFilterAnchors\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(5, 1, ctx_r2.anchorIds, ctx_r2.prefix, ctx_r2.url));\n  }\n}\nfunction splitOsiProtocol(url = ``) {\n  var _a;\n  const protocolPosition = (_a = url.indexOf(TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER)) !== null && _a !== void 0 ? _a : -1;\n  const [prefix, path] = protocolPosition > -1 ? [url.slice(0, protocolPosition + TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER.length), url.slice(protocolPosition + TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER.length, url.length)] : [``, url];\n  const result = [prefix, path].filter(Boolean);\n  return (path === null || path === void 0 ? void 0 : path.includes(`://`)) && result.length > 1 ? splitOsiProtocol(path) : result;\n}\nfunction splitSimpleProtocol(url = ``) {\n  const [prefix, path] = url.split(/:/).slice(-2).filter(Boolean);\n  const hardUrl =\n  // https://domain.com/path:some:schema:data:test\n  url.includes(`/`) && url.lastIndexOf(`:`) > url.indexOf(`/`) || url.includes(`?`) && url.lastIndexOf(`:`) > url.indexOf(`?`);\n  return !hardUrl && prefix && path && !tuiIsValidUrl(url) ? [`${prefix}:`, path] : [];\n}\nfunction tuiEditLinkParseUrl(url = ``) {\n  if (url.startsWith(TUI_EDITOR_LINK_HASH_PREFIX)) {\n    return {\n      prefix: TUI_EDITOR_LINK_HASH_PREFIX,\n      path: url.slice(1)\n    };\n  }\n  const [prefix = ``, path = ``] = url.includes(TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER) ? splitOsiProtocol(url) : splitSimpleProtocol(url);\n  if (path.includes(TUI_EDITOR_LINK_SIMPLE_PROTOCOL_DIVIDER)) {\n    const [protocol, otherPart] = splitSimpleProtocol(path);\n    if (protocol && otherPart) {\n      return {\n        prefix: protocol,\n        path: otherPart\n      };\n    }\n  }\n  if (url.startsWith(`/`) && !url.startsWith(`//`)) {\n    return {\n      prefix: url.slice(0, 1),\n      path: url.slice(1)\n    };\n  }\n  if (url.startsWith(`./`)) {\n    return {\n      prefix: url.slice(0, 2),\n      path: url.slice(2)\n    };\n  }\n  return {\n    prefix,\n    path: prefix === `` ? url : path\n  };\n}\nconst MAX_LENGTH = 60;\nconst START = MAX_LENGTH - 20;\nconst END = MAX_LENGTH - START - 10;\nlet TuiShortUrlPipe = /*#__PURE__*/(() => {\n  class TuiShortUrlPipe {\n    transform(url) {\n      return url.length < MAX_LENGTH ? url : `${url.slice(0, Math.max(0, START))}...${url.slice(url.length - END)}`;\n    }\n  }\n  TuiShortUrlPipe.ɵfac = function TuiShortUrlPipe_Factory(t) {\n    return new (t || TuiShortUrlPipe)();\n  };\n  TuiShortUrlPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"tuiShortUrl\",\n    type: TuiShortUrlPipe,\n    pure: true\n  });\n  return TuiShortUrlPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFilterAnchorsPipe = /*#__PURE__*/(() => {\n  class TuiFilterAnchorsPipe {\n    transform(anchors, prefix, currentUrl) {\n      return prefix === `#` ? anchors.filter(anchor => anchor !== currentUrl) : anchors;\n    }\n  }\n  TuiFilterAnchorsPipe.ɵfac = function TuiFilterAnchorsPipe_Factory(t) {\n    return new (t || TuiFilterAnchorsPipe)();\n  };\n  TuiFilterAnchorsPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"tuiFilterAnchors\",\n    type: TuiFilterAnchorsPipe,\n    pure: true\n  });\n  return TuiFilterAnchorsPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditLinkComponent = /*#__PURE__*/(() => {\n  class TuiEditLinkComponent {\n    constructor(doc, texts$, editor, options) {\n      this.doc = doc;\n      this.texts$ = texts$;\n      this.editor = editor;\n      this.options = options;\n      this.isOnlyAnchorMode = this.detectAnchorMode();\n      this.addLink = new EventEmitter();\n      this.removeLink = new EventEmitter();\n      this.url = this.getHrefOrAnchorId();\n      this.edit = !this.url;\n      this.prefix = this.makeDefaultPrefix();\n      this.anchorIds = this.getAllAnchorsIds();\n    }\n    get defaultProtocol() {\n      var _a, _b;\n      return (_b = (_a = this.options.linkOptions) === null || _a === void 0 ? void 0 : _a.protocol) !== null && _b !== void 0 ? _b : TUI_EDITOR_LINK_HTTPS_PREFIX;\n    }\n    set anchorMode(mode) {\n      this.isOnlyAnchorMode = mode;\n      this.prefix = mode ? TUI_EDITOR_LINK_HASH_PREFIX : this.makeDefaultPrefix();\n    }\n    get anchorMode() {\n      return this.isOnlyAnchorMode;\n    }\n    get prefixIsHashMode() {\n      return this.prefix === TUI_EDITOR_LINK_HASH_PREFIX;\n    }\n    get hasUrl() {\n      return !!this.url;\n    }\n    get href() {\n      return `${this.prefix}${this.url}`;\n    }\n    get showAnchorsList() {\n      return !this.anchorMode && this.edit && this.anchorIds.length > 0;\n    }\n    get isViewMode() {\n      return !this.edit;\n    }\n    onSelectionChange() {\n      if (this.isViewMode) {\n        this.url = this.getHrefOrAnchorId();\n        this.anchorMode = this.detectAnchorMode();\n      }\n    }\n    onMouseDown(event) {\n      if (tuiIsElement(event.target) && !event.target.matches('a, button, input')) {\n        event.preventDefault();\n      }\n    }\n    setAnchor(anchor) {\n      this.url = anchor;\n      this.changePrefix(true);\n    }\n    changePrefix(isPrefix) {\n      this.prefix = isPrefix ? TUI_EDITOR_LINK_HASH_PREFIX : this.defaultProtocol;\n    }\n    onSave() {\n      if (this.url) {\n        this.addLink.emit(this.href);\n      } else {\n        this.removeLink.emit();\n      }\n    }\n    onBackspace() {\n      if (!this.url) {\n        this.prefix = this.isOnlyAnchorMode ? TUI_EDITOR_LINK_HASH_PREFIX : this.defaultProtocol;\n      }\n    }\n    onEdit() {\n      this.edit = true;\n    }\n    onRemove() {\n      this.removeLink.emit();\n    }\n    onChange(url) {\n      this.url = this.removePrefix(url);\n    }\n    onClear() {\n      this.url = '';\n    }\n    makeDefaultPrefix() {\n      var _a, _b;\n      const a = this.getAnchorElement();\n      const defaultPrefix = tuiEditLinkParseUrl((_a = a === null || a === void 0 ? void 0 : a.getAttribute('href')) !== null && _a !== void 0 ? _a : '').prefix || this.defaultProtocol;\n      if (a) {\n        return !a.getAttribute('href') && a.getAttribute('id') || ((_b = a.getAttribute('href')) === null || _b === void 0 ? void 0 : _b.startsWith(TUI_EDITOR_LINK_HASH_PREFIX)) ? TUI_EDITOR_LINK_HASH_PREFIX : defaultPrefix;\n      }\n      return defaultPrefix;\n    }\n    detectAnchorMode() {\n      const a = this.getAnchorElement();\n      return !(a === null || a === void 0 ? void 0 : a.href) && !!(a === null || a === void 0 ? void 0 : a.getAttribute('id'));\n    }\n    getFocusedParentElement() {\n      var _a, _b;\n      return ((_b = (_a = this.doc.getSelection()) === null || _a === void 0 ? void 0 : _a.focusNode) === null || _b === void 0 ? void 0 : _b.parentElement) || null;\n    }\n    getAnchorElement() {\n      var _a, _b, _c;\n      const focusable = this.getFocusedParentElement();\n      return (_c = (_a = focusable === null || focusable === void 0 ? void 0 : focusable.closest('a')) !== null && _a !== void 0 ? _a : (_b = focusable === null || focusable === void 0 ? void 0 : focusable.querySelector('img')) === null || _b === void 0 ? void 0 : _b.closest('a')) !== null && _c !== void 0 ? _c : null;\n    }\n    getHrefOrAnchorId() {\n      const a = this.getAnchorElement();\n      return a ? this.removePrefix(a.getAttribute('href') || a.getAttribute('id') || '') : this.url;\n    }\n    removePrefix(url) {\n      var _a;\n      const fullPath = url.startsWith(TUI_EDITOR_LINK_HASH_PREFIX) || this.prefix === TUI_EDITOR_LINK_HASH_PREFIX || url.startsWith('/') || url.startsWith('./') || url.startsWith('http') || url.startsWith('://') ? url : `${(_a = this.prefix) !== null && _a !== void 0 ? _a : ''}${url}`;\n      const {\n        prefix,\n        path\n      } = tuiEditLinkParseUrl(fullPath);\n      const expectAnchorMode = this.isOnlyAnchorMode || prefix === TUI_EDITOR_LINK_HASH_PREFIX || prefix === '' && this.prefix === TUI_EDITOR_LINK_HASH_PREFIX;\n      if (expectAnchorMode) {\n        this.prefix = TUI_EDITOR_LINK_HASH_PREFIX;\n      } else if (prefix === '') {\n        this.prefix = this.defaultProtocol;\n      } else {\n        this.prefix = prefix;\n      }\n      return path;\n    }\n    getAllAnchorsIds() {\n      var _a;\n      const nodes = Array.from((_a = this.editor.getOriginTiptapEditor().view.dom.querySelectorAll('[data-type=\"jump-anchor\"]')) !== null && _a !== void 0 ? _a : []);\n      return Array.from(nodes).map(node => node.getAttribute('id') || '').filter(Boolean);\n    }\n  }\n  TuiEditLinkComponent.ɵfac = function TuiEditLinkComponent_Factory(t) {\n    return new (t || TuiEditLinkComponent)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(TUI_EDITOR_LINK_TEXTS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiEditLinkComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditLinkComponent,\n    selectors: [[\"tui-edit-link\"]],\n    hostBindings: function TuiEditLinkComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"selectionchange\", function TuiEditLinkComponent_selectionchange_HostBindingHandler() {\n          return ctx.onSelectionChange();\n        }, false, i0.ɵɵresolveDocument)(\"mousedown\", function TuiEditLinkComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onMouseDown($event);\n        });\n      }\n    },\n    inputs: {\n      anchorMode: \"anchorMode\"\n    },\n    outputs: {\n      addLink: \"addLink\",\n      removeLink: \"removeLink\"\n    },\n    decls: 5,\n    vars: 3,\n    consts: [[\"view\", \"\"], [\"fullOptions\", \"\"], [\"urlTitle\", \"\"], [1, \"t-edit-link\"], [4, \"ngIf\", \"ngIfElse\"], [4, \"ngIf\"], [1, \"t-label\"], [1, \"t-label-properties\"], [1, \"t-url\"], [1, \"t-prefix\"], [\"tuiAutoFocus\", \"\", 1, \"t-input\", 3, \"ngModelChange\", \"input\", \"keydown.backspace\", \"keydown.prevent.enter\", \"ngModel\"], [1, \"t-cleaner\", 3, \"click\", \"src\"], [\"appearance\", \"icon\", \"shape\", \"rounded\", \"size\", \"s\", \"title\", \"Insert link\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-button\", 3, \"click\", \"icon\"], [\"iconAlign\", \"left\", \"target\", \"_blank\", \"tuiLink\", \"\", 1, \"t-link\", 3, \"href\", \"icon\"], [\"appearance\", \"icon\", \"shape\", \"rounded\", \"size\", \"s\", \"title\", \"Change link\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-button\", \"t-edit-button\", 3, \"click\", \"icon\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__popup-link-clear-button\", \"shape\", \"rounded\", \"size\", \"s\", \"title\", \"Remove link\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-button\", 3, \"click\", \"icon\"], [1, \"t-hr\"], [1, \"t-anchor-list\"], [\"type\", \"button\", \"class\", \"t-anchor\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"t-anchor\", 3, \"click\"]],\n    template: function TuiEditLinkComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 3);\n        i0.ɵɵtemplate(1, TuiEditLinkComponent_ng_container_1_Template, 14, 13, \"ng-container\", 4)(2, TuiEditLinkComponent_ng_template_2_Template, 5, 7, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, TuiEditLinkComponent_ng_container_4_Template, 6, 5, \"ng-container\", 5);\n      }\n      if (rf & 2) {\n        const view_r9 = i0.ɵɵreference(3);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.edit)(\"ngIfElse\", view_r9);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAnchorsList);\n      }\n    },\n    dependencies: [i1.TuiInputInlineComponent, i2.TuiSvgComponent, i2.TuiButtonComponent, i2.TuiLinkComponent, i2.TuiScrollbarComponent, i3.NgIf, i4.TuiAutoFocusDirective, i5.NgControlStatus, i5.NgModel, i3.NgForOf, i3.AsyncPipe, TuiShortUrlPipe, TuiFilterAnchorsPipe],\n    styles: [\"[_nghost-%COMP%]{display:block;min-width:18.75rem}.t-edit-link[_ngcontent-%COMP%]{display:flex;min-height:4rem;align-items:center;padding-right:.75rem}.t-label[_ngcontent-%COMP%]{font:var(--tui-font-text-s);height:var(--tui-height-l);box-sizing:border-box;padding:.4375rem 1rem;min-width:12.5rem;max-width:25rem;width:100%}.t-label-properties[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:8.375rem;justify-content:space-between}.t-property_inactive[_ngcontent-%COMP%]{opacity:.5}.t-url[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-m);color:var(--tui-text-02)}.t-input[_ngcontent-%COMP%]{flex:1}.t-input_filled[_ngcontent-%COMP%]{color:var(--tui-text-01)}.t-button[_ngcontent-%COMP%]{width:2rem;height:2rem;margin:0 .25rem;transition:background .2s}.t-edit-button[_ngcontent-%COMP%]{margin-left:auto}.t-link[_ngcontent-%COMP%]{margin:0 1rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.t-cleaner[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-base-06);cursor:pointer;margin-left:auto}.t-cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-base-07)}.t-cleaner_hidden[_ngcontent-%COMP%]{visibility:hidden}.t-anchor-list[_ngcontent-%COMP%]{display:flex;max-height:12.5rem;flex-direction:column}.t-anchor[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;min-height:2.75rem;padding:.375rem .5rem;margin:.125rem .5rem;border-radius:var(--tui-radius-m);text-align:left}.t-anchor[_ngcontent-%COMP%]:hover{background:var(--tui-base-02);cursor:pointer}\"],\n    changeDetection: 0\n  });\n  return TuiEditLinkComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditLinkModule = /*#__PURE__*/(() => {\n  class TuiEditLinkModule {}\n  TuiEditLinkModule.ɵfac = function TuiEditLinkModule_Factory(t) {\n    return new (t || TuiEditLinkModule)();\n  };\n  TuiEditLinkModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiEditLinkModule\n  });\n  TuiEditLinkModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, FormsModule, TuiAutoFocusModule, TuiButtonModule, TuiSvgModule, TuiLinkModule, TuiInputInlineModule, TuiToggleModule, TuiScrollbarModule]]\n  });\n  return TuiEditLinkModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiEditLinkComponent, TuiEditLinkModule, TuiFilterAnchorsPipe, TuiShortUrlPipe, tuiEditLinkParseUrl };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport * as i5 from 'rxjs';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nfunction TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.onAlign(\"left\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.onAlign(\"center\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.onAlign(\"right\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.onAlign(\"justify\"));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const alignState_r3 = i0.ɵɵnextContext().tuiLet;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.textAlignLeft)(\"pseudoActive\", !!(alignState_r3 == null ? null : alignState_r3.left))(\"tuiHint\", texts_r4.justifyLeft);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.textAlignCenter)(\"pseudoActive\", !!(alignState_r3 == null ? null : alignState_r3.center))(\"tuiHint\", texts_r4.justifyCenter);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.textAlignRight)(\"pseudoActive\", !!(alignState_r3 == null ? null : alignState_r3.right))(\"tuiHint\", texts_r4.justifyRight);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.textAlignJustify)(\"pseudoActive\", !!(alignState_r3 == null ? null : alignState_r3.justify))(\"tuiHint\", texts_r4.justifyFull);\n  }\n}\nfunction TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 4, 0);\n    i0.ɵɵelement(2, \"button\", 5);\n    i0.ɵɵtemplate(3, TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template, 5, 12, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const align_r5 = i0.ɵɵreference(1);\n    const alignDropdown_r6 = i0.ɵɵreference(4);\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", alignDropdown_r6);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", align_r5.open)(\"icon\", ctx_r1.options.icons.textAlignPreview)(\"pseudoActive\", align_r5.open)(\"tuiHint\", texts_r4.justify);\n  }\n}\nfunction TuiAlignContentComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_Template, 5, 5, \"tui-hosted-dropdown\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(2, 1, ctx_r1.alignState$));\n  }\n}\nlet TuiAlignContentComponent = /*#__PURE__*/(() => {\n  class TuiAlignContentComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.alignState$ = combineLatest([this.editor.isActive$({\n        textAlign: 'left'\n      }), this.editor.isActive$({\n        textAlign: 'right'\n      }), this.editor.isActive$({\n        textAlign: 'center'\n      }), this.editor.isActive$({\n        textAlign: 'justify'\n      })]).pipe(map(([left, right, center, justify]) => ({\n        left,\n        right,\n        center,\n        justify\n      })));\n    }\n  }\n  TuiAlignContentComponent.ɵfac = function TuiAlignContentComponent_Factory(t) {\n    return new (t || TuiAlignContentComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiAlignContentComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiAlignContentComponent,\n    selectors: [[\"tui-align-content\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"align\", \"\"], [\"alignDropdown\", \"\"], [4, \"ngIf\"], [3, \"content\", 4, \"tuiLet\"], [3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__align-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [1, \"t-dropdown\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\", \"tuiHint\"]],\n    template: function TuiAlignContentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiAlignContentComponent_ng_container_0_Template, 3, 3, \"ng-container\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.NgIf, i3.TuiLetDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiAlignContentComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAlignContentModule = /*#__PURE__*/(() => {\n  class TuiAlignContentModule {}\n  TuiAlignContentModule.ɵfac = function TuiAlignContentModule_Factory(t) {\n    return new (t || TuiAlignContentModule)();\n  };\n  TuiAlignContentModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiAlignContentModule\n  });\n  TuiAlignContentModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiLetModule]]\n  });\n  return TuiAlignContentModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiAlignContentComponent, TuiAlignContentModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_CODE_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDataListModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nimport * as i4 from 'rxjs';\nfunction TuiCodeComponent_ng_template_5_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function TuiCodeComponent_ng_template_5_button_1_Template_button_click_0_listener() {\n      const index_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onCode(!!index_r2));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r4, \" \");\n  }\n}\nfunction TuiCodeComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\");\n    i0.ɵɵtemplate(1, TuiCodeComponent_ng_template_5_button_1_Template, 2, 1, \"button\", 4);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.codeOptionsTexts$));\n  }\n}\nlet TuiCodeComponent = /*#__PURE__*/(() => {\n  class TuiCodeComponent {\n    constructor(options, editor, texts$, codeOptionsTexts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.codeOptionsTexts$ = codeOptionsTexts$;\n      this.hintText$ = this.texts$.pipe(map(texts => texts.code));\n      this.insideCode$ = this.editor.stateChange$.pipe(map(() => this.editor.isActive('code') || this.editor.isActive('codeBlock')), distinctUntilChanged());\n    }\n    onCode(isCodeBlock) {\n      if (isCodeBlock) {\n        this.editor.toggleCodeBlock();\n      } else {\n        this.editor.toggleCode();\n      }\n    }\n  }\n  TuiCodeComponent.ɵfac = function TuiCodeComponent_Factory(t) {\n    return new (t || TuiCodeComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_CODE_OPTIONS));\n  };\n  TuiCodeComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiCodeComponent,\n    selectors: [[\"tui-code\"]],\n    decls: 7,\n    vars: 9,\n    consts: [[\"codes\", \"\"], [\"codesDropdown\", \"\"], [3, \"content\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"tuiOption\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"click\"]],\n    template: function TuiCodeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 2, 0);\n        i0.ɵɵelement(2, \"button\", 3);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵpipe(4, \"async\");\n        i0.ɵɵtemplate(5, TuiCodeComponent_ng_template_5_Template, 3, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const codes_r5 = i0.ɵɵreference(1);\n        const codesDropdown_r6 = i0.ɵɵreference(6);\n        i0.ɵɵproperty(\"content\", codesDropdown_r6);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"focusable\", codes_r5.open)(\"icon\", ctx.options.icons.code)(\"pseudoActive\", codes_r5.open || i0.ɵɵpipeBind1(3, 5, ctx.insideCode$))(\"tuiHint\", i0.ɵɵpipeBind1(4, 7, ctx.hintText$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i1.TuiDataListComponent, i1.TuiOptionComponent, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.NgForOf, i2.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiCodeComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiCodeModule = /*#__PURE__*/(() => {\n  class TuiCodeModule {}\n  TuiCodeModule.ɵfac = function TuiCodeModule_Factory(t) {\n    return new (t || TuiCodeModule)();\n  };\n  TuiCodeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiCodeModule\n  });\n  TuiCodeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDataListModule]]\n  });\n  return TuiCodeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiCodeComponent, TuiCodeModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nimport * as i4 from 'rxjs';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nfunction TuiDetailsComponent_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function TuiDetailsComponent_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.setDetails());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.detailsAdd)(\"tuiHint\", text_r3.setDetails);\n  }\n}\nfunction TuiDetailsRemoveComponent_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 1);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵlistener(\"click\", function TuiDetailsRemoveComponent_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.removeDetails());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !!i0.ɵɵpipeBind1(1, 4, ctx_r1.disabled$))(\"focusable\", false)(\"icon\", ctx_r1.options.icons.detailsRemove)(\"tuiHint\", text_r3.removeDetails);\n  }\n}\nlet TuiDetailsComponent = /*#__PURE__*/(() => {\n  class TuiDetailsComponent {\n    constructor(editor, texts$, options) {\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.options = options;\n    }\n    setDetails() {\n      this.editor.setDetails();\n    }\n  }\n  TuiDetailsComponent.ɵfac = function TuiDetailsComponent_Factory(t) {\n    return new (t || TuiDetailsComponent)(i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiDetailsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDetailsComponent,\n    selectors: [[\"tui-details\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"]],\n    template: function TuiDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiDetailsComponent_button_0_Template, 1, 3, \"button\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.NgIf, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiDetailsComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDetailsRemoveComponent = /*#__PURE__*/(() => {\n  class TuiDetailsRemoveComponent {\n    constructor(editor, texts$, options) {\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.options = options;\n      this.disabled$ = this.editor.stateChange$.pipe(map(() => !this.editor.isActive('details')), distinctUntilChanged());\n    }\n    removeDetails() {\n      this.editor.removeDetails();\n    }\n  }\n  TuiDetailsRemoveComponent.ɵfac = function TuiDetailsRemoveComponent_Factory(t) {\n    return new (t || TuiDetailsRemoveComponent)(i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiDetailsRemoveComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDetailsRemoveComponent,\n    selectors: [[\"tui-details-remove\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"disabled\", \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"]],\n    template: function TuiDetailsRemoveComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiDetailsRemoveComponent_button_0_Template, 2, 6, \"button\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.NgIf, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiDetailsRemoveComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDetailsModule = /*#__PURE__*/(() => {\n  class TuiDetailsModule {}\n  TuiDetailsModule.ɵfac = function TuiDetailsModule_Factory(t) {\n    return new (t || TuiDetailsModule)();\n  };\n  TuiDetailsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiDetailsModule\n  });\n  TuiDetailsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHintModule]]\n  });\n  return TuiDetailsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiDetailsComponent, TuiDetailsModule, TuiDetailsRemoveComponent };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { tuiPx } from '@taiga-ui/cdk';\nimport { EDITOR_BLANK_COLOR } from '@tinkoff/tui-editor/constants';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_FONT_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDataListModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nimport * as i4 from 'rxjs';\nconst _c0 = () => ({});\nfunction TuiFontSizeComponent_ng_template_4_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵpipe(1, \"lowercase\");\n    i0.ɵɵlistener(\"click\", function TuiFontSizeComponent_ng_template_4_button_1_Template_button_click_0_listener() {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.setFontOption(item_r2));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"font-family\", item_r2.family)(\"font-size\", item_r2.px, \"px\")(\"font-weight\", item_r2.weight);\n    i0.ɵɵproperty(\"ngClass\", (item_r2 == null ? null : item_r2.ngClass) || i0.ɵɵpureFunction0(12, _c0))(\"ngStyle\", (item_r2 == null ? null : item_r2.ngStyle) || i0.ɵɵpureFunction0(13, _c0));\n    i0.ɵɵattribute(\"automation-id\", \"tui_font__\" + i0.ɵɵpipeBind1(1, 10, item_r2.name || \"\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.name, \" \");\n  }\n}\nfunction TuiFontSizeComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\");\n    i0.ɵɵtemplate(1, TuiFontSizeComponent_ng_template_4_button_1_Template, 3, 14, \"button\", 4);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.fontsOptions$));\n  }\n}\nlet TuiFontSizeComponent = /*#__PURE__*/(() => {\n  class TuiFontSizeComponent {\n    constructor(options, editor, texts$, fontOptionsTexts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.fontOptionsTexts$ = fontOptionsTexts$;\n      this.fontsOptions$ = this.fontOptionsTexts$.pipe(map(texts => this.options.fontOptions(texts)));\n      this.fontText$ = this.texts$.pipe(map(texts => texts.font));\n    }\n    /**\n     * @deprecated:\n     * use {@link setFontOption}\n     */\n    onClick({\n      headingLevel,\n      px\n    }) {\n      this.setFontOption({\n        headingLevel,\n        px\n      });\n    }\n    setFontOption({\n      headingLevel,\n      px\n    }) {\n      const color = this.editor.getFontColor();\n      this.clearPreviousTextStyles();\n      if (headingLevel) {\n        this.editor.setHeading(headingLevel);\n      } else {\n        this.editor.setParagraph({\n          fontSize: tuiPx(px || 0)\n        });\n      }\n      if (color !== EDITOR_BLANK_COLOR) {\n        this.editor.setFontColor(color);\n      }\n    }\n    clearPreviousTextStyles() {\n      this.editor.removeEmptyTextStyle();\n      this.editor.toggleMark('textStyle');\n    }\n  }\n  TuiFontSizeComponent.ɵfac = function TuiFontSizeComponent_Factory(t) {\n    return new (t || TuiFontSizeComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_FONT_OPTIONS));\n  };\n  TuiFontSizeComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiFontSizeComponent,\n    selectors: [[\"tui-font-size\"]],\n    decls: 6,\n    vars: 7,\n    consts: [[\"fonts\", \"\"], [\"fontsDropdown\", \"\"], [3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__font-size-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"tuiOption\", \"\", 3, \"ngClass\", \"ngStyle\", \"fontFamily\", \"fontSize\", \"fontWeight\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"click\", \"ngClass\", \"ngStyle\"]],\n    template: function TuiFontSizeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 2, 0);\n        i0.ɵɵelement(2, \"button\", 3);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵtemplate(4, TuiFontSizeComponent_ng_template_4_Template, 3, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const fonts_r4 = i0.ɵɵreference(1);\n        const fontsDropdown_r5 = i0.ɵɵreference(5);\n        i0.ɵɵproperty(\"content\", fontsDropdown_r5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"focusable\", fonts_r4.open)(\"icon\", ctx.options.icons.fontSize)(\"pseudoActive\", fonts_r4.open)(\"tuiHint\", i0.ɵɵpipeBind1(3, 5, ctx.fontText$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i1.TuiDataListComponent, i1.TuiOptionComponent, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.NgForOf, i2.NgClass, i2.NgStyle, i2.AsyncPipe, i2.LowerCasePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiFontSizeComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFontSizeModule = /*#__PURE__*/(() => {\n  class TuiFontSizeModule {}\n  TuiFontSizeModule.ɵfac = function TuiFontSizeModule_Factory(t) {\n    return new (t || TuiFontSizeModule)();\n  };\n  TuiFontSizeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFontSizeModule\n  });\n  TuiFontSizeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDataListModule]]\n  });\n  return TuiFontSizeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFontSizeComponent, TuiFontSizeModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport { defaultEditorTools } from '@tinkoff/tui-editor/constants';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TuiEditorTool } from '@tinkoff/tui-editor/enums';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport * as i4 from 'rxjs';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleBold());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext(2).ngIf;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.fontStyleBold)(\"pseudoActive\", state_r3.bold)(\"tuiHint\", texts_r4.bold);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleItalic());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext(2).ngIf;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.fontStyleItalic)(\"pseudoActive\", state_r3.italic)(\"tuiHint\", texts_r4.italic);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleUnderline());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext(2).ngIf;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.fontStyleUnderline)(\"pseudoActive\", state_r3.underline)(\"tuiHint\", texts_r4.underline);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleStrike());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext(2).ngIf;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.fontStyleStrike)(\"pseudoActive\", state_r3.strike)(\"tuiHint\", texts_r4.strikeThrough);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_1_Template, 1, 3, \"button\", 7)(2, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_2_Template, 1, 3, \"button\", 7)(3, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_3_Template, 1, 3, \"button\", 7)(4, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_4_Template, 1, 3, \"button\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEnabled(ctx_r1.editorTool.Bold));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEnabled(ctx_r1.editorTool.Italic));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEnabled(ctx_r1.editorTool.Underline));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEnabled(ctx_r1.editorTool.Strikethrough));\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 4, 0);\n    i0.ɵɵelement(2, \"button\", 5);\n    i0.ɵɵtemplate(3, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template, 5, 4, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = ctx.ngIf;\n    const format_r8 = i0.ɵɵreference(1);\n    const formatDropdown_r9 = i0.ɵɵreference(4);\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", formatDropdown_r9);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", format_r8.open)(\"icon\", ctx_r1.options.icons.fontStylePreview)(\"pseudoActive\", format_r8.open || state_r3.bold || state_r3.italic || state_r3.underline || state_r3.strike)(\"tuiHint\", texts_r4.fontStyle);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_Template, 5, 5, \"tui-hosted-dropdown\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r1.fontStyleState$));\n  }\n}\nlet TuiFontStyleComponent = /*#__PURE__*/(() => {\n  class TuiFontStyleComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.toolsSet = new Set(defaultEditorTools);\n      this.editorTool = TuiEditorTool;\n      this.fontStyleState$ = combineLatest([this.editor.isActive$('bold'), this.editor.isActive$('italic'), this.editor.isActive$('underline'), this.editor.isActive$('strike')]).pipe(map(([bold, italic, underline, strike]) => ({\n        bold,\n        italic,\n        underline,\n        strike\n      })));\n    }\n    set enabledTools(value) {\n      this.toolsSet = new Set(value);\n    }\n    isEnabled(tool) {\n      return this.toolsSet.has(tool);\n    }\n  }\n  TuiFontStyleComponent.ɵfac = function TuiFontStyleComponent_Factory(t) {\n    return new (t || TuiFontStyleComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiFontStyleComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiFontStyleComponent,\n    selectors: [[\"tui-font-style\"]],\n    inputs: {\n      enabledTools: \"enabledTools\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"format\", \"\"], [\"formatDropdown\", \"\"], [4, \"ngIf\"], [3, \"content\", 4, \"ngIf\"], [3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__font-style-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [1, \"t-dropdown\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", \"class\", \"t-option t-option_margin\", 3, \"icon\", \"pseudoActive\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\", \"tuiHint\"]],\n    template: function TuiFontStyleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiFontStyleComponent_ng_container_0_Template, 3, 3, \"ng-container\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.NgIf, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiFontStyleComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFontStyleModule = /*#__PURE__*/(() => {\n  class TuiFontStyleModule {}\n  TuiFontStyleModule.ɵfac = function TuiFontStyleModule_Factory(t) {\n    return new (t || TuiFontStyleModule)();\n  };\n  TuiFontStyleModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFontStyleModule\n  });\n  TuiFontStyleModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule]]\n  });\n  return TuiFontStyleModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFontStyleComponent, TuiFontStyleModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nimport * as i4 from 'rxjs';\nlet TuiEditorGroupToolComponent = /*#__PURE__*/(() => {\n  class TuiEditorGroupToolComponent {\n    constructor(editor, texts$, options) {\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.options = options;\n      this.insertGroupText$ = this.texts$.pipe(map(texts => texts.insertGroup));\n      this.removeGroupText$ = this.texts$.pipe(map(texts => texts.removeGroup));\n      this.disabled$ = this.editor.stateChange$.pipe(map(() => !this.editor.isActive('group')), distinctUntilChanged());\n    }\n    addGroup() {\n      this.editor.setGroup();\n    }\n    removeGroup() {\n      this.editor.removeGroup();\n    }\n  }\n  TuiEditorGroupToolComponent.ɵfac = function TuiEditorGroupToolComponent_Factory(t) {\n    return new (t || TuiEditorGroupToolComponent)(i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiEditorGroupToolComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditorGroupToolComponent,\n    selectors: [[\"tui-editor-group-tool\"]],\n    decls: 5,\n    vars: 13,\n    consts: [[\"appearance\", \"icon\", \"automation-id\", \"toolbar__group-add-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__group-remove-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"]],\n    template: function TuiEditorGroupToolComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵlistener(\"click\", function TuiEditorGroupToolComponent_Template_button_click_0_listener() {\n          return ctx.addGroup();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"button\", 1);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵpipe(4, \"async\");\n        i0.ɵɵlistener(\"click\", function TuiEditorGroupToolComponent_Template_button_click_2_listener() {\n          return ctx.removeGroup();\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx.options.icons.groupAdd)(\"tuiHint\", i0.ɵɵpipeBind1(1, 7, ctx.insertGroupText$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !!i0.ɵɵpipeBind1(3, 9, ctx.disabled$))(\"focusable\", false)(\"icon\", ctx.options.icons.groupRemove)(\"tuiHint\", i0.ɵɵpipeBind1(4, 11, ctx.removeGroupText$));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiEditorGroupToolComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorToolGroup = /*#__PURE__*/(() => {\n  class TuiEditorToolGroup {}\n  TuiEditorToolGroup.ɵfac = function TuiEditorToolGroup_Factory(t) {\n    return new (t || TuiEditorToolGroup)();\n  };\n  TuiEditorToolGroup.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiEditorToolGroup\n  });\n  TuiEditorToolGroup.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHintModule]]\n  });\n  return TuiEditorToolGroup;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiEditorGroupToolComponent, TuiEditorToolGroup };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDropdownModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/color-selector';\nimport { TuiPaletteModule } from '@tinkoff/tui-editor/components/color-selector';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiActiveZoneModule, TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@tinkoff/tui-editor/abstract';\nimport * as i6 from 'rxjs';\nfunction TuiHighlightColorComponent_tui_hosted_dropdown_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 6);\n  }\n  if (rf & 2) {\n    const selectedColor_r1 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵstyleProp(\"background\", selectedColor_r1);\n  }\n}\nfunction TuiHighlightColorComponent_tui_hosted_dropdown_0_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-palette\", 7);\n    i0.ɵɵlistener(\"selectedColor\", function TuiHighlightColorComponent_tui_hosted_dropdown_0_ng_template_5_Template_tui_palette_selectedColor_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.editor.setBackgroundColor($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activeZone_r4 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"colors\", ctx_r2.colors)(\"tuiActiveZoneParent\", activeZone_r4);\n  }\n}\nfunction TuiHighlightColorComponent_tui_hosted_dropdown_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 3, 0);\n    i0.ɵɵelement(2, \"button\", 4);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵtemplate(4, TuiHighlightColorComponent_tui_hosted_dropdown_0_div_4_Template, 1, 2, \"div\", 5)(5, TuiHighlightColorComponent_tui_hosted_dropdown_0_ng_template_5_Template, 1, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const selectedColor_r1 = ctx.tuiLet;\n    const hilite_r5 = i0.ɵɵreference(1);\n    const hiliteDropdown_r6 = i0.ɵɵreference(6);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", hiliteDropdown_r6)(\"tuiDropdownMaxHeight\", 999);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", hilite_r5.open)(\"icon\", ctx_r2.options.icons.textHilite)(\"pseudoActive\", hilite_r5.open)(\"tuiHint\", i0.ɵɵpipeBind1(3, 7, ctx_r2.backColorText$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isBlankColor(selectedColor_r1 || \"\"));\n  }\n}\nlet TuiHighlightColorComponent = /*#__PURE__*/(() => {\n  class TuiHighlightColorComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.colors = this.options.colors;\n      this.backgroundColor$ = this.editor.stateChange$.pipe(map(() => this.editor.getBackgroundColor() || this.options.blankColor), distinctUntilChanged());\n      this.backColorText$ = this.texts$.pipe(map(texts => texts.backColor));\n    }\n    isBlankColor(color) {\n      return color === this.options.blankColor;\n    }\n  }\n  TuiHighlightColorComponent.ɵfac = function TuiHighlightColorComponent_Factory(t) {\n    return new (t || TuiHighlightColorComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiHighlightColorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiHighlightColorComponent,\n    selectors: [[\"tui-highlight-color\"]],\n    inputs: {\n      colors: \"colors\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"hilite\", \"\"], [\"hiliteDropdown\", \"\"], [3, \"content\", \"tuiDropdownMaxHeight\", 4, \"tuiLet\"], [3, \"content\", \"tuiDropdownMaxHeight\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__hilite-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-tool\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"class\", \"t-plate\", 3, \"background\", 4, \"ngIf\"], [1, \"t-plate\"], [1, \"t-color-picker\", 3, \"selectedColor\", \"colors\", \"tuiActiveZoneParent\"]],\n    template: function TuiHighlightColorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiHighlightColorComponent_tui_hosted_dropdown_0_Template, 7, 9, \"tui-hosted-dropdown\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.backgroundColor$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.TuiPaletteComponent, i3.TuiLetDirective, i1.TuiDropdownOptionsDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i4.NgIf, i3.TuiActiveZoneDirective, i4.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiHighlightColorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHighlightColorModule = /*#__PURE__*/(() => {\n  class TuiHighlightColorModule {}\n  TuiHighlightColorModule.ɵfac = function TuiHighlightColorModule_Factory(t) {\n    return new (t || TuiHighlightColorModule)();\n  };\n  TuiHighlightColorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiHighlightColorModule\n  });\n  TuiHighlightColorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiPaletteModule, TuiHintModule, TuiDropdownModule, TuiActiveZoneModule, TuiLetModule]]\n  });\n  return TuiHighlightColorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiHighlightColorComponent, TuiHighlightColorModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport * as i5 from 'rxjs';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nfunction TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleUnorderedList());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleOrderedList());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleTaskList());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.sinkListItem());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.liftListItem());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext().tuiLet;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.listUnOrdered)(\"pseudoActive\", !!(state_r3 == null ? null : state_r3.unordered))(\"tuiHint\", texts_r4.unorderedList);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.listOrdered)(\"pseudoActive\", !!(state_r3 == null ? null : state_r3.ordered))(\"tuiHint\", texts_r4.orderedList);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.taskList)(\"pseudoActive\", !!(state_r3 == null ? null : state_r3.tasked));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.indent)(\"tuiHint\", texts_r4.indent);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.outdent)(\"tuiHint\", texts_r4.outdent);\n  }\n}\nfunction TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 4, 0);\n    i0.ɵɵelement(2, \"button\", 5);\n    i0.ɵɵtemplate(3, TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template, 6, 12, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = ctx.tuiLet;\n    const list_r5 = i0.ɵɵreference(1);\n    const listDropdown_r6 = i0.ɵɵreference(4);\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", listDropdown_r6);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", list_r5.open)(\"icon\", ctx_r1.options.icons.listPreview)(\"pseudoActive\", (list_r5 == null ? null : list_r5.open) || (state_r3 == null ? null : state_r3.unordered) || (state_r3 == null ? null : state_r3.ordered) || false)(\"tuiHint\", texts_r4.list);\n  }\n}\nfunction TuiListConfigsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_Template, 5, 5, \"tui-hosted-dropdown\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(2, 1, ctx_r1.listState$));\n  }\n}\nlet TuiListConfigsComponent = /*#__PURE__*/(() => {\n  class TuiListConfigsComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.listState$ = combineLatest([this.editor.isActive$('orderedList'), this.editor.isActive$('bulletList'), this.editor.isActive$('taskList')]).pipe(map(([ordered, unordered, tasked]) => ({\n        ordered,\n        unordered,\n        tasked\n      })));\n    }\n    sinkListItem() {\n      this.editor.sinkListItem();\n    }\n    liftListItem() {\n      this.editor.liftListItem();\n    }\n  }\n  TuiListConfigsComponent.ɵfac = function TuiListConfigsComponent_Factory(t) {\n    return new (t || TuiListConfigsComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiListConfigsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiListConfigsComponent,\n    selectors: [[\"tui-list-configs\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"list\", \"\"], [\"listDropdown\", \"\"], [4, \"ngIf\"], [3, \"content\", 4, \"tuiLet\"], [3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__ordering-list-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [1, \"t-dropdown\", \"t-dropdown-list\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__un-ordered-list-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__ordered-list-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__task-list-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar_indent-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar_outdent-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", 3, \"click\", \"icon\", \"tuiHint\"]],\n    template: function TuiListConfigsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiListConfigsComponent_ng_container_0_Template, 3, 3, \"ng-container\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.NgIf, i3.TuiLetDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiListConfigsComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiListConfigsModule = /*#__PURE__*/(() => {\n  class TuiListConfigsModule {}\n  TuiListConfigsModule.ɵfac = function TuiListConfigsModule_Factory(t) {\n    return new (t || TuiListConfigsModule)();\n  };\n  TuiListConfigsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiListConfigsModule\n  });\n  TuiListConfigsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiLetModule]]\n  });\n  return TuiListConfigsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiListConfigsComponent, TuiListConfigsModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport * as i6 from 'rxjs';\nimport { combineLatest } from 'rxjs';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDropdownModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/color-selector';\nimport { TuiPaletteModule } from '@tinkoff/tui-editor/components/color-selector';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiActiveZoneModule, TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@tinkoff/tui-editor/abstract';\nfunction TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 7);\n  }\n  if (rf & 2) {\n    const color_r1 = i0.ɵɵnextContext(2).tuiLet;\n    i0.ɵɵstyleProp(\"background\", color_r1);\n  }\n}\nfunction TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-palette\", 8);\n    i0.ɵɵlistener(\"selectedColor\", function TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_5_Template_tui_palette_selectedColor_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      i0.ɵɵnextContext();\n      const colorSelect_r3 = i0.ɵɵreference(1);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      ctx_r3.setCellColor($event);\n      return i0.ɵɵresetView(colorSelect_r3.close());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activeZone_r5 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"colors\", ctx_r3.colors)(\"tuiActiveZoneParent\", activeZone_r5);\n  }\n}\nfunction TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 4, 0);\n    i0.ɵɵelement(2, \"button\", 5);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵtemplate(4, TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_div_4_Template, 1, 2, \"div\", 6)(5, TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_5_Template, 1, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const isActive_r6 = ctx.tuiLet;\n    const colorSelect_r3 = i0.ɵɵreference(1);\n    const cellColorDropdown_r7 = i0.ɵɵreference(6);\n    const color_r1 = i0.ɵɵnextContext().tuiLet;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"canOpen\", !!isActive_r6)(\"content\", cellColorDropdown_r7)(\"tuiDropdownMaxHeight\", 999);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !isActive_r6)(\"focusable\", colorSelect_r3.open)(\"icon\", ctx_r3.options.icons.paint)(\"pseudoActive\", colorSelect_r3.open)(\"tuiHint\", i0.ɵɵpipeBind1(3, 9, ctx_r3.colorText$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.isBlankColor(color_r1 || \"\"));\n  }\n}\nfunction TuiTableCellColorComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_Template, 7, 11, \"tui-hosted-dropdown\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(2, 1, ctx_r3.isActive$));\n  }\n}\nlet TuiTableCellColorComponent = /*#__PURE__*/(() => {\n  class TuiTableCellColorComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.colors = this.options.colors;\n      this.colorText$ = this.texts$.pipe(map(texts => this.editor.isActive('group') && texts.hiliteGroup || this.editor.isActive('table') && texts.cellColor || ''));\n      this.isActive$ = combineLatest([this.editor.isActive$('table'), this.editor.isActive$('group')]).pipe(map(([table, group]) => table || group));\n      this.color$ = this.editor.stateChange$.pipe(map(() => this.editor.getCellColor() || this.editor.getGroupColor() || this.options.blankColor), distinctUntilChanged());\n    }\n    isBlankColor(color) {\n      return color === this.options.blankColor;\n    }\n    setCellColor(color) {\n      if (this.editor.isActive('group')) {\n        this.editor.setGroupHilite(color);\n      } else if (this.editor.isActive('table')) {\n        this.editor.setCellColor(color);\n      }\n    }\n  }\n  TuiTableCellColorComponent.ɵfac = function TuiTableCellColorComponent_Factory(t) {\n    return new (t || TuiTableCellColorComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiTableCellColorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableCellColorComponent,\n    selectors: [[\"tui-table-cell-color\"]],\n    inputs: {\n      colors: \"colors\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"colorSelect\", \"\"], [\"cellColorDropdown\", \"\"], [4, \"tuiLet\"], [3, \"canOpen\", \"content\", \"tuiDropdownMaxHeight\", 4, \"tuiLet\"], [3, \"canOpen\", \"content\", \"tuiDropdownMaxHeight\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"disabled\", \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"class\", \"t-plate t-plate_paint\", 3, \"background\", 4, \"ngIf\"], [1, \"t-plate\", \"t-plate_paint\"], [1, \"t-color-picker\", 3, \"selectedColor\", \"colors\", \"tuiActiveZoneParent\"]],\n    template: function TuiTableCellColorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTableCellColorComponent_ng_container_0_Template, 3, 3, \"ng-container\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.color$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.TuiPaletteComponent, i3.TuiLetDirective, i1.TuiDropdownOptionsDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i4.NgIf, i3.TuiActiveZoneDirective, i4.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiTableCellColorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableCellColorModule = /*#__PURE__*/(() => {\n  class TuiTableCellColorModule {}\n  TuiTableCellColorModule.ɵfac = function TuiTableCellColorModule_Factory(t) {\n    return new (t || TuiTableCellColorModule)();\n  };\n  TuiTableCellColorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableCellColorModule\n  });\n  TuiTableCellColorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiPaletteModule, TuiButtonModule, TuiHintModule, TuiActiveZoneModule, TuiDropdownModule, TuiLetModule]]\n  });\n  return TuiTableCellColorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableCellColorComponent, TuiTableCellColorModule };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Inject, Output, NgModule } from '@angular/core';\nimport { WINDOW } from '@ng-web-apis/common';\nimport { tuiGetViewportWidth } from '@taiga-ui/core';\nimport * as i1 from '@taiga-ui/cdk';\nimport { TuiRepeatTimesModule } from '@taiga-ui/cdk';\nimport { CommonModule } from '@angular/common';\nfunction TuiTableSizeSelectorComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function TuiTableSizeSelectorComponent_div_0_div_1_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.select());\n    })(\"mouseenter\", function TuiTableSizeSelectorComponent_div_0_div_1_Template_div_mouseenter_0_listener($event) {\n      const y_r3 = i0.ɵɵrestoreView(_r1).$implicit;\n      const x_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.updateCurrentSize(y_r3 + 1, x_r4 + 1, $event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const y_r3 = ctx.$implicit;\n    const x_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-cell_hovered\", ctx_r1.tableSelectHovered(y_r3, x_r4));\n  }\n}\nfunction TuiTableSizeSelectorComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, TuiTableSizeSelectorComponent_div_0_div_1_Template, 1, 2, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiRepeatTimesOf\", ctx_r1.rowsNumber);\n  }\n}\nconst MAX_COLS_NUMBER = 15;\nconst MAX_ROWS_NUMBER = 15;\nconst MIN_DISTANCE_PX = 70;\nlet TuiTableSizeSelectorComponent = /*#__PURE__*/(() => {\n  class TuiTableSizeSelectorComponent {\n    constructor(win) {\n      this.win = win;\n      this.selectSize = new EventEmitter();\n      /**\n       * @deprecated use {@link selectSize}\n       * TODO: remove in v4.0\n       */\n      this.onSelectSize = this.selectSize;\n      this.tableSize = {\n        rows: 1,\n        cols: 1\n      };\n    }\n    get columnsNumber() {\n      return Math.min(Math.max(3, this.tableSize.cols + 1), MAX_COLS_NUMBER);\n    }\n    get rowsNumber() {\n      return Math.min(Math.max(3, this.tableSize.rows + 1), MAX_ROWS_NUMBER);\n    }\n    tableSelectHovered(x, y) {\n      return x < this.tableSize.rows && y < this.tableSize.cols;\n    }\n    updateCurrentSize(rows, cols, event) {\n      if (tuiGetViewportWidth(this.win) - event.clientX > MIN_DISTANCE_PX) {\n        this.tableSize = {\n          rows,\n          cols\n        };\n      }\n    }\n    /**\n     * @deprecated use {@link select}\n     * TODO: remove in v4.0\n     */\n    onClick() {\n      this.select();\n    }\n    select() {\n      this.selectSize.emit(this.tableSize);\n    }\n  }\n  TuiTableSizeSelectorComponent.ɵfac = function TuiTableSizeSelectorComponent_Factory(t) {\n    return new (t || TuiTableSizeSelectorComponent)(i0.ɵɵdirectiveInject(WINDOW));\n  };\n  TuiTableSizeSelectorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableSizeSelectorComponent,\n    selectors: [[\"tui-table-size-selector\"]],\n    outputs: {\n      selectSize: \"selectSize\",\n      onSelectSize: \"onSelectSize\"\n    },\n    decls: 3,\n    vars: 3,\n    consts: [[\"class\", \"t-column\", 4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [1, \"t-description\"], [1, \"t-column\"], [\"class\", \"t-cell\", 3, \"t-cell_hovered\", \"click\", \"mouseenter\", 4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [1, \"t-cell\", 3, \"click\", \"mouseenter\"]],\n    template: function TuiTableSizeSelectorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTableSizeSelectorComponent_div_0_Template, 2, 1, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiRepeatTimesOf\", ctx.columnsNumber);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\"\", ctx.tableSize.cols, \"\\xD7\", ctx.tableSize.rows, \"\");\n      }\n    },\n    dependencies: [i1.TuiRepeatTimesDirective],\n    styles: [\"[_nghost-%COMP%]{display:block;padding:.75rem}.t-cell[_ngcontent-%COMP%]{display:inline-block;background-color:var(--tui-base-01);width:1.25rem;height:1.25rem;border-radius:.25rem;margin:.125rem;border:1px solid var(--tui-base-04);cursor:pointer}.t-cell_hovered[_ngcontent-%COMP%]{background-color:var(--tui-base-02)}.t-column[_ngcontent-%COMP%]{white-space:nowrap}.t-description[_ngcontent-%COMP%]{text-align:center}\"],\n    changeDetection: 0\n  });\n  return TuiTableSizeSelectorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableSizeSelectorModule = /*#__PURE__*/(() => {\n  class TuiTableSizeSelectorModule {}\n  TuiTableSizeSelectorModule.ɵfac = function TuiTableSizeSelectorModule_Factory(t) {\n    return new (t || TuiTableSizeSelectorModule)();\n  };\n  TuiTableSizeSelectorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableSizeSelectorModule\n  });\n  TuiTableSizeSelectorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiRepeatTimesModule]]\n  });\n  return TuiTableSizeSelectorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableSizeSelectorComponent, TuiTableSizeSelectorModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiDropdownModule, TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/toolbar-tools/table-size-selector';\nimport { TuiTableSizeSelectorModule } from '@tinkoff/tui-editor/components/toolbar-tools/table-size-selector';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nimport * as i5 from 'rxjs';\nfunction TuiTableCreateComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-table-size-selector\", 4);\n    i0.ɵɵlistener(\"selectSize\", function TuiTableCreateComponent_ng_template_4_Template_tui_table_size_selector_selectSize_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addTable($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nlet TuiTableCreateComponent = /*#__PURE__*/(() => {\n  class TuiTableCreateComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.insertTableText$ = this.texts$.pipe(map(texts => texts.insertTable));\n    }\n    addTable({\n      rows,\n      cols\n    }) {\n      this.editor.enter(); // @note: clear previous styles\n      const prevLine = this.editor.state.selection.anchor;\n      // @note: don't use `setHardBreak`,\n      // it inherits styles of previous lines\n      // required two line after\n      this.editor.enter();\n      this.editor.enter();\n      this.editor.setTextSelection(prevLine);\n      this.editor.insertTable(rows, cols);\n    }\n  }\n  TuiTableCreateComponent.ɵfac = function TuiTableCreateComponent_Factory(t) {\n    return new (t || TuiTableCreateComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiTableCreateComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableCreateComponent,\n    selectors: [[\"tui-table-create\"]],\n    decls: 6,\n    vars: 6,\n    consts: [[\"table\", \"\"], [\"tableDropdown\", \"\"], [\"tuiDropdownAlign\", \"left\", \"tuiDropdownDirection\", \"bottom\", 3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__insert-table-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"tuiHint\"], [3, \"selectSize\"]],\n    template: function TuiTableCreateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 2, 0);\n        i0.ɵɵelement(2, \"button\", 3);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, TuiTableCreateComponent_ng_template_4_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const table_r3 = i0.ɵɵreference(1);\n        const tableDropdown_r4 = i0.ɵɵreference(5);\n        i0.ɵɵproperty(\"content\", tableDropdown_r4);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"focusable\", table_r3.open)(\"icon\", ctx.options.icons.insertTable)(\"tuiHint\", i0.ɵɵpipeBind1(3, 4, ctx.insertTableText$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.TuiTableSizeSelectorComponent, i1.TuiDropdownOptionsDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiTableCreateComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableCreateModule = /*#__PURE__*/(() => {\n  class TuiTableCreateModule {}\n  TuiTableCreateModule.ɵfac = function TuiTableCreateModule_Factory(t) {\n    return new (t || TuiTableCreateModule)();\n  };\n  TuiTableCreateModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableCreateModule\n  });\n  TuiTableCreateModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiDropdownModule, TuiButtonModule, TuiHintModule, TuiTableSizeSelectorModule]]\n  });\n  return TuiTableCreateModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableCreateComponent, TuiTableCreateModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@taiga-ui/cdk';\nimport { TuiLetModule } from '@taiga-ui/cdk';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nimport * as i5 from 'rxjs';\nconst _c0 = (a0, a1) => ({\n  mergeCells: a0,\n  splitCells: a1\n});\nfunction TuiTableMergeCellsComponent_ng_container_0_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function TuiTableMergeCellsComponent_ng_container_0_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const can_r2 = i0.ɵɵnextContext().tuiLet;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(can_r2.mergeCells ? ctx_r2.mergeCells() : ctx_r2.splitCell());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r4 = ctx.ngIf;\n    const can_r2 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵproperty(\"disabled\", !can_r2.mergeCells && !can_r2.splitCells)(\"focusable\", false)(\"icon\", can_r2.mergeCells ? \"tuiIconTableMergeLarge\" : \"tuiIconTableSplitLarge\")(\"tuiHint\", can_r2.mergeCells ? texts_r4.mergeCells : texts_r4.splitCells);\n  }\n}\nfunction TuiTableMergeCellsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiTableMergeCellsComponent_ng_container_0_button_1_Template, 1, 4, \"button\", 1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.texts$));\n  }\n}\nlet TuiTableMergeCellsComponent = /*#__PURE__*/(() => {\n  class TuiTableMergeCellsComponent {\n    constructor(editor, texts$) {\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.canMergeCells$ = this.editor.stateChange$.pipe(map(() => this.editor.canMergeCells()), distinctUntilChanged());\n      this.canSplitCells$ = this.editor.stateChange$.pipe(map(() => this.editor.canSplitCells()), distinctUntilChanged());\n    }\n    mergeCells() {\n      this.editor.mergeCells();\n    }\n    splitCell() {\n      this.editor.splitCell();\n    }\n  }\n  TuiTableMergeCellsComponent.ɵfac = function TuiTableMergeCellsComponent_Factory(t) {\n    return new (t || TuiTableMergeCellsComponent)(i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiTableMergeCellsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableMergeCellsComponent,\n    selectors: [[\"tui-table-merge-cells\"]],\n    decls: 3,\n    vars: 8,\n    consts: [[4, \"tuiLet\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"disabled\", \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"]],\n    template: function TuiTableMergeCellsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTableMergeCellsComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpureFunction2(5, _c0, i0.ɵɵpipeBind1(1, 1, ctx.canMergeCells$), i0.ɵɵpipeBind1(2, 3, ctx.canSplitCells$)));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.TuiLetDirective, i3.NgIf, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiTableMergeCellsComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableMergeCellsModule = /*#__PURE__*/(() => {\n  class TuiTableMergeCellsModule {}\n  TuiTableMergeCellsModule.ɵfac = function TuiTableMergeCellsModule_Factory(t) {\n    return new (t || TuiTableMergeCellsModule)();\n  };\n  TuiTableMergeCellsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableMergeCellsModule\n  });\n  TuiTableMergeCellsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHintModule, TuiLetModule]]\n  });\n  return TuiTableMergeCellsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableMergeCellsComponent, TuiTableMergeCellsModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_TABLE_COMMANDS } from '@tinkoff/tui-editor/tokens';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiHintModule, TuiButtonModule, TuiDataListModule } from '@taiga-ui/core';\nimport * as i2 from '@taiga-ui/cdk';\nimport { TuiLetModule } from '@taiga-ui/cdk';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nimport * as i5 from 'rxjs';\n\n// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nfunction TuiTableRowColumnManagerComponent_tui_hosted_dropdown_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 3, 1);\n    i0.ɵɵelement(2, \"button\", 4);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const active_r1 = ctx.tuiLet;\n    const tableCommand_r2 = i0.ɵɵreference(1);\n    const ctx_r2 = i0.ɵɵnextContext();\n    const tableOptionsDropdown_r4 = i0.ɵɵreference(3);\n    i0.ɵɵproperty(\"canOpen\", !!active_r1)(\"content\", tableOptionsDropdown_r4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !active_r1)(\"focusable\", tableCommand_r2.open)(\"icon\", ctx_r2.options.icons.addRowTable)(\"tuiHint\", i0.ɵɵpipeBind1(3, 6, ctx_r2.rowsColumnsManagingText$));\n  }\n}\nfunction TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_button_1_Template_button_click_0_listener() {\n      const j_r6 = i0.ɵɵrestoreView(_r5).index;\n      const i_r7 = i0.ɵɵnextContext().index;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onTableOption(i_r7 * 2 + j_r6));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r8, \" \");\n  }\n}\nfunction TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-opt-group\");\n    i0.ɵɵtemplate(1, TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_button_1_Template, 2, 1, \"button\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const group_r9 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", group_r9);\n  }\n}\nfunction TuiTableRowColumnManagerComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\");\n    i0.ɵɵtemplate(1, TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_Template, 2, 1, \"tui-opt-group\", 5);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.tableCommandTexts$));\n  }\n}\nvar TuiTableCommands = /*#__PURE__*/function (TuiTableCommands) {\n  TuiTableCommands[TuiTableCommands[\"InsertColumnBefore\"] = 0] = \"InsertColumnBefore\";\n  TuiTableCommands[TuiTableCommands[\"InsertColumnAfter\"] = 1] = \"InsertColumnAfter\";\n  TuiTableCommands[TuiTableCommands[\"InsertRowBefore\"] = 2] = \"InsertRowBefore\";\n  TuiTableCommands[TuiTableCommands[\"InsertRowAfter\"] = 3] = \"InsertRowAfter\";\n  TuiTableCommands[TuiTableCommands[\"DeleteColumn\"] = 4] = \"DeleteColumn\";\n  TuiTableCommands[TuiTableCommands[\"DeleteRow\"] = 5] = \"DeleteRow\";\n  return TuiTableCommands;\n}(TuiTableCommands || {});\nlet TuiTableRowColumnManagerComponent = /*#__PURE__*/(() => {\n  class TuiTableRowColumnManagerComponent {\n    constructor(options, editor, texts$, tableCommandTexts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.tableCommandTexts$ = tableCommandTexts$;\n      this.commandsRegistry = {\n        [TuiTableCommands.InsertColumnAfter]: () => this.editor.addColumnAfter(),\n        [TuiTableCommands.InsertColumnBefore]: () => this.editor.addColumnBefore(),\n        [TuiTableCommands.InsertRowAfter]: () => this.editor.addRowAfter(),\n        [TuiTableCommands.InsertRowBefore]: () => this.editor.addRowBefore(),\n        [TuiTableCommands.DeleteColumn]: () => this.editor.deleteColumn(),\n        [TuiTableCommands.DeleteRow]: () => this.editor.deleteRow()\n      };\n      this.isActive$ = this.editor.isActive$('table');\n      this.rowsColumnsManagingText$ = this.texts$.pipe(map(texts => texts.rowsColumnsManaging));\n    }\n    onTableOption(command) {\n      this.commandsRegistry[command]();\n    }\n  }\n  TuiTableRowColumnManagerComponent.ɵfac = function TuiTableRowColumnManagerComponent_Factory(t) {\n    return new (t || TuiTableRowColumnManagerComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_TABLE_COMMANDS));\n  };\n  TuiTableRowColumnManagerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableRowColumnManagerComponent,\n    selectors: [[\"tui-table-row-column-manager\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[\"tableOptionsDropdown\", \"\"], [\"tableCommand\", \"\"], [3, \"canOpen\", \"content\", 4, \"tuiLet\"], [3, \"canOpen\", \"content\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"disabled\", \"focusable\", \"icon\", \"tuiHint\"], [4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"click\"]],\n    template: function TuiTableRowColumnManagerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTableRowColumnManagerComponent_tui_hosted_dropdown_0_Template, 4, 8, \"tui-hosted-dropdown\", 2);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, TuiTableRowColumnManagerComponent_ng_template_2_Template, 3, 3, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.isActive$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i1.TuiDataListComponent, i1.TuiOptionComponent, i2.TuiLetDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i3.NgForOf, i1.TuiOptGroupDirective, i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiTableRowColumnManagerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableRowColumnManagerModule = /*#__PURE__*/(() => {\n  class TuiTableRowColumnManagerModule {}\n  TuiTableRowColumnManagerModule.ɵfac = function TuiTableRowColumnManagerModule_Factory(t) {\n    return new (t || TuiTableRowColumnManagerModule)();\n  };\n  TuiTableRowColumnManagerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableRowColumnManagerModule\n  });\n  TuiTableRowColumnManagerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiHintModule, TuiButtonModule, TuiDataListModule, TuiLetModule]]\n  });\n  return TuiTableRowColumnManagerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableCommands, TuiTableRowColumnManagerComponent, TuiTableRowColumnManagerModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiHostedDropdownModule, TuiDropdownModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/color-selector';\nimport { TuiPaletteModule } from '@tinkoff/tui-editor/components/color-selector';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiActiveZoneModule, TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@tinkoff/tui-editor/abstract';\nimport * as i6 from 'rxjs';\nfunction TuiTextColorComponent_tui_hosted_dropdown_0_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-palette\", 6);\n    i0.ɵɵlistener(\"selectedColor\", function TuiTextColorComponent_tui_hosted_dropdown_0_ng_template_5_Template_tui_palette_selectedColor_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.editor.setFontColor($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activeZone_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors)(\"tuiActiveZoneParent\", activeZone_r3);\n  }\n}\nfunction TuiTextColorComponent_tui_hosted_dropdown_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 3, 0);\n    i0.ɵɵelement(2, \"button\", 4);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelement(4, \"div\", 5);\n    i0.ɵɵtemplate(5, TuiTextColorComponent_tui_hosted_dropdown_0_ng_template_5_Template, 1, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const selectedColor_r4 = ctx.tuiLet;\n    const color_r5 = i0.ɵɵreference(1);\n    const colorDropdown_r6 = i0.ɵɵreference(6);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", colorDropdown_r6)(\"tuiDropdownMaxHeight\", 999);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", color_r5.open)(\"icon\", ctx_r1.options.icons.textColor)(\"pseudoActive\", color_r5.open)(\"tuiHint\", i0.ɵɵpipeBind1(3, 8, ctx_r1.foreColorText$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background\", selectedColor_r4);\n  }\n}\nlet TuiTextColorComponent = /*#__PURE__*/(() => {\n  class TuiTextColorComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.colors = this.options.colors;\n      this.fontColor$ = this.editor.stateChange$.pipe(map(() => this.editor.getFontColor() || this.options.blankColor), distinctUntilChanged());\n      this.foreColorText$ = this.texts$.pipe(map(texts => texts.foreColor));\n    }\n  }\n  TuiTextColorComponent.ɵfac = function TuiTextColorComponent_Factory(t) {\n    return new (t || TuiTextColorComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiTextColorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTextColorComponent,\n    selectors: [[\"tui-text-color\"]],\n    inputs: {\n      colors: \"colors\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"color\", \"\"], [\"colorDropdown\", \"\"], [3, \"content\", \"tuiDropdownMaxHeight\", 4, \"tuiLet\"], [3, \"content\", \"tuiDropdownMaxHeight\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__color-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [1, \"t-plate\"], [1, \"t-color-picker\", 3, \"selectedColor\", \"colors\", \"tuiActiveZoneParent\"]],\n    template: function TuiTextColorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTextColorComponent_tui_hosted_dropdown_0_Template, 7, 10, \"tui-hosted-dropdown\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.fontColor$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.TuiPaletteComponent, i3.TuiLetDirective, i1.TuiDropdownOptionsDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i3.TuiActiveZoneDirective, i4.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiTextColorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTextColorModule = /*#__PURE__*/(() => {\n  class TuiTextColorModule {}\n  TuiTextColorModule.ɵfac = function TuiTextColorModule_Factory(t) {\n    return new (t || TuiTextColorModule)();\n  };\n  TuiTextColorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTextColorModule\n  });\n  TuiTextColorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHostedDropdownModule, TuiDropdownModule, TuiHintModule, TuiPaletteModule, TuiActiveZoneModule, TuiLetModule]]\n  });\n  return TuiTextColorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTextColorComponent, TuiTextColorModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Directive, Inject, HostListener, EventEmitter, Component, ChangeDetectionStrategy, Optional, Self, ViewChildren, ViewChild, Input, HostBinding, Output, NgModule } from '@angular/core';\nimport * as i5 from '@taiga-ui/cdk';\nimport { tuiIsNativeFocusedIn, tuiClamp, tuiIsNativeMouseFocusable, tuiGetClosestFocusable, EMPTY_QUERY, TuiDestroyService, TuiFocusableModule, TuiItemModule, TuiItemDirective } from '@taiga-ui/cdk';\nimport { defaultEditorTools } from '@tinkoff/tui-editor/constants';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TuiEditorTool } from '@tinkoff/tui-editor/enums';\nimport { TUI_IMAGE_LOADER, TUI_ATTACH_FILES_OPTIONS, TUI_ATTACH_FILES_LOADER, TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { take, takeUntil } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHintModule, TuiButtonModule, TuiHostedDropdownModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/toolbar-tools';\nimport { TuiTableMergeCellsModule, TuiTableCellColorModule, TuiTableRowColumnManagerModule, TuiTableCreateModule, TuiFontSizeModule, TuiFontStyleModule, TuiAlignContentModule, TuiListConfigsModule, TuiTextColorModule, TuiHighlightColorModule, TuiCodeModule, TuiDetailsModule, TuiEditorToolGroup } from '@tinkoff/tui-editor/components/toolbar-tools';\nimport * as i3 from '@tinkoff/tui-editor/components/edit-link';\nimport { TuiEditLinkModule } from '@tinkoff/tui-editor/components/edit-link';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i7 from '@tinkoff/tui-editor/abstract';\nimport * as i8 from 'rxjs';\nconst _c0 = [\"dropdown\"];\nconst _c1 = [\"*\"];\nfunction TuiToolbarComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_1_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.undo());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_1_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.redo());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.undoDisabled)(\"focusable\", false)(\"icon\", ctx_r1.options.icons.undo)(\"tuiHint\", texts_r3.undo);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.redoDisabled)(\"focusable\", false)(\"icon\", ctx_r1.options.icons.redo)(\"tuiHint\", texts_r3.redo);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"tui-font-size\", 17);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_font_style_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-font-style\", 23);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"enabledTools\", ctx_r1.toolsSet);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_align_content_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-align-content\", 17);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_list_configs_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-list-configs\", 17);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_3_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.toggleQuote());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.unorderedList || ctx_r1.orderedList)(\"focusable\", false)(\"icon\", ctx_r1.options.icons.quote)(\"pseudoActive\", ctx_r1.blockquote)(\"tuiHint\", texts_r3.quote);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-edit-link\", 27, 3);\n    i0.ɵɵlistener(\"addLink\", function TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template_tui_edit_link_addLink_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      i0.ɵɵnextContext();\n      const link_r6 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onLink(link_r6, $event));\n    })(\"removeLink\", function TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template_tui_edit_link_removeLink_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      i0.ɵɵnextContext();\n      const link_r6 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onLink(link_r6));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 25, 1);\n    i0.ɵɵelement(2, \"button\", 26, 0);\n    i0.ɵɵtemplate(4, TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const link_r6 = i0.ɵɵreference(1);\n    const linkDropdown_r7 = i0.ɵɵreference(5);\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"canOpen\", ctx_r1.canOpenAnchor)(\"content\", linkDropdown_r7);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", link_r6.open)(\"icon\", ctx_r1.options.icons.link)(\"pseudoActive\", link_r6.open || ctx_r1.a)(\"tuiHint\", texts_r3.link);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-edit-link\", 30);\n    i0.ɵɵlistener(\"addLink\", function TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template_tui_edit_link_addLink_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      i0.ɵɵnextContext();\n      const anchor_r9 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.setAnchor(anchor_r9, $event));\n    })(\"removeLink\", function TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template_tui_edit_link_removeLink_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.removeAnchor());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"anchorMode\", true);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 28, 4);\n    i0.ɵɵelement(2, \"button\", 29);\n    i0.ɵɵtemplate(3, TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template, 1, 1, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const anchor_r9 = i0.ɵɵreference(1);\n    const anchorDropdown_r10 = i0.ɵɵreference(4);\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"canOpen\", ctx_r1.canOpenAnchor)(\"content\", anchorDropdown_r10);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.anchor)(\"pseudoActive\", anchor_r9.open || ctx_r1.jumpAnchor)(\"tuiHint\", texts_r3.insertAnchor);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 31, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_3_ng_container_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const fileUpload_r12 = i0.ɵɵreference(4);\n      return i0.ɵɵresetView(fileUpload_r12.click());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 32, 6);\n    i0.ɵɵlistener(\"change\", function TuiToolbarComponent_section_5_div_3_ng_container_7_Template_input_change_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const fileUpload_r12 = i0.ɵɵreference(4);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onAttach(fileUpload_r12));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.attach)(\"tuiHint\", texts_r3.attach);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accept\", ctx_r1.attachOptions.accept)(\"multiple\", ctx_r1.attachOptions.multiple)(\"tuiFocusable\", false);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_3_tui_font_style_1_Template, 1, 1, \"tui-font-style\", 18)(2, TuiToolbarComponent_section_5_div_3_tui_align_content_2_Template, 1, 0, \"tui-align-content\", 19)(3, TuiToolbarComponent_section_5_div_3_tui_list_configs_3_Template, 1, 0, \"tui-list-configs\", 19)(4, TuiToolbarComponent_section_5_div_3_button_4_Template, 2, 5, \"button\", 20)(5, TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_Template, 6, 6, \"tui-hosted-dropdown\", 21)(6, TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_Template, 5, 6, \"tui-hosted-dropdown\", 22)(7, TuiToolbarComponent_section_5_div_3_ng_container_7_Template, 5, 6, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.formatEnabled);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Align));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.List));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Quote));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Link));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Anchor));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Attach));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_4_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 34, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_4_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.toggleSubscript());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.sub)(\"pseudoActive\", ctx_r1.subscript)(\"tuiHint\", texts_r3.subscript);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_4_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 34, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_4_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.toggleSuperscript());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.sup)(\"pseudoActive\", ctx_r1.superscript)(\"tuiHint\", texts_r3.superscript);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_4_button_1_Template, 2, 4, \"button\", 33)(2, TuiToolbarComponent_section_5_div_4_button_2_Template, 2, 4, \"button\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Sub));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Sup));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_5_tui_text_color_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-text-color\", 36);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_5_tui_highlight_color_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-highlight-color\", 36);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_5_tui_text_color_1_Template, 1, 1, \"tui-text-color\", 35)(2, TuiToolbarComponent_section_5_div_5_tui_highlight_color_2_Template, 1, 1, \"tui-highlight-color\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Color));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Hilite));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_tui_code_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-code\", 17);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 40, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_6_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onTeX());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.tex)(\"tuiHint\", texts_r3.tex);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"button\", 42, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_6_div_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const image_r17 = i0.ɵɵreference(4);\n      return i0.ɵɵresetView(image_r17.click());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 43, 7);\n    i0.ɵɵlistener(\"change\", function TuiToolbarComponent_section_5_div_6_div_3_Template_input_change_3_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const image_r17 = i0.ɵɵreference(4);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onImage(image_r17));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.image)(\"tuiHint\", texts_r3.image);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"tuiFocusable\", false);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 31, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_6_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.insertHorizontalRule());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.hr)(\"tuiHint\", texts_r3.insertHorizontalRule);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_6_tui_code_1_Template, 1, 0, \"tui-code\", 19)(2, TuiToolbarComponent_section_5_div_6_button_2_Template, 2, 3, \"button\", 37)(3, TuiToolbarComponent_section_5_div_6_div_3_Template, 5, 4, \"div\", 38)(4, TuiToolbarComponent_section_5_div_6_button_4_Template, 2, 3, \"button\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Code));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Tex));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Img));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.HR));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"button\", 31, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.removeFormat());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.clear)(\"tuiHint\", texts_r3.clear);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"tui-details\", 44)(2, \"tui-details-remove\", 44);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiToolbarComponent_section_5_div_9_tui_table_cell_color_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-table-cell-color\", 36);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"tui-editor-group-tool\", 44);\n    i0.ɵɵtemplate(2, TuiToolbarComponent_section_5_div_9_tui_table_cell_color_2_Template, 1, 1, \"tui-table-cell-color\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.enabled(ctx_r1.editorTool.Table));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"tui-table-create\", 44)(2, \"tui-table-row-column-manager\", 44)(3, \"tui-table-merge-cells\", 44)(4, \"tui-table-cell-color\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors);\n  }\n}\nfunction TuiToolbarComponent_section_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 12);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_1_Template, 3, 8, \"div\", 13)(2, TuiToolbarComponent_section_5_div_2_Template, 2, 0, \"div\", 13)(3, TuiToolbarComponent_section_5_div_3_Template, 8, 7, \"div\", 13)(4, TuiToolbarComponent_section_5_div_4_Template, 3, 2, \"div\", 13)(5, TuiToolbarComponent_section_5_div_5_Template, 3, 2, \"div\", 13)(6, TuiToolbarComponent_section_5_div_6_Template, 5, 4, \"div\", 13)(7, TuiToolbarComponent_section_5_div_7_Template, 3, 3, \"div\", 13)(8, TuiToolbarComponent_section_5_div_8_Template, 3, 0, \"div\", 13)(9, TuiToolbarComponent_section_5_div_9_Template, 3, 1, \"div\", 13)(10, TuiToolbarComponent_section_5_div_10_Template, 5, 1, \"div\", 13);\n    i0.ɵɵelementStart(11, \"div\", 14);\n    i0.ɵɵprojection(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Undo));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Size));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.firstBigBlockEnabled);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Sub) || ctx_r1.enabled(ctx_r1.editorTool.Sup));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Color) || ctx_r1.enabled(ctx_r1.editorTool.Hilite));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.secondBigBlockEnabled);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Clear));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Details));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Group));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Table));\n  }\n}\nlet TuiToolbarNavigationManagerDirective = /*#__PURE__*/(() => {\n  class TuiToolbarNavigationManagerDirective {\n    constructor(el) {\n      this.el = el;\n    }\n    get toolsContainers() {\n      return Array.from(this.el.nativeElement.querySelectorAll('[tuiItem]'));\n    }\n    onHorizontalNavigation(toPrevious) {\n      const {\n        toolsContainers\n      } = this;\n      const focusedToolIndex = toolsContainers.findIndex(tuiIsNativeFocusedIn);\n      const targetToolIndex = tuiClamp(focusedToolIndex + (toPrevious ? -1 : 1), 0, toolsContainers.length - 1);\n      const targetToolWrapper = toolsContainers[targetToolIndex];\n      const targetTool = toPrevious ? this.findPreviousTool(targetToolWrapper) : this.findNextTool(targetToolWrapper);\n      if (targetTool) {\n        targetTool.focus();\n      }\n    }\n    findFirstFocusableTool(reversed = false) {\n      const tools = reversed ? this.toolsContainers.slice().reverse() : this.toolsContainers;\n      for (const el of tools) {\n        const focusableElement = tuiIsNativeMouseFocusable(el) ? el : tuiGetClosestFocusable({\n          initial: el,\n          root: el,\n          keyboard: false\n        });\n        if (focusableElement) {\n          return focusableElement;\n        }\n      }\n      return null;\n    }\n    findPreviousTool(wrapper) {\n      if (tuiIsNativeMouseFocusable(wrapper)) {\n        return wrapper;\n      }\n      const lookedInside = tuiGetClosestFocusable({\n        initial: wrapper,\n        root: wrapper,\n        keyboard: false\n      });\n      return lookedInside || tuiGetClosestFocusable({\n        initial: wrapper,\n        root: this.el.nativeElement,\n        previous: true,\n        keyboard: false\n      });\n    }\n    findNextTool(wrapper) {\n      return tuiIsNativeMouseFocusable(wrapper) ? wrapper : tuiGetClosestFocusable({\n        initial: wrapper,\n        root: this.el.nativeElement,\n        keyboard: false\n      });\n    }\n  }\n  TuiToolbarNavigationManagerDirective.ɵfac = function TuiToolbarNavigationManagerDirective_Factory(t) {\n    return new (t || TuiToolbarNavigationManagerDirective)(i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiToolbarNavigationManagerDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiToolbarNavigationManagerDirective,\n    selectors: [[\"\", \"tuiToolbarNavigationManager\", \"\"]],\n    hostBindings: function TuiToolbarNavigationManagerDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.arrowRight.prevent\", function TuiToolbarNavigationManagerDirective_keydown_arrowRight_prevent_HostBindingHandler() {\n          return ctx.onHorizontalNavigation(false);\n        })(\"keydown.arrowLeft.prevent\", function TuiToolbarNavigationManagerDirective_keydown_arrowLeft_prevent_HostBindingHandler() {\n          return ctx.onHorizontalNavigation(true);\n        });\n      }\n    }\n  });\n  return TuiToolbarNavigationManagerDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiToolbarComponent = /*#__PURE__*/(() => {\n  class TuiToolbarComponent {\n    constructor(el, editor, imageLoader, attachOptions, filesLoader, texts$, options, destroy$) {\n      this.el = el;\n      this.editor = editor;\n      this.imageLoader = imageLoader;\n      this.attachOptions = attachOptions;\n      this.filesLoader = filesLoader;\n      this.texts$ = texts$;\n      this.options = options;\n      this.destroy$ = destroy$;\n      this.dropdowns = EMPTY_QUERY;\n      this.colors = this.options.colors;\n      this.disabled = false;\n      this.linkAdded = new EventEmitter();\n      this.texClicked = new EventEmitter();\n      this.fileAttached = new EventEmitter();\n      this.editorTool = TuiEditorTool;\n      this.toolsSet = new Set(defaultEditorTools);\n    }\n    set tools(value) {\n      this.toolsSet = new Set(value);\n    }\n    get focused() {\n      return tuiIsNativeFocusedIn(this.el.nativeElement) || !!this.dropdowns.find(({\n        nativeElement\n      }) => tuiIsNativeFocusedIn(nativeElement));\n    }\n    get focusable() {\n      return !this.focused && !this.disabled;\n    }\n    get unorderedList() {\n      return this.editor.isActive('bulletList');\n    }\n    get orderedList() {\n      return this.editor.isActive('orderedList');\n    }\n    get blockquote() {\n      return this.editor.isActive('blockquote');\n    }\n    get a() {\n      return this.editor.isActive('link');\n    }\n    get jumpAnchor() {\n      return this.editor.isActive('jumpAnchor');\n    }\n    get canOpenAnchor() {\n      return !this.a && !this.jumpAnchor;\n    }\n    get undoDisabled() {\n      return this.editor.undoDisabled();\n    }\n    get redoDisabled() {\n      return this.editor.redoDisabled();\n    }\n    get subscript() {\n      return this.editor.isActive('subscript');\n    }\n    get superscript() {\n      return this.editor.isActive('superscript');\n    }\n    get formatEnabled() {\n      return this.enabled(TuiEditorTool.Bold) || this.enabled(TuiEditorTool.Italic) || this.enabled(TuiEditorTool.Underline) || this.enabled(TuiEditorTool.Strikethrough);\n    }\n    get firstBigBlockEnabled() {\n      return this.formatEnabled || this.enabled(TuiEditorTool.Align) || this.enabled(TuiEditorTool.List) || this.enabled(TuiEditorTool.Quote) || this.enabled(TuiEditorTool.Link) || this.enabled(TuiEditorTool.Anchor) || this.enabled(TuiEditorTool.Attach);\n    }\n    get secondBigBlockEnabled() {\n      return this.enabled(TuiEditorTool.Code) || this.enabled(TuiEditorTool.Tex) || this.enabled(TuiEditorTool.Img) || this.enabled(TuiEditorTool.HR);\n    }\n    onMouseDown(event, target) {\n      if (target.closest('button')) {\n        return;\n      }\n      event.preventDefault();\n      this.editor.focus();\n    }\n    onBottomFocus() {\n      this.focusLast();\n    }\n    onTopFocus() {\n      this.focusFirst();\n    }\n    onImage(input) {\n      var _a;\n      const file = (_a = input.files) === null || _a === void 0 ? void 0 : _a[0];\n      input.value = '';\n      if (!file) {\n        return;\n      }\n      this.imageLoader(file).pipe(take(1), takeUntil(this.destroy$)).subscribe(image => this.addImage(image));\n    }\n    onAttach(input) {\n      var _a;\n      const files = Array.from(input.files || []);\n      input.value = '';\n      if (!files) {\n        return;\n      }\n      ngDevMode && console.assert(!!this.filesLoader, 'Please provide TUI_ATTACH_FILES_LOADER, more: https://taiga-family.github.io/editor/starter-kit/Options');\n      (_a = this.filesLoader) === null || _a === void 0 ? void 0 : _a.call(this, files).pipe(take(1), takeUntil(this.destroy$)).subscribe(attachedFiles => this.fileAttached.emit(attachedFiles));\n    }\n    onTeX() {\n      this.texClicked.emit();\n    }\n    onLink(hosted, url) {\n      hosted.open = false;\n      if (url) {\n        this.editor.toggleLink(url);\n      }\n    }\n    setAnchor(hosted, anchor) {\n      hosted.open = false;\n      if (anchor) {\n        this.editor.setAnchor(anchor);\n        this.editor.selectClosest();\n      }\n    }\n    removeAnchor() {\n      this.editor.removeAnchor();\n    }\n    enabled(tool) {\n      return this.toolsSet.has(tool);\n    }\n    undo() {\n      this.editor.undo();\n    }\n    redo() {\n      this.editor.redo();\n    }\n    insertHorizontalRule() {\n      this.editor.setHorizontalRule();\n    }\n    removeFormat() {\n      this.editor.removeFormat();\n    }\n    toggleOrderedList() {\n      this.editor.toggleOrderedList();\n    }\n    toggleQuote() {\n      this.editor.toggleBlockquote();\n    }\n    toggleSubscript() {\n      this.editor.toggleSubscript();\n    }\n    toggleSuperscript() {\n      this.editor.toggleSuperscript();\n    }\n    addImage(image) {\n      this.editor.setImage(image);\n    }\n    focusFirst() {\n      var _a;\n      const firstButton = (_a = this.navigationManager) === null || _a === void 0 ? void 0 : _a.findFirstFocusableTool();\n      if (firstButton) {\n        firstButton.focus();\n      }\n    }\n    focusLast() {\n      var _a;\n      const lastButton = (_a = this.navigationManager) === null || _a === void 0 ? void 0 : _a.findFirstFocusableTool(true);\n      if (lastButton) {\n        lastButton.focus();\n      }\n    }\n  }\n  TuiToolbarComponent.ɵfac = function TuiToolbarComponent_Factory(t) {\n    return new (t || TuiToolbarComponent)(i0.ɵɵdirectiveInject(ElementRef, 8), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_IMAGE_LOADER), i0.ɵɵdirectiveInject(TUI_ATTACH_FILES_OPTIONS), i0.ɵɵdirectiveInject(TUI_ATTACH_FILES_LOADER, 8), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiDestroyService, 2));\n  };\n  TuiToolbarComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiToolbarComponent,\n    selectors: [[\"tui-toolbar\"]],\n    viewQuery: function TuiToolbarComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(TuiToolbarNavigationManagerDirective, 5);\n        i0.ɵɵviewQuery(_c0, 5, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.navigationManager = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdowns = _t);\n      }\n    },\n    hostAttrs: [\"role\", \"toolbar\"],\n    hostVars: 2,\n    hostBindings: function TuiToolbarComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown\", function TuiToolbarComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onMouseDown($event, $event.target);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_disabled\", ctx.disabled);\n      }\n    },\n    inputs: {\n      colors: \"colors\",\n      disabled: \"disabled\",\n      tools: \"tools\"\n    },\n    outputs: {\n      linkAdded: \"linkAdded\",\n      texClicked: \"texClicked\",\n      fileAttached: \"fileAttached\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])],\n    ngContentSelectors: _c1,\n    decls: 7,\n    vars: 8,\n    consts: [[\"button\", \"\"], [\"link\", \"\"], [\"linkDropdown\", \"\"], [\"dropdown\", \"\"], [\"anchor\", \"\"], [\"anchorDropdown\", \"\"], [\"fileUpload\", \"\"], [\"image\", \"\"], [\"type\", \"button\", 1, \"t-prevent-parent-label-behavior\"], [4, \"ngIf\"], [3, \"focus\", \"tuiFocusable\"], [\"tuiToolbarNavigationManager\", \"\", \"class\", \"t-tools-wrapper\", 4, \"ngIf\"], [\"tuiToolbarNavigationManager\", \"\", 1, \"t-tools-wrapper\"], [\"class\", \"t-block\", 4, \"ngIf\"], [1, \"t-block\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__undo-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__redo-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"], [\"tuiItem\", \"\", 1, \"t-tool\", \"t-wrapper\"], [\"tuiItem\", \"\", \"class\", \"t-tool t-wrapper\", 3, \"enabledTools\", 4, \"ngIf\"], [\"tuiItem\", \"\", \"class\", \"t-tool t-wrapper\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__quote-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", \"class\", \"t-tool t-tool_margin\", 3, \"disabled\", \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"tuiItem\", \"\", \"class\", \"t-wrapper\", 3, \"canOpen\", \"content\", 4, \"ngIf\"], [\"class\", \"t-wrapper\", 3, \"canOpen\", \"content\", 4, \"ngIf\"], [\"tuiItem\", \"\", 1, \"t-tool\", \"t-wrapper\", 3, \"enabledTools\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__quote-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"tuiItem\", \"\", 1, \"t-wrapper\", 3, \"canOpen\", \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__link-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-tool\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [3, \"addLink\", \"removeLink\"], [1, \"t-wrapper\", 3, \"canOpen\", \"content\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [3, \"addLink\", \"removeLink\", \"anchorMode\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"], [\"type\", \"file\", 1, \"t-file-upload\", 3, \"change\", \"accept\", \"multiple\", \"tuiFocusable\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", \"class\", \"t-tool t-tool_margin\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"tuiItem\", \"\", \"class\", \"t-tool t-wrapper\", 3, \"colors\", 4, \"ngIf\"], [\"tuiItem\", \"\", 1, \"t-tool\", \"t-wrapper\", 3, \"colors\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", \"class\", \"t-tool\", 3, \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"tuiItem\", \"\", \"class\", \"t-wrapper\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", \"class\", \"t-tool t-tool_margin\", 3, \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"], [\"tuiItem\", \"\", 1, \"t-wrapper\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-tool\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"], [\"accept\", \"image/*\", \"type\", \"file\", 1, \"t-image\", 3, \"change\", \"tuiFocusable\"], [\"tuiItem\", \"\", 1, \"t-tool\", \"t-tool_margin\"]],\n    template: function TuiToolbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelement(0, \"button\", 8);\n        i0.ɵɵtemplate(1, TuiToolbarComponent_ng_container_1_Template, 1, 0, \"ng-container\", 9);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵelementStart(3, \"div\", 10);\n        i0.ɵɵlistener(\"focus\", function TuiToolbarComponent_Template_div_focus_3_listener() {\n          return ctx.onTopFocus();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 10);\n        i0.ɵɵlistener(\"focus\", function TuiToolbarComponent_Template_div_focus_4_listener() {\n          return ctx.onBottomFocus();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, TuiToolbarComponent_section_5_Template, 13, 10, \"section\", 11);\n        i0.ɵɵpipe(6, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 4, ctx.editor.stateChange$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"tuiFocusable\", ctx.focusable);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"tuiFocusable\", ctx.focusable);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 6, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.TuiFontSizeComponent, i2.TuiFontStyleComponent, i2.TuiAlignContentComponent, i2.TuiListConfigsComponent, i1.TuiHostedDropdownComponent, i3.TuiEditLinkComponent, i2.TuiTextColorComponent, i2.TuiHighlightColorComponent, i2.TuiCodeComponent, i2.TuiDetailsComponent, i2.TuiDetailsRemoveComponent, i2.TuiEditorGroupToolComponent, i2.TuiTableCellColorComponent, i2.TuiTableCreateComponent, i2.TuiTableRowColumnManagerComponent, i2.TuiTableMergeCellsComponent, i4.NgIf, i5.TuiFocusableDirective, TuiToolbarNavigationManagerDirective, i1.TuiHintDescribeDirective, i5.TuiItemDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i4.AsyncPipe],\n    styles: [\".t-tools-wrapper[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;position:-webkit-sticky;position:sticky;top:0;display:flex;padding:.25rem .75rem;overflow:auto;flex-wrap:wrap;box-shadow:0 .125rem .1875rem #0000001a}.t-tools-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar, .t-tools-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-tools-wrapper._disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:var(--tui-disabled-opacity)}.t-block[_ngcontent-%COMP%]{display:flex;padding:.25rem 0}.t-block[_ngcontent-%COMP%]:not(:last-child):after{content:\\\"\\\";display:block;margin:0 .25rem;width:1px;background:var(--tui-secondary-active)}.t-tool[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}button.t-tool[_ngcontent-%COMP%]:hover, .t-tool[_ngcontent-%COMP%]     button:hover{background:var(--tui-secondary-hover)}.t-tool_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-wrapper[_ngcontent-%COMP%]{position:relative;margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-font[_ngcontent-%COMP%]{padding:.3em 0;outline:none;width:100%;pointer-events:none}.t-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;font-size:0;opacity:0;cursor:pointer}.t-image[_ngcontent-%COMP%]::-webkit-file-upload-button{display:none}.t-file-upload[_ngcontent-%COMP%]{display:none}.t-color-picker[_ngcontent-%COMP%]     tui-hosted-dropdown, .t-color-picker[_ngcontent-%COMP%]     tui-color-picker, .t-color-picker[_ngcontent-%COMP%]     tui-color-edit{display:none}.t-prevent-parent-label-behavior[_ngcontent-%COMP%]{display:none}\"],\n    changeDetection: 0\n  });\n  return TuiToolbarComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiToolbarModule = /*#__PURE__*/(() => {\n  class TuiToolbarModule {}\n  TuiToolbarModule.ɵfac = function TuiToolbarModule_Factory(t) {\n    return new (t || TuiToolbarModule)();\n  };\n  TuiToolbarModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiToolbarModule\n  });\n  TuiToolbarModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHintModule, TuiFocusableModule, TuiButtonModule, TuiHostedDropdownModule, TuiEditLinkModule, TuiTableMergeCellsModule, TuiTableCellColorModule, TuiTableRowColumnManagerModule, TuiTableCreateModule, TuiFontSizeModule, TuiFontStyleModule, TuiAlignContentModule, TuiListConfigsModule, TuiTextColorModule, TuiHighlightColorModule, TuiCodeModule, TuiDetailsModule, TuiItemModule, TuiEditorToolGroup]]\n  });\n  return TuiToolbarModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiToolbarComponent, TuiToolbarModule, TuiToolbarNavigationManagerDirective };\n","import { DOCUMENT } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { SecurityContext, ElementRef, Renderer2, Sanitizer, Component, ViewEncapsulation, ChangeDetectionStrategy, Inject, Optional, Input, HostListener, NgModule } from '@angular/core';\nimport { tuiIsElement } from '@taiga-ui/cdk';\nimport { TUI_SANITIZER } from '@taiga-ui/core';\nimport * as i1 from '@tinkoff/tui-editor/directives/tiptap-editor';\nimport { TuiTiptapEditorDirective } from '@tinkoff/tui-editor/directives/tiptap-editor';\nimport { TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nlet TuiEditorSocketComponent = /*#__PURE__*/(() => {\n  class TuiEditorSocketComponent {\n    constructor(el, renderer, sanitizer, tuiSanitizer, document, editor, options) {\n      this.el = el;\n      this.renderer = renderer;\n      this.sanitizer = sanitizer;\n      this.tuiSanitizer = tuiSanitizer;\n      this.document = document;\n      this.editor = editor;\n      this.options = options;\n    }\n    set content(content) {\n      this.renderer.setProperty(this.el.nativeElement, 'innerHTML', this.tuiSanitizer ? this.tuiSanitizer.sanitize(SecurityContext.HTML, content) : this.sanitizer.sanitize(SecurityContext.HTML, content !== null && content !== void 0 ? content : ''));\n    }\n    /**\n     * @description:\n     * the main problem is that the external environment editor can use different base href=\"../\"\n     * More information: https://rogerkeays.com/blog/using-base-href-with-anchors\n     */\n    click(event) {\n      var _a, _b;\n      if (this.editor || !tuiIsElement(event.target)) {\n        return;\n      }\n      const href = ((_b = (_a = event.target) === null || _a === void 0 ? void 0 : _a.closest('a')) === null || _b === void 0 ? void 0 : _b.getAttribute('href')) || '';\n      if (!href.startsWith('#')) {\n        return;\n      }\n      this.document.location.hash = href.replace('#', '');\n      event.preventDefault();\n    }\n  }\n  TuiEditorSocketComponent.ɵfac = function TuiEditorSocketComponent_Factory(t) {\n    return new (t || TuiEditorSocketComponent)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(Renderer2), i0.ɵɵdirectiveInject(Sanitizer), i0.ɵɵdirectiveInject(TUI_SANITIZER, 8), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(TuiTiptapEditorDirective, 8), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiEditorSocketComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditorSocketComponent,\n    selectors: [[\"tui-editor-socket\"]],\n    hostVars: 2,\n    hostBindings: function TuiEditorSocketComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function TuiEditorSocketComponent_click_HostBindingHandler($event) {\n          return ctx.click($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"tui-editor-socket\", ctx.options.enableDefaultStyles);\n      }\n    },\n    inputs: {\n      content: \"content\"\n    },\n    decls: 0,\n    vars: 0,\n    template: function TuiEditorSocketComponent_Template(rf, ctx) {},\n    styles: [\".tui-editor-socket{display:block;margin:0;color:var(--tui-text-01);font:var(--tui-font-text-m)}.tui-editor-socket[tuiTiptapEditor]{overflow:hidden}.tui-editor-socket .ProseMirror{min-height:5.375rem;padding:.2rem 1rem;outline:none;white-space:pre-wrap}.tui-editor-socket .resize-cursor{cursor:ew-resize;cursor:col-resize}.tui-editor-socket .ProseMirror-gapcursor{margin-top:.83rem}.tui-editor-socket .ProseMirror .ProseMirror-gapcursor:first-child{margin-top:0}.tui-editor-socket br+br.ProseMirror-trailingBreak{display:none}.tui-editor-socket h1,.tui-editor-socket h2,.tui-editor-socket h3,.tui-editor-socket h4,.tui-editor-socket h5,.tui-editor-socket h6{word-break:break-word;line-height:normal}.tui-editor-socket h1:first-child,.tui-editor-socket h2:first-child,.tui-editor-socket p:last-child{margin-bottom:0}.tui-editor-socket p:last-child,.tui-editor-socket pre:last-child{margin-bottom:0}.tui-editor-socket p:empty:after{content:\\\" \\\";white-space:pre}.tui-editor-socket p:first-child{margin-top:0;min-width:1px}.tui-editor-socket p{margin:1rem 0}.tui-editor-socket p>span{line-height:initial}.tui-editor-socket blockquote{margin:1.25rem 0 1.25rem 1.5rem;padding-left:1.0625rem;border-left:1px solid var(--tui-base-04)}.tui-editor-socket hr{border:none;border-top:1px solid var(--tui-base-03);margin:1rem 0}.tui-editor-socket mark{background:unset;color:inherit}.tui-editor-socket font[face=\\\"Courier New\\\"]{display:inline-block;padding:.25rem .5rem;border-radius:.25rem;background-color:#ecf1f7;word-break:break-word}.tui-editor-socket a:not([data-type=\\\"jump-anchor\\\"]){color:var(--tui-link);text-decoration:none;outline:none}.tui-editor-socket a:not([data-type=\\\"jump-anchor\\\"]):hover{color:var(--tui-link-hover);text-decoration:underline}.tui-editor-socket a:not([data-type=\\\"jump-anchor\\\"]):active{color:var(--tui-primary-active)}.tui-editor-socket .ProseMirror a[data-type=jump-anchor]{text-decoration:underline;-webkit-text-decoration-color:var(--tui-link);text-decoration-color:var(--tui-link)}.tui-editor-socket .ProseMirror a[data-type=jump-anchor]:before{content:\\\"#\\\"}.tui-editor-socket .ProseMirror a[data-type=jump-anchor]:hover{color:var(--tui-link)}.tui-editor-socket .ProseMirror a:hover img[contenteditable=false]{cursor:pointer;outline:.25rem solid var(--tui-link)}.tui-editor-socket ul:not([data-type]),.tui-editor-socket ol:not([data-type]){list-style-type:none;margin:1rem 1rem 1rem 1.5rem;padding:0}.tui-editor-socket ul:not([data-type]) li,.tui-editor-socket ol:not([data-type]) li{margin:.75rem 0}.tui-editor-socket ul:not([data-type]) li>p,.tui-editor-socket ol:not([data-type]) li>p{display:inline;margin:0 auto;word-break:break-word}.tui-editor-socket ul:not([data-type]) li:before,.tui-editor-socket ol:not([data-type]) li:before{unicode-bidi:-webkit-isolate;unicode-bidi:isolate;font-feature-settings:\\\"tnum\\\";font-variant-numeric:tabular-nums;text-transform:none;text-indent:0;text-align:start;text-align-last:start}.tui-editor-socket ul:not([data-type]) li>p{display:block}.tui-editor-socket ul:not([data-type])>li:before{content:\\\"\\\";display:inline-block;width:.5rem;height:.5rem;border-radius:100%;margin:.5rem .875rem .0625rem -1.375rem;background-color:var(--tui-primary);vertical-align:top;box-sizing:border-box;float:left}.tui-editor-socket li ul:not([data-type])>li:before{background:none;border:.125rem solid var(--tui-primary)}.tui-editor-socket li ul:not([data-type])>li>ul:not([data-type])>li:before{background:var(--tui-primary);border-radius:0;width:.375rem;height:.375rem}.tui-editor-socket ol:not([data-type]){counter-reset:item}.tui-editor-socket ol:not([data-type])>li:before{content:counters(item,\\\".\\\") \\\".\\\";display:block;counter-increment:item;margin:0 .75rem 0 -1.5rem;color:var(--tui-base-05);vertical-align:top;float:left;white-space:nowrap}.tui-editor-socket [data-type=details-content] ol{counter-reset:details-item}.tui-editor-socket [data-type=details-content] ol:not([data-type])>li:before{content:counters(details-item,\\\".\\\") \\\".\\\";counter-increment:details-item}.tui-editor-socket [data-type=details-content] ol [data-type=details-content] ol{counter-reset:details-item2}.tui-editor-socket [data-type=details-content] ol:not([data-type])>li [data-type=details-content] ol:not([data-type])>li:before{content:counters(details-item2,\\\".\\\") \\\".\\\";counter-increment:details-item2}.tui-editor-socket ul[data-type] li[data-checked]{display:flex;grid-gap:.5rem;gap:.5rem}.tui-editor-socket ul[data-type] li[data-checked]>label>input[type=checkbox]{position:relative;width:var(--t-size, 1rem);height:var(--t-size, 1rem);border-radius:var(--tui-radius-xs, .25rem);transition-property:color,background,opacity,box-shadow,border;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:.125rem solid transparent;outline-offset:-.125rem;margin-top:.25rem;cursor:pointer}.tui-editor-socket ul[data-type] li[data-checked]>label>input[type=checkbox]:before{content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;-webkit-mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"></svg>') center / 100%;mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"></svg>') center / 100%;transform:scale(0);transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out}.tui-editor-socket ul[data-type] li>label>input[type=checkbox]:checked{background:var(--tui-primary, #526ed3);color:var(--tui-primary-text, #fff)}.tui-editor-socket ul[data-type] li>label>input[type=checkbox]:checked:before{-webkit-mask-image:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"><polyline vector-effect=\\\"non-scaling-stroke\\\" points=\\\"20 6 9 17 4 12\\\" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"><polyline vector-effect=\\\"non-scaling-stroke\\\" points=\\\"20 6 9 17 4 12\\\" /></svg>');transform:scale(1)}.tui-editor-socket ul[data-type] li>label>input[type=checkbox]{box-shadow:inset 0 0 0 1px var(--tui-base-04);color:var(--tui-text-01)}.tui-editor-socket._preview-image img{cursor:pointer}.tui-editor-socket .ProseMirror video,.tui-editor-socket .ProseMirror audio{pointer-events:none}.tui-editor-socket img.ProseMirror-selectednode{outline:.25rem solid var(--tui-primary-hover)}.tui-editor-socket .t-editor-placeholder:first-child:before{content:attr(data-placeholder);position:absolute;float:left;color:var(--tui-border-hover);pointer-events:none}.tui-editor-socket table{border-collapse:collapse;table-layout:fixed;width:100%;margin:0;overflow:hidden}.tui-editor-socket table .tableWrapper{overflow-x:auto}.tui-editor-socket .tableWrapper,.tui-editor-socket .tui-table-wrapper{overflow-x:auto}.tui-editor-socket table td{position:relative;min-width:1em;height:2rem;border:2px solid var(--tui-base-03);padding:3px 5px;vertical-align:top;box-sizing:border-box;word-break:break-word}.tui-editor-socket table th{position:relative;min-width:1em;height:2rem;border:2px solid var(--tui-base-03);padding:3px 5px;vertical-align:top;box-sizing:border-box;word-break:break-word;font-weight:bold;text-align:left;background-color:var(--tui-base-02);min-height:2rem}.tui-editor-socket table .column-resize-handle{position:absolute;right:-2px;top:0;bottom:-2px;width:4px;background-color:#adf;pointer-events:none}.tui-editor-socket table td>*{margin-top:0;margin-bottom:0}.tui-editor-socket table th>*{margin-top:0;margin-bottom:0}.tui-editor-socket .selectedCell{outline:1px solid #83b4d7}.tui-editor-socket .selectedCell:after{content:\\\"\\\";position:absolute;top:0;left:0;right:0;bottom:0;background:var(--tui-service-selected-text);pointer-events:none}.tui-editor-socket summary{display:flex;align-items:center;min-height:3.5rem;width:100%;box-sizing:border-box;border-radius:var(--tui-radius-l);pointer-events:none;outline:none;word-break:break-all;padding:0 4.6875rem 0 1.25rem}.tui-editor-socket summary:focus-visible{outline:2px solid var(--tui-link)}.tui-editor-socket summary p{min-width:1px;margin:0}.tui-editor-socket summary::-webkit-details-marker{display:none}.tui-editor-socket details[open] summary{border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-editor-socket .details-arrow,.tui-editor-socket .t-details-arrow{position:absolute;top:1.5rem;right:1.25rem;height:.575rem;width:.575rem;border:1px solid var(--tui-base-06);border-width:0 2px 2px 0;transform:rotate(45deg);transition:var(--tui-duration, .3s);-webkit-appearance:none;-moz-appearance:none;appearance:none;box-sizing:border-box;padding:0;background:none;cursor:pointer;outline:none}.tui-editor-socket .t-details-delete{position:absolute;top:1.4rem;right:2.7rem;height:1.125rem;width:1.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;box-sizing:border-box;padding:0;background:none;cursor:pointer;outline:none;border:none}.tui-editor-socket .t-details-delete:hover:after{color:var(--tui-text-primary)}.tui-editor-socket .t-details-delete:after{content:\\\"\\\\d7\\\";display:inline-block;font:inherit;font-size:2rem;color:var(--tui-text-secondary);height:100%;width:100%;line-height:.8rem}.tui-editor-socket details{width:100%;border:1px solid var(--tui-base-04);border-radius:var(--tui-radius-l)}.tui-editor-socket div[data-type=details-content]{padding:1.25rem;min-height:3rem;border:1px solid var(--tui-base-04);border-width:1px 0 0}.tui-editor-socket div[data-type=details-content] h1:first-child,.tui-editor-socket div[data-type=details-content] h2:first-child,.tui-editor-socket div[data-type=details-content] pre:first-child,.tui-editor-socket div[data-type=details-content] ul:first-child,.tui-editor-socket div[data-type=details-content] ol:first-child,.tui-editor-socket div[data-type=details-content] ol li:first-child,.tui-editor-socket div[data-type=details-content] ul li:first-child{margin-top:0}.tui-editor-socket .details-wrapper,.tui-editor-socket .t-details-wrapper{margin-bottom:.5rem;position:relative;display:flex}.tui-editor-socket .details-wrapper_rendered .details-arrow,.tui-editor-socket .t-details-wrapper_rendered .details-arrow,.tui-editor-socket .details-wrapper_rendered .t-details-arrow,.tui-editor-socket .t-details-wrapper_rendered .t-details-arrow{pointer-events:none}.tui-editor-socket .details-wrapper_rendered summary,.tui-editor-socket .t-details-wrapper_rendered summary{transition:transform var(--tui-duration, .3s);cursor:pointer;pointer-events:auto}.tui-editor-socket .details-wrapper_rendered summary:hover,.tui-editor-socket .t-details-wrapper_rendered summary:hover{background:var(--tui-base-02)}.tui-editor-socket details[open]+.details-arrow,.tui-editor-socket details[open]+.t-details-arrow{top:1.75rem;transform:rotate(225deg)}.tui-editor-socket pre{white-space:pre-wrap;word-break:break-word;border-radius:.25rem;margin:1rem 0;padding:.75rem 1rem;font-family:Courier,monospace;color:var(--tui-text-02);background:var(--tui-base-02)}.tui-editor-socket .tui-group-node{display:flex;flex-direction:row}.tui-editor-socket .tui-group-node:hover>.tui-group-pointer{pointer-events:auto;opacity:1}.tui-editor-socket .tui-group-pointer{opacity:0;min-height:.8125rem;max-height:.8125rem;min-width:.8125rem;max-width:.8125rem;margin:.3125rem .3125rem 0 0;cursor:grab;background-image:url('data:image/svg+xml;charset=UTF-8,<svg viewBox=\\\"0 0 10 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4 14c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM2 6C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6C.9 0 0 .9 0 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\\\" fill-opacity=\\\"0.2\\\" fill=\\\"black\\\" /></svg>');background-repeat:no-repeat;background-size:contain;background-position:center}.tui-editor-socket [data-mode=onDark] .tui-group-pointer{background-image:url('data:image/svg+xml;charset=UTF-8,<svg viewBox=\\\"0 0 10 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4 14c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM2 6C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6C.9 0 0 .9 0 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\\\" fill-opacity=\\\"0.2\\\" fill=\\\"white\\\" /></svg>')}.t-hidden-editor{display:flex;visibility:hidden;opacity:0;height:0;width:100%;margin:0;padding:0}\\n\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiEditorSocketComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorSocketModule = /*#__PURE__*/(() => {\n  class TuiEditorSocketModule {}\n  TuiEditorSocketModule.ɵfac = function TuiEditorSocketModule_Factory(t) {\n    return new (t || TuiEditorSocketModule)();\n  };\n  TuiEditorSocketModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiEditorSocketModule\n  });\n  TuiEditorSocketModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiEditorSocketModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiEditorSocketComponent, TuiEditorSocketModule };\n","import * as i0 from '@angular/core';\nimport { Directive, Input, Injectable, Renderer2, Component, ChangeDetectionStrategy, ElementRef, Inject, EventEmitter, ChangeDetectorRef, NgZone, Optional, Self, ViewChild, Output, NgModule } from '@angular/core';\nimport * as i7 from '@taiga-ui/cdk';\nimport { tuiIsTextNode, tuiIsElement, EMPTY_CLIENT_RECT, AbstractTuiPortalService, AbstractTuiPortalHostComponent, TuiDropdownPortalService, AbstractTuiControl, ALWAYS_TRUE_HANDLER, ALWAYS_FALSE_HANDLER, tuiZonefree, tuiAsFocusableItemAccessor, tuiAutoFocusOptionsProvider, TuiItemModule, TuiActiveZoneModule } from '@taiga-ui/cdk';\nimport * as i2 from '@taiga-ui/core';\nimport { TuiDropdownSelectionDirective, tuiGetWordRange, tuiAsDriver, tuiAsRectAccessor, TuiRectAccessor, tuiAsViewport, TUI_ANIMATIONS_DEFAULT_DURATION, TuiWrapperModule, TuiScrollbarModule, TuiDropdownModule } from '@taiga-ui/core';\nimport * as i12 from 'rxjs';\nimport { combineLatest, ReplaySubject, fromEvent } from 'rxjs';\nimport { map, distinctUntilChanged, take, shareReplay, delay, takeUntil, throttleTime } from 'rxjs/operators';\nimport * as i6 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i11 from '@angular/forms';\nimport { NgControl } from '@angular/forms';\nimport * as i1 from '@tinkoff/tui-editor/components/toolbar';\nimport { TuiToolbarComponent, TuiToolbarModule } from '@tinkoff/tui-editor/components/toolbar';\nimport { defaultEditorTools, TUI_EDITOR_RESIZE_EVENT } from '@tinkoff/tui-editor/constants';\nimport * as i10 from '@tinkoff/tui-editor/directives';\nimport { TuiTiptapEditorService, TuiTiptapEditorDirective, TuiTiptapEditorModule } from '@tinkoff/tui-editor/directives';\nimport { LAZY_EDITOR_EXTENSIONS, TUI_EDITOR_EXTENSIONS, INITIALIZATION_TIPTAP_CONTAINER, TIPTAP_EDITOR, LAZY_TIPTAP_EDITOR, TUI_EDITOR_CONTENT_PROCESSOR, TUI_EDITOR_VALUE_TRANSFORMER, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { tuiGetSelectionState, tuiIsSafeLinkRange } from '@tinkoff/tui-editor/utils';\nimport * as i4 from '@tinkoff/tui-editor/components/editor-socket';\nimport { TuiEditorSocketModule } from '@tinkoff/tui-editor/components/editor-socket';\nimport * as i5 from '@tinkoff/tui-editor/components/edit-link';\nimport { TuiEditLinkModule } from '@tinkoff/tui-editor/components/edit-link';\nimport * as i13 from '@tinkoff/tui-editor/abstract';\nconst _c0 = [\"*\", [[\"tools\"]], [[\"tools\"]], [[\"mention\"]]];\nconst _c1 = [\"*\", \"tools\", \"tools\", \"mention\"];\nfunction TuiEditorComponent_div_0_tui_toolbar_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-toolbar\", 11);\n    i0.ɵɵlistener(\"fileAttached\", function TuiEditorComponent_div_0_tui_toolbar_2_Template_tui_toolbar_fileAttached_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.fileAttached.emit($event));\n    });\n    i0.ɵɵprojection(1, 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.interactive)(\"tools\", ctx_r1.tools);\n  }\n}\nfunction TuiEditorComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.exampleText, \" \");\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-scrollbar\", 15);\n    i0.ɵɵlistener(\"mousedown\", function TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_1_Template_tui_scrollbar_mousedown_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.focus($event));\n    });\n    i0.ɵɵelementContainer(1, 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const editor_r5 = i0.ɵɵreference(4);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", editor_r5);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-scrollbar\", 17);\n    i0.ɵɵlistener(\"mousedown\", function TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_2_Template_tui_scrollbar_mousedown_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.focus($event));\n    });\n    i0.ɵɵelementContainer(1, 16);\n    i0.ɵɵelement(2, \"tui-editor-portal-host\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const editor_r5 = i0.ɵɵreference(4);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", editor_r5);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_toolbar_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-toolbar\", 22);\n    i0.ɵɵlistener(\"fileAttached\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_toolbar_1_Template_tui_toolbar_fileAttached_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r1.fileAttached.emit($event));\n    });\n    i0.ɵɵprojection(1, 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activeZone_r9 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.interactive)(\"tools\", ctx_r1.tools)(\"tuiActiveZoneParent\", activeZone_r9);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-edit-link\", 23, 2);\n    i0.ɵɵlistener(\"addLink\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template_tui_edit_link_addLink_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const link_r11 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(link_r11.anchorMode ? ctx_r1.addAnchor($event) : ctx_r1.addLink($event));\n    })(\"removeLink\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template_tui_edit_link_removeLink_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const link_r11 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(link_r11.anchorMode ? ctx_r1.removeAnchor() : ctx_r1.removeLink());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵprojection(1, 3);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_toolbar_1_Template, 2, 3, \"tui-toolbar\", 20)(2, TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template, 2, 0, \"tui-edit-link\", 21)(3, TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_ng_container_3_Template, 2, 0, \"ng-container\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const editorLoaded_r12 = i0.ɵɵnextContext(3).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-floating\", ctx_r1.floatingToolbar);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", editorLoaded_r12 && ctx_r1.floatingToolbar);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isLinkSelected);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isMentionMode);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"tui-editor-socket\", 19);\n    i0.ɵɵlistener(\"stateChange\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template_tui_editor_socket_stateChange_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      return i0.ɵɵresetView(0);\n    })(\"valueChange\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template_tui_editor_socket_valueChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onModelChange($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(2, TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_Template, 4, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const dropdown_r13 = i0.ɵɵreference(3);\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"tuiDropdown\", dropdown_r13)(\"tuiToolbarDropdown\", ctx_r1.dropdownSelectionHandler)(\"tuiToolbarDropdownPosition\", ctx_r1.floatingToolbar ? \"selection\" : \"tag\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"editable\", ctx_r1.interactive)(\"value\", ctx_r1.value);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_1_Template, 2, 1, \"tui-scrollbar\", 13)(2, TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_2_Template, 3, 1, \"tui-scrollbar\", 14)(3, TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template, 4, 5, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.floatingToolbar);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.floatingToolbar);\n  }\n}\nfunction TuiEditorComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵlistener(\"tuiActiveZoneChange\", function TuiEditorComponent_div_0_Template_div_tuiActiveZoneChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onActiveZone($event));\n    });\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵtemplate(2, TuiEditorComponent_div_0_tui_toolbar_2_Template, 2, 2, \"tui-toolbar\", 7);\n    i0.ɵɵelementStart(3, \"div\", 8);\n    i0.ɵɵprojection(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, TuiEditorComponent_div_0_div_5_Template, 2, 1, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, TuiEditorComponent_div_0_ng_container_6_Template, 5, 2, \"ng-container\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const editorLoaded_r12 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"appearance\", ctx_r1.options.appearance)(\"disabled\", ctx_r1.disabled)(\"focus\", ctx_r1.computedFocused)(\"hover\", ctx_r1.pseudoHover)(\"invalid\", ctx_r1.computedInvalid)(\"readOnly\", ctx_r1.readOnly);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", editorLoaded_r12 && !ctx_r1.floatingToolbar);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"t-placeholder_raised\", ctx_r1.placeholderRaised);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasExampleText);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", editorLoaded_r12);\n  }\n}\nlet TuiDropdownToolbarDirective = /*#__PURE__*/(() => {\n  class TuiDropdownToolbarDirective extends TuiDropdownSelectionDirective {\n    constructor() {\n      super(...arguments);\n      this.previousTagPosition = null;\n      this.stream$ = combineLatest([this.handler$, this.selection$.pipe(map(() => this.getRange()), distinctUntilChanged((x, y) => x.startOffset === y.startOffset && x.endOffset === y.endOffset))]).pipe(map(([handler, range]) => {\n        var _a;\n        const contained = this.el.nativeElement.contains(range.commonAncestorContainer) || ((_a = range.commonAncestorContainer.parentElement) === null || _a === void 0 ? void 0 : _a.closest('tui-dropdown'));\n        this.range = contained && tuiIsTextNode(range.commonAncestorContainer) ? range : this.range;\n        return contained && handler(this.range) || this.inDropdown(range);\n      }));\n      this.position = 'selection';\n    }\n    set tuiToolbarDropdown(visible) {\n      this.tuiDropdownSelection = visible;\n    }\n    getClientRect() {\n      var _a, _b, _c, _d;\n      switch (this.position) {\n        case 'tag':\n          {\n            const {\n              commonAncestorContainer\n            } = this.range;\n            const element = tuiIsElement(commonAncestorContainer) ? commonAncestorContainer : commonAncestorContainer.parentNode;\n            if ((_a = element === null || element === void 0 ? void 0 : element.parentElement) === null || _a === void 0 ? void 0 : _a.closest('tui-dropdown')) {\n              return (_b = this.previousTagPosition) !== null && _b !== void 0 ? _b : EMPTY_CLIENT_RECT;\n            }\n            this.previousTagPosition = element && tuiIsElement(element) ? ((_c = this.doc.querySelector('.ProseMirror-selectednode')) === null || _c === void 0 ? void 0 : _c.getBoundingClientRect()) || element.getBoundingClientRect() : EMPTY_CLIENT_RECT;\n            return this.previousTagPosition;\n          }\n        case 'word':\n          return tuiGetWordRange(this.range).getBoundingClientRect();\n        default:\n          {\n            const rect = this.range.getBoundingClientRect();\n            if (rect.x === 0 && rect.y === 0 && rect.width === 0 && rect.height === 0) {\n              return ((_d = this.el.nativeElement.querySelector('p')) !== null && _d !== void 0 ? _d : this.el.nativeElement).getBoundingClientRect();\n            }\n            return rect;\n          }\n      }\n    }\n  }\n  TuiDropdownToolbarDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDropdownToolbarDirective_BaseFactory;\n    return function TuiDropdownToolbarDirective_Factory(t) {\n      return (ɵTuiDropdownToolbarDirective_BaseFactory || (ɵTuiDropdownToolbarDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDropdownToolbarDirective)))(t || TuiDropdownToolbarDirective);\n    };\n  })();\n  TuiDropdownToolbarDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownToolbarDirective,\n    selectors: [[\"\", \"tuiToolbarDropdown\", \"\"]],\n    inputs: {\n      position: [0, \"tuiToolbarDropdownPosition\", \"position\"],\n      tuiToolbarDropdown: \"tuiToolbarDropdown\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiDropdownToolbarDirective), tuiAsRectAccessor(TuiDropdownToolbarDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownToolbarDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorPortalService = /*#__PURE__*/(() => {\n  class TuiEditorPortalService extends AbstractTuiPortalService {}\n  TuiEditorPortalService.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiEditorPortalService_BaseFactory;\n    return function TuiEditorPortalService_Factory(t) {\n      return (ɵTuiEditorPortalService_BaseFactory || (ɵTuiEditorPortalService_BaseFactory = i0.ɵɵgetInheritedFactory(TuiEditorPortalService)))(t || TuiEditorPortalService);\n    };\n  })();\n  TuiEditorPortalService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiEditorPortalService,\n    factory: TuiEditorPortalService.ɵfac\n  });\n  return TuiEditorPortalService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_EDITOR_PROVIDERS = [{\n  provide: LAZY_EDITOR_EXTENSIONS,\n  deps: [TUI_EDITOR_EXTENSIONS],\n  useFactory: extensions => {\n    const extensions$ = new ReplaySubject(1);\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    Promise.all(extensions).then(extensions => extensions$.next(extensions));\n    return extensions$;\n  }\n}, {\n  provide: INITIALIZATION_TIPTAP_CONTAINER,\n  deps: [Renderer2],\n  useFactory: renderer => renderer.createElement(`div`)\n}, {\n  provide: TIPTAP_EDITOR,\n  deps: [INITIALIZATION_TIPTAP_CONTAINER, LAZY_EDITOR_EXTENSIONS, LAZY_TIPTAP_EDITOR],\n  useFactory: (element, extensions, editor) => combineLatest([editor, extensions]).pipe(take(1), map(([LazyEditor, extensions]) => new LazyEditor({\n    element,\n    extensions\n  })), shareReplay({\n    bufferSize: 1,\n    refCount: true\n  }))\n}, TuiTiptapEditorService, TuiEditorPortalService];\nlet TuiEditorPortalHostComponent = /*#__PURE__*/(() => {\n  class TuiEditorPortalHostComponent extends AbstractTuiPortalHostComponent {}\n  TuiEditorPortalHostComponent.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiEditorPortalHostComponent_BaseFactory;\n    return function TuiEditorPortalHostComponent_Factory(t) {\n      return (ɵTuiEditorPortalHostComponent_BaseFactory || (ɵTuiEditorPortalHostComponent_BaseFactory = i0.ɵɵgetInheritedFactory(TuiEditorPortalHostComponent)))(t || TuiEditorPortalHostComponent);\n    };\n  })();\n  TuiEditorPortalHostComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditorPortalHostComponent,\n    selectors: [[\"tui-editor-portal-host\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: AbstractTuiPortalService,\n      useExisting: TuiDropdownPortalService\n    }, {\n      provide: AbstractTuiPortalHostComponent,\n      useExisting: TuiEditorPortalHostComponent\n    }]), i0.ɵɵInheritDefinitionFeature],\n    decls: 2,\n    vars: 0,\n    consts: [[\"viewContainer\", \"\"]],\n    template: function TuiEditorPortalHostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementContainer(0, null, 0);\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{position:absolute;top:0;left:0;display:block;height:100%;width:100%;pointer-events:none}\"],\n    changeDetection: 0\n  });\n  return TuiEditorPortalHostComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorPortalDirective = /*#__PURE__*/(() => {\n  class TuiEditorPortalDirective extends TuiRectAccessor {\n    constructor(el) {\n      super();\n      this.el = el;\n      this.type = 'viewport';\n    }\n    getClientRect() {\n      return this.el.nativeElement.getBoundingClientRect();\n    }\n  }\n  TuiEditorPortalDirective.ɵfac = function TuiEditorPortalDirective_Factory(t) {\n    return new (t || TuiEditorPortalDirective)(i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiEditorPortalDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiEditorPortalDirective,\n    selectors: [[\"\", \"tuiEditorPortal\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TuiDropdownPortalService,\n      useExisting: TuiEditorPortalService\n    }, tuiAsViewport(TuiEditorPortalDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiEditorPortalDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorComponent = /*#__PURE__*/(() => {\n  class TuiEditorComponent extends AbstractTuiControl {\n    constructor(control, cdr, editorLoaded$, editorService, contentProcessor, doc, transformer, options, zone) {\n      super(control, cdr, transformer);\n      this.editorLoaded$ = editorLoaded$;\n      this.editorService = editorService;\n      this.contentProcessor = contentProcessor;\n      this.doc = doc;\n      this.options = options;\n      this.zone = zone;\n      this.exampleText = '';\n      this.tools = defaultEditorTools;\n      this.floatingToolbar = false;\n      this.fileAttached = new EventEmitter();\n      this.hasMentionPlugin = false;\n      this.focused = false;\n      this.openDropdownWhen = range => this.currentFocusedNodeIsTextAnchor(range) || this.currentFocusedNodeIsImageAnchor || this.isMentionMode;\n      this.editorLoaded$.pipe(delay(0), takeUntil(this.destroy$)).subscribe(() => {\n        this.hasMentionPlugin = !!this.editorService.getOriginTiptapEditor().extensionManager.extensions.find(extension => extension.name === 'mention');\n        this.patchContentEditableElement();\n        this.listenResizeEvents();\n      });\n    }\n    get nativeFocusableElement() {\n      var _a, _b;\n      return this.computedDisabled ? null : ((_b = (_a = this.el) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.querySelector('[contenteditable].ProseMirror')) || null;\n    }\n    get dropdownSelectionHandler() {\n      if (this.floatingToolbar) {\n        return ALWAYS_TRUE_HANDLER;\n      }\n      return this.focused ? this.openDropdownWhen : ALWAYS_FALSE_HANDLER;\n    }\n    get editor() {\n      return this.editorService.getOriginTiptapEditor() ? this.editorService : null;\n    }\n    get placeholderRaised() {\n      return this.computedFocused && !this.readOnly || this.hasValue;\n    }\n    get hasExampleText() {\n      return !!this.exampleText && this.computedFocused && !this.hasValue && !this.readOnly;\n    }\n    get isLinkSelected() {\n      var _a, _b, _c, _d;\n      const focusElement = (_a = this.doc.getSelection()) === null || _a === void 0 ? void 0 : _a.focusNode;\n      const parentFocusElement = focusElement === null || focusElement === void 0 ? void 0 : focusElement.parentNode;\n      return (parentFocusElement === null || parentFocusElement === void 0 ? void 0 : parentFocusElement.nodeName.toLowerCase()) === 'a' || ((_b = parentFocusElement === null || parentFocusElement === void 0 ? void 0 : parentFocusElement.parentNode) === null || _b === void 0 ? void 0 : _b.nodeName.toLowerCase()) === 'a' || (focusElement === null || focusElement === void 0 ? void 0 : focusElement.nodeName.toLowerCase()) === 'a' || !!((_c = focusElement === null || focusElement === void 0 ? void 0 : focusElement.parentElement) === null || _c === void 0 ? void 0 : _c.closest('tui-edit-link')) || !!((_d = focusElement === null || focusElement === void 0 ? void 0 : focusElement.parentElement) === null || _d === void 0 ? void 0 : _d.closest('tui-dropdown'));\n    }\n    get mentionSuggestions() {\n      const before = this.selectionState.before;\n      return (before === null || before === void 0 ? void 0 : before.startsWith('@')) && before.length > 1 ? (before === null || before === void 0 ? void 0 : before.replace('@', '')) || '' : '';\n    }\n    get isMentionMode() {\n      var _a;\n      return this.hasMentionPlugin && ((_a = this.selectionState.before) === null || _a === void 0 ? void 0 : _a.startsWith('@'));\n    }\n    writeValue(value) {\n      var _a, _b;\n      if (value === this.value) {\n        return;\n      }\n      const processed = this.contentProcessor(value || '');\n      super.writeValue(processed);\n      if (processed !== value) {\n        (_a = this.control) === null || _a === void 0 ? void 0 : _a.setValue(processed, {\n          onlySelf: false,\n          emitEvent: false,\n          emitModelToViewChange: false,\n          emitViewToModelChange: false\n        });\n      }\n      if (!this.focused) {\n        (_b = this.doc.getSelection()) === null || _b === void 0 ? void 0 : _b.removeAllRanges();\n      }\n    }\n    onActiveZone(focused) {\n      var _a;\n      this.focused = focused;\n      this.updateFocused(focused);\n      (_a = this.control) === null || _a === void 0 ? void 0 : _a.updateValueAndValidity();\n    }\n    onModelChange(value) {\n      this.value = value;\n    }\n    addAnchor(anchor) {\n      var _a;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.setAnchor(anchor);\n    }\n    removeAnchor() {\n      var _a;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.removeAnchor();\n    }\n    addLink(link) {\n      var _a, _b;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.selectClosest();\n      (_b = this.editor) === null || _b === void 0 ? void 0 : _b.setLink(link);\n    }\n    removeLink() {\n      var _a;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.unsetLink();\n    }\n    get selectionState() {\n      return tuiGetSelectionState(this.editor);\n    }\n    focus(event) {\n      var _a, _b;\n      if ((_a = this.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.contains(event.target)) {\n        return;\n      }\n      event.preventDefault();\n      (_b = this.nativeFocusableElement) === null || _b === void 0 ? void 0 : _b.focus();\n    }\n    ngOnDestroy() {\n      var _a;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.destroy();\n    }\n    getFallbackValue() {\n      return '';\n    }\n    /**\n     * @description:\n     * The commonAncestorContainer not always relevant node element in Range,\n     * so the focusNode is used for the correct behaviour from the selection,\n     * which is the actual element at the moment\n     */\n    currentFocusedNodeIsTextAnchor(range) {\n      var _a, _b;\n      return !!((_b = (_a = range.startContainer.parentElement) === null || _a === void 0 ? void 0 : _a.closest('a')) === null || _b === void 0 ? void 0 : _b.contains(this.focusNode)) && tuiIsSafeLinkRange(range);\n    }\n    get focusNode() {\n      var _a, _b;\n      return (_b = (_a = this.doc.getSelection()) === null || _a === void 0 ? void 0 : _a.focusNode) !== null && _b !== void 0 ? _b : null;\n    }\n    get hasValue() {\n      return !!this.value;\n    }\n    get currentFocusedNodeIsImageAnchor() {\n      var _a, _b, _c;\n      return ((_a = this.focusNode) === null || _a === void 0 ? void 0 : _a.nodeName) === 'A' && ['IMG', 'TUI-IMAGE-EDITOR'].includes((_c = (_b = this.focusNode) === null || _b === void 0 ? void 0 : _b.childNodes[0]) === null || _c === void 0 ? void 0 : _c.nodeName);\n    }\n    patchContentEditableElement() {\n      var _a, _b;\n      (_a = this.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.setAttribute('translate', this.options.translate);\n      (_b = this.nativeFocusableElement) === null || _b === void 0 ? void 0 : _b.setAttribute('spellcheck', String(this.options.spellcheck));\n    }\n    listenResizeEvents() {\n      var _a, _b;\n      ((_a = this.el) === null || _a === void 0 ? void 0 : _a.nativeElement) && fromEvent((_b = this.el) === null || _b === void 0 ? void 0 : _b.nativeElement, TUI_EDITOR_RESIZE_EVENT).pipe(throttleTime(0), tuiZonefree(this.zone), takeUntil(this.destroy$)).subscribe(() => this.editorService.valueChange$.next(this.editorService.getHTML()));\n    }\n  }\n  TuiEditorComponent.ɵfac = function TuiEditorComponent_Factory(t) {\n    return new (t || TuiEditorComponent)(i0.ɵɵdirectiveInject(NgControl, 10), i0.ɵɵdirectiveInject(ChangeDetectorRef), i0.ɵɵdirectiveInject(TIPTAP_EDITOR), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_CONTENT_PROCESSOR), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(TUI_EDITOR_VALUE_TRANSFORMER, 8), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(NgZone));\n  };\n  TuiEditorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditorComponent,\n    selectors: [[\"tui-editor\"]],\n    viewQuery: function TuiEditorComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(TuiTiptapEditorDirective, 5, ElementRef);\n        i0.ɵɵviewQuery(TuiToolbarComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.el = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.toolbar = _t.first);\n      }\n    },\n    inputs: {\n      exampleText: \"exampleText\",\n      tools: \"tools\",\n      floatingToolbar: \"floatingToolbar\"\n    },\n    outputs: {\n      fileAttached: \"fileAttached\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiEditorComponent), tuiAutoFocusOptionsProvider({\n      delay: TUI_ANIMATIONS_DEFAULT_DURATION\n    }), TUI_EDITOR_PROVIDERS]), i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c1,\n    decls: 3,\n    vars: 4,\n    consts: [[\"editor\", \"\"], [\"dropdown\", \"\"], [\"link\", \"\"], [\"tuiWrapper\", \"\", \"class\", \"t-wrapper\", 3, \"appearance\", \"disabled\", \"focus\", \"hover\", \"invalid\", \"readOnly\", \"tuiActiveZoneChange\", 4, \"ngIf\"], [1, \"t-hidden-editor\", 3, \"content\"], [\"tuiWrapper\", \"\", 1, \"t-wrapper\", 3, \"tuiActiveZoneChange\", \"appearance\", \"disabled\", \"focus\", \"hover\", \"invalid\", \"readOnly\"], [1, \"t-toolbar-wrapper\"], [3, \"disabled\", \"tools\", \"fileAttached\", 4, \"ngIf\"], [1, \"t-placeholder\"], [\"class\", \"t-example-text\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"fileAttached\", \"disabled\", \"tools\"], [1, \"t-example-text\"], [\"class\", \"t-scrollbar\", 3, \"mousedown\", 4, \"ngIf\"], [\"tuiEditorPortal\", \"\", \"class\", \"t-scrollbar\", 3, \"mousedown\", 4, \"ngIf\"], [1, \"t-scrollbar\", 3, \"mousedown\"], [3, \"ngTemplateOutlet\"], [\"tuiEditorPortal\", \"\", 1, \"t-scrollbar\", 3, \"mousedown\"], [\"tuiDropdownLimitWidth\", \"auto\", 3, \"tuiDropdown\", \"tuiToolbarDropdown\", \"tuiToolbarDropdownPosition\"], [\"tuiTiptapEditor\", \"\", 3, \"stateChange\", \"valueChange\", \"editable\", \"value\"], [3, \"disabled\", \"tools\", \"tuiActiveZoneParent\", \"fileAttached\", 4, \"ngIf\"], [3, \"addLink\", \"removeLink\", 4, \"ngIf\"], [3, \"fileAttached\", \"disabled\", \"tools\", \"tuiActiveZoneParent\"], [3, \"addLink\", \"removeLink\"]],\n    template: function TuiEditorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef(_c0);\n        i0.ɵɵtemplate(0, TuiEditorComponent_div_0_Template, 7, 11, \"div\", 3);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵelement(2, \"tui-editor-socket\", 4);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.editorLoaded$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"content\", ctx.value);\n      }\n    },\n    dependencies: [i1.TuiToolbarComponent, i2.TuiScrollbarComponent, TuiEditorPortalHostComponent, i4.TuiEditorSocketComponent, i5.TuiEditLinkComponent, i6.NgIf, i2.TuiWrapperDirective, i7.TuiActiveZoneDirective, i6.NgTemplateOutlet, TuiEditorPortalDirective, i2.TuiDropdownOptionsDirective, i2.TuiDropdownDirective, i2.TuiDropdownDriverDirective, i2.TuiDropdownPositionDirective, TuiDropdownToolbarDirective, i10.TuiTiptapEditorDirective, i6.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{position:relative;z-index:0;display:block;font:var(--tui-font-text-m);border-radius:var(--tui-radius-m);max-height:inherit;min-height:10rem;box-sizing:border-box;overflow:clip}.t-wrapper[_ngcontent-%COMP%]{display:flex;max-height:inherit;min-height:inherit;cursor:text;overflow:clip;flex-direction:column;border-radius:inherit}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-02);pointer-events:none;will-change:transform;transform:translateY(0);margin:1rem 1rem -1rem;min-height:1.625rem;width:95%;font-size:.9375rem}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}._invalid[_nghost-%COMP%]:not(._focused)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}._focused[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}.t-placeholder_raised[_ngcontent-%COMP%]{width:110%}.t-placeholder[_ngcontent-%COMP%]:empty{min-height:.8rem}.t-example-text[_ngcontent-%COMP%]{position:absolute;left:1rem;margin-top:1.6rem;color:var(--tui-base-06);letter-spacing:normal;text-transform:none}.t-example-text_light[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}.t-example-text_dark[_ngcontent-%COMP%]{color:var(--tui-text-03)}.t-scrollbar[_ngcontent-%COMP%]{display:flex;border-bottom:.3125rem solid transparent;padding-bottom:1.3125rem;box-sizing:border-box;flex:1}.t-floating[_ngcontent-%COMP%], .t-floating[_ngcontent-%COMP%]     .t-tools-wrapper{max-width:var(--tui-floating-toolbar-max-width, 31.25rem);flex-wrap:nowrap}\"],\n    changeDetection: 0\n  });\n  return TuiEditorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorModule = /*#__PURE__*/(() => {\n  class TuiEditorModule {}\n  TuiEditorModule.ɵfac = function TuiEditorModule_Factory(t) {\n    return new (t || TuiEditorModule)();\n  };\n  TuiEditorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiEditorModule\n  });\n  TuiEditorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[TuiItemModule, CommonModule, TuiToolbarModule, TuiWrapperModule, TuiScrollbarModule, TuiEditLinkModule, TuiActiveZoneModule, TuiDropdownModule, TuiTiptapEditorModule, TuiEditorSocketModule]]\n  });\n  return TuiEditorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_EDITOR_PROVIDERS, TuiDropdownToolbarDirective, TuiEditorComponent, TuiEditorModule, TuiEditorPortalDirective, TuiEditorPortalHostComponent, TuiEditorPortalService };\n","import {ChangeDetectionStrategy, Component, ViewEncapsulation} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {\n    TUI_EDITOR_DEFAULT_EDITOR_TOOLS,\n    TUI_EDITOR_DEFAULT_EXTENSIONS,\n    TUI_EDITOR_EXTENSIONS,\n    TuiEditorModule,\n    TuiEditorSocketModule,\n} from '@tinkoff/tui-editor';\n\n@Component({\n    standalone: true,\n    selector: 'home',\n    imports: [FormsModule, TuiEditorModule, TuiEditorSocketModule],\n    templateUrl: './home.component.html',\n    styleUrls: ['./home.component.less'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        {\n            provide: TUI_EDITOR_EXTENSIONS,\n            useValue: TUI_EDITOR_DEFAULT_EXTENSIONS,\n        },\n    ],\n})\nexport default class HomeComponent {\n    protected readonly builtInTools = TUI_EDITOR_DEFAULT_EDITOR_TOOLS;\n    protected editor = '';\n}\n","<tui-editor\n    [tools]=\"builtInTools\"\n    [(ngModel)]=\"editor\"\n>\n    Typing...\n</tui-editor>\n\n<br />\n\n<h4>HTML:</h4>\n<tui-editor-socket\n    class=\"tui-example\"\n    [content]=\"editor\"\n/>\n\n<h4>Text:</h4>\n<p>{{ editor }}</p>\n"],"mappings":"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","names":["AbstractTuiEditor","Subject","t","ɵɵdefineDirective","TuiCheckedModule","t","ɵɵdefineNgModule","ɵɵdefineInjector","TuiFocusVisibleModule","t","ɵɵdefineNgModule","ɵɵdefineInjector","TuiFocusableDirective","t","ɵɵdefineDirective","rf","ctx","ɵɵhostProperty","TuiFocusableModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiFocusedDirective","nativeElement","zone","merge","tuiTypedFromEvent","map","tuiIsNativeFocused","startWith","distinctUntilChanged","skip","tuiZoneOptimized","t","ɵɵdirectiveInject","ElementRef","NgZone","ɵɵdefineDirective","TuiFocusedModule","ɵɵdefineNgModule","ɵɵdefineInjector","movedOut","currentTarget","relatedTarget","tuiIsElement","TuiHoveredService","Observable","el","zone","subscriber","merge","tuiTypedFromEvent","map","ALWAYS_TRUE_HANDLER","ALWAYS_FALSE_HANDLER","filter","distinctUntilChanged","tuiZoneOptimized","t","ɵɵinject","ElementRef","NgZone","ɵɵdefineInjectable","TuiHoveredDirective","tuiHoveredChange","ɵɵdirectiveInject","ɵɵdefineDirective","ɵɵProvidersFeature","TuiHoveredModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiItemDirective","t","ɵɵdefineDirective","TuiItemModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiObscuredDirective","activeZone","obscured$","Subject","mapped$","map","obscuredBy","element","tuiIfMap","enabled","t","ɵɵdirectiveInject","TuiActiveZoneDirective","TuiObscuredService","ɵɵdefineDirective","ɵɵProvidersFeature","TuiParentsScrollService","TuiDestroyService","TuiObscuredModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiPressedModule","t","ɵɵdefineNgModule","ɵɵdefineInjector","MAX_VALUE","TuiRepeatTimesContext","$implicit","TuiRepeatTimesDirective","viewContainer","templateRef","count","safeCount","tuiClamp","length","index","amount","t","ɵɵdirectiveInject","ViewContainerRef","TemplateRef","ɵɵdefineDirective","TuiRepeatTimesModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","TuiScrollbarComponent_tui_scroll_controls_0_Template","rf","ctx","ɵɵelement","TuiScrollbarComponent","cssRef","el","userAgent","isIos","tuiIsFirefox","ElementRef","element","detail","_a","nativeElement","offsetTop","offsetLeft","tuiGetElementOffset","clientHeight","clientWidth","offsetHeight","offsetWidth","scrollTop","scrollLeft","t","ɵɵdirectiveInject","CSS","USER_AGENT","TUI_IS_IOS","ɵɵdefineComponent","rf","ctx","ɵɵlistener","$event","ɵɵclassProp","ɵɵProvidersFeature","TUI_SCROLL_REF","browserScrollRef","_c0","ɵɵprojectionDef","ɵɵtemplate","TuiScrollbarComponent_tui_scroll_controls_0_Template","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵproperty","ɵɵadvance","TuiScrollControlsComponent","NgIf","TuiScrollbarModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiScrollControlsModule","_c0","a0","TuiDropdownComponent_div_3_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","text_r2","ɵɵadvance","ɵɵtextInterpolate1","TUI_DROPDOWN_COMPONENT","tuiCreateTokenFromFactory","TuiDropdownComponent","TuiDropdownOpenDirective","EventEmitter","open","_a","t","ɵɵdefineDirective","ɵɵNgOnChangesFeature","TuiDropdownDirective","destroy$","el","dropdown","injector","dropdownService","Subject","PolymorpheusComponent","throttleTime","takeUntil","_b","tuiCheckFixedPosition","show","ɵɵdirectiveInject","TuiDestroyService","ElementRef","INJECTOR$1","TuiDropdownPortalService","ɵɵProvidersFeature","tuiAsRectAccessor","tuiAsVehicle","__decorate","tuiPure","TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS","TUI_DROPDOWN_HOVER_OPTIONS","tuiCreateToken","TuiDropdownHoverDirective","TuiDriver","hovered$","options","parentHover","subscriber","Subject","merge","switchMap","visible","of","delay","tap","share","_a","t","ɵɵdirectiveInject","TuiHoveredService","TUI_DROPDOWN_HOVER_OPTIONS","ɵɵdefineDirective","ɵɵProvidersFeature","tuiAsDriver","ɵɵInheritDefinitionFeature","TUI_DROPDOWN_DEFAULT_OPTIONS","TUI_DROPDOWN_OPTIONS","tuiCreateToken","tuiDropdownOptionsProvider","override","Optional","TuiDropdownOptionsDirective","SkipSelf","tuiOverrideOptions","forwardRef","TuiDropdownPositionDirective","TuiPositionAccessor","viewport","accessors","directive","width","height","_b","hostRect","EMPTY_CLIENT_RECT","viewportRect","minHeight","align","direction","offset","limitWidth","previous","available","rectWidth","right","left","position","better","tuiFallbackRectAccessor","TUI_VIEWPORT","TuiRectAccessor","TuiDropdownDirective","__decorate","tuiPure","TuiDropdownComponent","vvs","position$","destroy$","animation","el","accessor","win","mode$","hoverDirective","map","point","takeUntil","top","hovered","style","maxHeight","innerHeight","clientRect","rect","offsetX","offsetY","sided","tuiPx","nativeElement","ownerDocument","root","focusable","tuiGetClosestFocusable","TuiVisualViewportService","TuiPositionService","TuiDestroyService","TUI_ANIMATION_OPTIONS","ElementRef","WINDOW","TUI_MODE","ɵɵdefineComponent","rf","ctx","ɵɵlistener","ɵɵsyntheticHostProperty","ɵɵattribute","tuiPositionAccessorFor","tuiRectAccessorFor","MODE_PROVIDER","_r1","ɵɵgetCurrentView","ɵɵelementStart","$event","ɵɵrestoreView","ɵɵresetView","ɵɵelementEnd","ɵɵtemplate","TuiDropdownComponent_div_3_Template","activeZone_r3","ɵɵreference","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0","TuiScrollbarComponent","TuiActiveZoneDirective","TuiOverscrollDirective","TuiHoveredDirective","PolymorpheusOutletDirective","tuiDropdownAnimation","TuiDropdownDriverDirective","AbstractTuiDriverDirective","destroy$","drivers","vehicles","t","ɵɵdirectiveInject","TuiDestroyService","TuiDriver","TuiVehicle","ɵɵdefineDirective","ɵɵProvidersFeature","ɵɵInheritDefinitionFeature","TuiDropdownManualDirective","TuiDriver","subscriber","BehaviorSubject","t","ɵɵdefineDirective","ɵɵProvidersFeature","tuiAsDriver","ɵɵInheritDefinitionFeature","ɵɵNgOnChangesFeature","TuiDropdownPositionSidedDirective","TuiPositionAccessor","options","viewport","vertical","rect","_a","_b","height","width","hostRect","EMPTY_CLIENT_RECT","direction","minHeight","offset","align","available","position","better","maxLeft","left","ɵɵdirectiveInject","TUI_DROPDOWN_OPTIONS","TUI_VIEWPORT","TuiDropdownPositionDirective","tuiAsPositionAccessor","TuiDropdownSelectionDirective","range","doc","selection$","el","vcr","dropdown","ALWAYS_TRUE_HANDLER","combineLatest","map","distinctUntilChanged","x","y","handler","contained","tuiIsTextNode","visible","tuiIsString","commonAncestorContainer","element","tuiIsElement","tuiGetWordRange","active","tuiGetNativeFocused","selection","tuiIsTextfield","startContainer","endContainer","nativeElement","inDropdown","hostToDropdown","dropdownToHost","ghost","top","selectionStart","selectionEnd","value","tuiPx","CHAR_ZERO_WIDTH_SPACE","CHAR_NO_BREAK_SPACE","node","font","letterSpacing","textTransform","padding","TUI_RANGE","DOCUMENT","TUI_SELECTION_STREAM","ElementRef","ViewContainerRef","TuiDropdownDirective","tuiAsRectAccessor","TuiDropdownModule","ɵɵdefineNgModule","ɵɵdefineInjector","PolymorpheusModule","TuiActiveZoneModule","TuiOverscrollModule","TuiScrollbarModule","TuiHoveredModule","_c0","TuiHintComponent_span_1_Template","rf","ctx","ɵɵelement","text_r1","ɵɵproperty","ɵɵsanitizeHtml","TUI_HINT_COMPONENT","tuiCreateTokenFromFactory","TuiHintComponent","TUI_HINT_DEFAULT_OPTIONS","TUI_HINT_OPTIONS","tuiCreateToken","TuiHintDirective","el","component","hintService","options","activeZone","content","_a","show","t","ɵɵdirectiveInject","ElementRef","PolymorpheusComponent","TuiHintService","TUI_HINT_OPTIONS","TuiActiveZoneDirective","ɵɵdefineDirective","ɵɵProvidersFeature","tuiAsRectAccessor","tuiAsVehicle","TUI_HINT_COMPONENT","INJECTOR$1","TuiHintHoverDirective","TuiDriver","hovered$","parent","subscriber","Subject","merge","switchMap","visible","of","delay","takeUntil","repeat","filter","map","value","tuiIsObscured","tap","TuiHoveredService","tuiAsDriver","ɵɵInheritDefinitionFeature","TuiHintPointerDirective","EMPTY_CLIENT_RECT","clientX","clientY","tuiPointToClientRect","ɵTuiHintPointerDirective_BaseFactory","ɵɵgetInheritedFactory","rf","ctx","ɵɵlistener","$event","OFFSET","ARROW_OFFSET","TOP","LEFT","TuiHintPositionDirective","TuiPositionAccessor","viewport","directive","accessors","TUI_HINT_DIRECTIONS","acc","direction","width","height","_b","hostRect","leftCenter","topCenter","tuiFallbackRectAccessor","top","left","TUI_VIEWPORT","TuiRectAccessor","__decorate","tuiPure","GAP","TuiHintComponent","position$","destroy$","animation","pointer","accessor","polymorpheus","hover","mode","vvs","point","target","style","rect","safeLeft","tuiClamp","beakTop","beakLeft","tuiPx","TuiPositionService","TuiDestroyService","TUI_ANIMATION_OPTIONS","POLYMORPHEUS_CONTEXT","TuiModeDirective","TuiVisualViewportService","ɵɵdefineComponent","ɵɵresolveDocument","ɵɵsyntheticHostProperty","ɵɵattribute","ɵɵclassProp","tuiPositionAccessorFor","tuiRectAccessorFor","_c0","ɵɵprojectionDef","ɵɵprojection","ɵɵtemplate","TuiHintComponent_span_1_Template","ɵɵadvance","ɵɵproperty","PolymorpheusOutletDirective","tuiFadeIn","TuiHintDescribeDirective","zone","doc","ReplaySubject","tuiIfMap","tuiTypedFromEvent","tuiIsPresent","debounce","timer","startWith","distinctUntilChanged","skip","tuiZoneOptimized","tuiIsNativeFocused","NgZone","DOCUMENT","ɵɵNgOnChangesFeature","TuiHintDriverDirective","AbstractTuiDriverDirective","drivers","vehicles","TuiVehicle","TuiHintModule","t","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","PolymorpheusModule","TuiMaskAccessorDirective","t","ɵɵdefineDirective","ɵɵProvidersFeature","NG_VALUE_ACCESSOR","Optional","TUI_VALUE_ACCESSOR","DefaultValueAccessor","accessor","fallback","TuiMaskAccessorModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiTextfieldController","change$","options","legacyAppearance","appearanceDirective","cleanerDirective","customContentDirective","iconDirective","iconLeftDirective","labelOutsideDirective","sizeDirective","prefixDirective","postfixDirective","fillerDirective","TUI_TEXTFIELD_DEFAULT_OPTIONS","TUI_TEXTFIELD_OPTIONS","tuiCreateToken","TUI_TEXTFIELD_APPEARANCE_DIRECTIVE","tuiCreateTokenFromFactory","TuiTextfieldAppearanceDirective","AbstractTuiController","ɵTuiTextfieldAppearanceDirective_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵProvidersFeature","forwardRef","ɵɵInheritDefinitionFeature","TUI_TEXTFIELD_CLEANER","TuiTextfieldCleanerDirective","ɵTuiTextfieldCleanerDirective_BaseFactory","TUI_TEXTFIELD_CUSTOM_CONTENT","TuiTextfieldCustomContentDirective","ɵTuiTextfieldCustomContentDirective_BaseFactory","TUI_TEXTFIELD_FILLER","TuiTextfieldFillerDirective","ɵTuiTextfieldFillerDirective_BaseFactory","TUI_TEXTFIELD_ICON","TuiTextfieldIconDirective","ɵTuiTextfieldIconDirective_BaseFactory","TUI_TEXTFIELD_ICON_LEFT","TuiTextfieldIconLeftDirective","ɵTuiTextfieldIconLeftDirective_BaseFactory","TUI_TEXTFIELD_LABEL_OUTSIDE","TuiTextfieldLabelOutsideDirective","ɵTuiTextfieldLabelOutsideDirective_BaseFactory","TUI_TEXTFIELD_POSTFIX","TuiTextfieldPostfixDirective","ɵTuiTextfieldPostfixDirective_BaseFactory","TUI_TEXTFIELD_PREFIX","TuiTextfieldPrefixDirective","ɵTuiTextfieldPrefixDirective_BaseFactory","TUI_TEXTFIELD_SIZE","TuiTextfieldSizeDirective","ɵTuiTextfieldSizeDirective_BaseFactory","TUI_TEXTFIELD_WATCHED_CONTROLLER","InjectionToken","TEXTFIELD_CONTROLLER_PROVIDER","TuiDestroyService","ChangeDetectorRef","TUI_TEXTFIELD_OPTIONS","TUI_TEXTFIELD_APPEARANCE","TUI_TEXTFIELD_APPEARANCE_DIRECTIVE","TUI_TEXTFIELD_CLEANER","TUI_TEXTFIELD_CUSTOM_CONTENT","TUI_TEXTFIELD_ICON","TUI_TEXTFIELD_ICON_LEFT","TUI_TEXTFIELD_LABEL_OUTSIDE","TUI_TEXTFIELD_SIZE","TUI_TEXTFIELD_PREFIX","TUI_TEXTFIELD_POSTFIX","TUI_TEXTFIELD_FILLER","cdr","destroy$","options","legacyAppearance","controllers","change$","merge","NEVER","tuiWatch","takeUntil","TuiTextfieldController","_c0","_c1","_c2","a0","TuiOptionComponent_ng_container_0_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","text_r1","ɵɵadvance","ɵɵtextInterpolate1","TuiOptionComponent_ng_template_1_tui_svg_1_Template","ɵɵelement","ctx_r1","ɵɵnextContext","ɵɵproperty","TuiOptionComponent_ng_template_1_Template","ɵɵprojection","ɵɵtemplate","TuiDataListComponent_div_2_ng_container_1_Template","TuiDataListComponent_div_2_Template","ɵɵelementStart","ɵɵpipe","ɵɵelementEnd","ɵɵpipeBind1","shouldFocus","currentTarget","tuiIsNativeFocused","TuiOptionComponent","isMobile","content","dataList","el","host","dropdown","icons","_a","t","ɵɵdirectiveInject","TUI_IS_MOBILE","TUI_OPTION_CONTENT","forwardRef","TuiDataListComponent","ElementRef","TUI_DATA_LIST_HOST","TuiDropdownDirective","TUI_COMMON_ICONS","ɵɵdefineComponent","ɵɵlistener","$event","ɵɵattribute","ɵɵclassProp","ɵɵprojectionDef","ɵɵtemplateRefExtractor","base_r3","ɵɵreference","ɵɵpureFunction1","TuiSvgComponent","PolymorpheusOutletDirective","NgIf","__decorate","shouldCall","controller","defaultEmptyContent$","EMPTY_QUERY","tuiQueryListChanges","map","length","relatedTarget","current","step","elements","tuiMoveFocus","element","tuiIsNativeFocusedIn","tuiSetNativeMouseFocused","includeDisabled","disabled","value","tuiIsPresent","target","top","tuiIsElement","TUI_TEXTFIELD_WATCHED_CONTROLLER","TUI_NOTHING_FOUND_MESSAGE","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵProvidersFeature","tuiAsDataListAccessor","TEXTFIELD_CONTROLLER_PROVIDER","AsyncPipe","tuiPure","TuiOptGroupDirective","t","ɵɵdefineDirective","rf","ctx","ɵɵattribute","TuiDataListModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiSvgModule","PolymorpheusModule","_c0","_c1","_c2","a0","a1","TuiHostedDropdownComponent_div_0_ng_template_3_div_2_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","text_r4","ɵɵadvance","ɵɵtextInterpolate1","TuiHostedDropdownComponent_div_0_ng_template_3_Template","_r3","ɵɵgetCurrentView","ɵɵlistener","$event","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵtemplate","ɵɵelement","activeZone_r5","ɵɵreference","ɵɵproperty","ɵɵpureFunction2","TuiHostedDropdownComponent_div_0_Template","_r1","ɵɵprojection","ɵɵtemplateRefExtractor","isOpen_r6","dropdown_r7","TuiAccessorProxyDirective","TuiPositionAccessor","ɵTuiAccessorProxyDirective_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵProvidersFeature","Optional","SkipSelf","accessor","fallback","ɵɵInheritDefinitionFeature","TUI_HOSTED_DROPDOWN_COMPONENT","InjectionToken","TuiDropdownOpenMonitorDirective","destroy$","hosted","dropdown","open","takeUntil","value","_a","ɵɵdirectiveInject","TuiDestroyService","TuiDropdownDirective","TuiDropdownOpenDirective","TuiHostedDropdownConnectorDirective","shouldClose","event","TuiHostedDropdownComponent","hover$","el","BehaviorSubject","combineLatest","tuiTypedFromEvent","map","e","tuiGetActualTarget","switchMap","visible","_b","of","delay","EMPTY","hovered","merge","skip","distinctUntilChanged","share","EventEmitter","tuiIsNativeKeyboardFocusable","tuiGetClosestFocusable","tuiIsNativeFocusedIn","target","down","key","defaultPrevented","tuiIsEditingKey","tuiIsHTMLElement","tuiIsElementEditable","active","obscured","first","host","tuiIsElement","initial","focusable","focused","TuiDropdownHoverDirective","ElementRef","ɵɵdefineComponent","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵviewQuery","TuiActiveZoneDirective","ɵɵresolveDocument","tuiAsFocusableItemAccessor","Self","position","ɵɵprojectionDef","ɵɵpipe","tmp_0_0","ɵɵpipeBind1","TuiLetDirective","TuiDropdownDriverDirective","TuiDropdownPositionDirective","TuiDropdownManualDirective","TuiDropdownPositionSidedDirective","TuiObscuredDirective","PolymorpheusTemplate","PolymorpheusOutletDirective","AsyncPipe","__decorate","shouldCall","TuiHostedDropdownModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","PolymorpheusModule","TuiLetModule","TuiObscuredModule","TuiActiveZoneModule","TuiDropdownModule","FIXED_DROPDOWN_CONTROLLER_PROVIDER","tuiDropdownOptionsProvider","TUI_VALUE_ACCESSOR_PROVIDER","TUI_VALUE_ACCESSOR","Optional","Self","NG_VALUE_ACCESSOR","identity","_c0","_c1","_c2","TuiInputInlineComponent_span_2_Template","rf","ctx","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","TuiInputInlineComponent","AbstractTuiControl","control","cdr","tuiIsNativeFocused","value","focused","_a","indent","t","ɵɵdirectiveInject","NgControl","ChangeDetectorRef","ɵɵdefineComponent","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵProvidersFeature","TUI_VALUE_ACCESSOR_PROVIDER","tuiAsFocusableItemAccessor","ɵɵInheritDefinitionFeature","_r1","ɵɵgetCurrentView","ɵɵprojectionDef","ɵɵelement","ɵɵtemplate","ɵɵlistener","$event","ɵɵrestoreView","ɵɵresetView","ɵɵstyleProp","ɵɵproperty","ɵɵadvance","ɵɵattribute","NgIf","TuiMaskAccessorDirective","DefaultValueAccessor","NgControlStatus","NgModel","TuiFocusableDirective","TuiFocusedDirective","TuiInputInlineModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","FormsModule","TuiFocusableModule","TuiFocusedModule","TuiMaskAccessorModule","TUI_TOGGLE_DEFAULT_OPTIONS","$implicit","TuiAppearance","TUI_TOGGLE_OPTIONS","tuiCreateToken","TuiToggleModule","t","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiFocusedModule","TuiFocusableModule","TuiPressedModule","TuiFocusVisibleModule","TuiCheckedModule","TuiWrapperModule","TuiSvgModule","TuiLoaderModule","PolymorpheusModule","TuiPaletteComponent_button_0_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","color_r2","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","ɵɵstyleProp","ɵɵproperty","TuiPaletteComponent","EventEmitter","_a","_b","t","ɵɵdefineComponent","rf","ctx","ɵɵtemplate","TuiPaletteComponent_button_0_Template","ɵɵpipe","ɵɵproperty","ɵɵpipeBind2","NgForOf","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","TuiHintDescribeDirective","KeyValuePipe","TuiPaletteModule","t","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHintModule","tuiIsEmptyParagraph","json","TuiTiptapEditorService","AbstractTuiEditor","editorRef","editor","update","content","value","editable","EDITOR_BLANK_COLOR","size","tuiPx","_a","_b","_c","_d","style","styles","tuiParseStyle","align","src","commands","state","setImage","anchor","color","type","nameOrAttributes","startWith","map","distinctUntilChanged","cols","rows","level","options","href","EditorState","pos","schema","doc","range","tuiGetMarkRange","preview","typeOrName","attributes","t","ɵɵinject","TIPTAP_EDITOR","ɵɵdefineInjectable","TuiTiptapEditorDirective","el","renderer","editorContainer","editorLoaded$","destroy$","takeUntil","ɵɵdirectiveInject","ElementRef","Renderer2","INITIALIZATION_TIPTAP_CONTAINER","TuiDestroyService","ɵɵdefineDirective","ɵɵProvidersFeature","TuiTiptapEditorModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiEditLinkComponent_ng_container_1_ng_container_3_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","TuiEditLinkComponent_ng_container_1_ng_template_4_span_0_Template","ɵɵelementStart","ɵɵelementEnd","TuiEditLinkComponent_ng_container_1_ng_template_4_ng_template_1_Template","TuiEditLinkComponent_ng_container_1_ng_template_4_Template","ɵɵtemplate","ɵɵtemplateRefExtractor","urlTitle_r2","ɵɵreference","ctx_r2","ɵɵnextContext","ɵɵproperty","TuiEditLinkComponent_ng_container_1_ng_container_10_Template","text_r4","ɵɵadvance","ɵɵtextInterpolate1","TuiEditLinkComponent_ng_container_1_Template","_r1","ɵɵgetCurrentView","ɵɵtwoWayListener","$event","ɵɵrestoreView","ɵɵtwoWayBindingSet","ɵɵresetView","ɵɵlistener","ɵɵpipe","fullOptions_r5","ɵɵtextInterpolate","ɵɵclassProp","ɵɵtwoWayProperty","ɵɵpipeBind1","TuiEditLinkComponent_ng_template_2_Template","_r6","ɵɵsanitizeUrl","TuiEditLinkComponent_ng_container_4_button_4_Template","_r7","id_r8","TuiEditLinkComponent_ng_container_4_Template","ɵɵelement","ɵɵpipeBind3","splitOsiProtocol","url","_a","protocolPosition","TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER","prefix","path","result","splitSimpleProtocol","tuiIsValidUrl","tuiEditLinkParseUrl","TUI_EDITOR_LINK_HASH_PREFIX","TUI_EDITOR_LINK_SIMPLE_PROTOCOL_DIVIDER","protocol","otherPart","MAX_LENGTH","START","END","TuiShortUrlPipe","t","ɵɵdefinePipe","TuiFilterAnchorsPipe","anchors","currentUrl","anchor","TuiEditLinkComponent","doc","texts$","editor","options","EventEmitter","_b","TUI_EDITOR_LINK_HTTPS_PREFIX","mode","event","tuiIsElement","isPrefix","a","defaultPrefix","_c","focusable","fullPath","nodes","node","ɵɵdirectiveInject","DOCUMENT","TUI_EDITOR_LINK_TEXTS","TuiTiptapEditorService","TUI_EDITOR_OPTIONS","ɵɵdefineComponent","ɵɵresolveDocument","view_r9","TuiInputInlineComponent","TuiSvgComponent","TuiButtonComponent","TuiLinkComponent","TuiScrollbarComponent","NgIf","TuiAutoFocusDirective","NgControlStatus","NgModel","NgForOf","AsyncPipe","TuiEditLinkModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","FormsModule","TuiAutoFocusModule","TuiButtonModule","TuiSvgModule","TuiLinkModule","TuiInputInlineModule","TuiToggleModule","TuiScrollbarModule","TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","alignState_r3","texts_r4","ɵɵadvance","ɵɵproperty","TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_Template","ɵɵelement","ɵɵtemplate","ɵɵtemplateRefExtractor","align_r5","ɵɵreference","alignDropdown_r6","TuiAlignContentComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵpipe","ɵɵelementContainerEnd","ɵɵpipeBind1","TuiAlignContentComponent","options","editor","texts$","combineLatest","map","left","right","center","justify","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","NgIf","TuiLetDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiAlignContentModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiLetModule","TuiCodeComponent_ng_template_5_button_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","index_r2","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","ɵɵtext","ɵɵelementEnd","item_r4","ɵɵadvance","ɵɵtextInterpolate1","TuiCodeComponent_ng_template_5_Template","ɵɵtemplate","ɵɵpipe","ɵɵproperty","ɵɵpipeBind1","TuiCodeComponent","options","editor","texts$","codeOptionsTexts$","map","texts","distinctUntilChanged","isCodeBlock","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_CODE_OPTIONS","ɵɵdefineComponent","ɵɵelement","ɵɵtemplateRefExtractor","codes_r5","ɵɵreference","codesDropdown_r6","TuiHostedDropdownComponent","TuiButtonComponent","TuiDataListComponent","TuiOptionComponent","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgForOf","AsyncPipe","TuiCodeModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiDataListModule","TuiDetailsComponent_button_0_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","text_r3","ɵɵproperty","TuiDetailsRemoveComponent_button_0_Template","ɵɵpipe","ɵɵpipeBind1","TuiDetailsComponent","editor","texts$","options","t","ɵɵdirectiveInject","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_OPTIONS","ɵɵdefineComponent","ɵɵtemplate","TuiButtonComponent","NgIf","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiDetailsRemoveComponent","map","distinctUntilChanged","TuiDetailsModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiButtonModule","TuiHintModule","_c0","TuiFontSizeComponent_ng_template_4_button_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵpipe","ɵɵlistener","item_r2","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","ɵɵtext","ɵɵelementEnd","ɵɵstyleProp","ɵɵproperty","ɵɵpureFunction0","ɵɵattribute","ɵɵpipeBind1","ɵɵadvance","ɵɵtextInterpolate1","TuiFontSizeComponent_ng_template_4_Template","ɵɵtemplate","TuiFontSizeComponent","options","editor","texts$","fontOptionsTexts$","map","texts","headingLevel","px","color","tuiPx","EDITOR_BLANK_COLOR","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_FONT_OPTIONS","ɵɵdefineComponent","ɵɵelement","ɵɵtemplateRefExtractor","fonts_r4","ɵɵreference","fontsDropdown_r5","TuiHostedDropdownComponent","TuiButtonComponent","TuiDataListComponent","TuiOptionComponent","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgForOf","NgClass","NgStyle","AsyncPipe","LowerCasePipe","TuiFontSizeModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiDataListModule","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","state_r3","texts_r4","ɵɵproperty","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_2_Template","_r5","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_3_Template","_r6","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_4_Template","_r7","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template","ɵɵtemplate","ɵɵadvance","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_Template","ɵɵelement","ɵɵtemplateRefExtractor","format_r8","ɵɵreference","formatDropdown_r9","TuiFontStyleComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵpipe","ɵɵelementContainerEnd","ɵɵpipeBind1","TuiFontStyleComponent","options","editor","texts$","defaultEditorTools","TuiEditorTool","combineLatest","map","bold","italic","underline","strike","value","tool","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","NgIf","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiFontStyleModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiEditorGroupToolComponent","editor","texts$","options","map","texts","distinctUntilChanged","t","ɵɵdirectiveInject","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_OPTIONS","ɵɵdefineComponent","rf","ctx","ɵɵelementStart","ɵɵpipe","ɵɵlistener","ɵɵelementEnd","ɵɵproperty","ɵɵpipeBind1","ɵɵadvance","TuiButtonComponent","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiEditorToolGroup","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiButtonModule","TuiHintModule","TuiHighlightColorComponent_tui_hosted_dropdown_0_div_4_Template","rf","ctx","ɵɵelement","selectedColor_r1","ɵɵnextContext","ɵɵstyleProp","TuiHighlightColorComponent_tui_hosted_dropdown_0_ng_template_5_Template","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","ctx_r2","ɵɵresetView","ɵɵelementEnd","activeZone_r4","ɵɵproperty","TuiHighlightColorComponent_tui_hosted_dropdown_0_Template","ɵɵpipe","ɵɵtemplate","ɵɵtemplateRefExtractor","hilite_r5","ɵɵreference","hiliteDropdown_r6","ɵɵadvance","ɵɵpipeBind1","TuiHighlightColorComponent","options","editor","texts$","map","distinctUntilChanged","texts","color","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","TuiPaletteComponent","TuiLetDirective","TuiDropdownOptionsDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgIf","TuiActiveZoneDirective","AsyncPipe","TuiHighlightColorModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiPaletteModule","TuiHintModule","TuiDropdownModule","TuiActiveZoneModule","TuiLetModule","TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","state_r3","texts_r4","ɵɵadvance","ɵɵproperty","TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_Template","ɵɵelement","ɵɵtemplate","ɵɵtemplateRefExtractor","list_r5","ɵɵreference","listDropdown_r6","TuiListConfigsComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵpipe","ɵɵelementContainerEnd","ɵɵpipeBind1","TuiListConfigsComponent","options","editor","texts$","combineLatest","map","ordered","unordered","tasked","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","NgIf","TuiLetDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiListConfigsModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiLetModule","TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_div_4_Template","rf","ctx","ɵɵelement","color_r1","ɵɵnextContext","ɵɵstyleProp","TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_5_Template","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","colorSelect_r3","ɵɵreference","ɵɵresetView","ɵɵelementEnd","activeZone_r5","ctx_r3","ɵɵproperty","TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_Template","ɵɵpipe","ɵɵtemplate","ɵɵtemplateRefExtractor","isActive_r6","cellColorDropdown_r7","ɵɵadvance","ɵɵpipeBind1","TuiTableCellColorComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","TuiTableCellColorComponent","options","editor","texts$","map","texts","combineLatest","table","group","distinctUntilChanged","color","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","TuiPaletteComponent","TuiLetDirective","TuiDropdownOptionsDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgIf","TuiActiveZoneDirective","AsyncPipe","TuiTableCellColorModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiPaletteModule","TuiButtonModule","TuiHintModule","TuiActiveZoneModule","TuiDropdownModule","TuiLetModule","TuiTableSizeSelectorComponent_div_0_div_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","$event","y_r3","x_r4","ɵɵelementEnd","ɵɵclassProp","TuiTableSizeSelectorComponent_div_0_Template","ɵɵtemplate","ɵɵadvance","ɵɵproperty","MAX_COLS_NUMBER","MAX_ROWS_NUMBER","MIN_DISTANCE_PX","TuiTableSizeSelectorComponent","win","EventEmitter","x","y","rows","cols","event","tuiGetViewportWidth","t","ɵɵdirectiveInject","WINDOW","ɵɵdefineComponent","ɵɵtext","ɵɵtextInterpolate2","TuiRepeatTimesDirective","TuiTableSizeSelectorModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiRepeatTimesModule","TuiTableCreateComponent_ng_template_4_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","TuiTableCreateComponent","options","editor","texts$","map","texts","rows","cols","prevLine","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","ɵɵelement","ɵɵpipe","ɵɵtemplate","ɵɵtemplateRefExtractor","table_r3","ɵɵreference","tableDropdown_r4","ɵɵproperty","ɵɵadvance","ɵɵpipeBind1","TuiHostedDropdownComponent","TuiButtonComponent","TuiTableSizeSelectorComponent","TuiDropdownOptionsDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiTableCreateModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiDropdownModule","TuiButtonModule","TuiHintModule","TuiTableSizeSelectorModule","_c0","a0","a1","TuiTableMergeCellsComponent_ng_container_0_button_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","can_r2","ɵɵnextContext","ctx_r2","ɵɵresetView","ɵɵelementEnd","texts_r4","ɵɵproperty","TuiTableMergeCellsComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵpipe","ɵɵelementContainerEnd","ɵɵadvance","ɵɵpipeBind1","TuiTableMergeCellsComponent","editor","texts$","map","distinctUntilChanged","t","ɵɵdirectiveInject","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","ɵɵpureFunction2","TuiButtonComponent","TuiLetDirective","NgIf","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiTableMergeCellsModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiButtonModule","TuiHintModule","TuiLetModule","TuiTableRowColumnManagerComponent_tui_hosted_dropdown_0_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵpipe","ɵɵelementEnd","active_r1","tableCommand_r2","ɵɵreference","ctx_r2","ɵɵnextContext","tableOptionsDropdown_r4","ɵɵproperty","ɵɵadvance","ɵɵpipeBind1","TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_button_1_Template","_r5","ɵɵgetCurrentView","ɵɵlistener","j_r6","ɵɵrestoreView","i_r7","ɵɵresetView","ɵɵtext","item_r8","ɵɵtextInterpolate1","TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_Template","ɵɵtemplate","group_r9","TuiTableRowColumnManagerComponent_ng_template_2_Template","TuiTableCommands","TuiTableRowColumnManagerComponent","options","editor","texts$","tableCommandTexts$","map","texts","command","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_TABLE_COMMANDS","ɵɵdefineComponent","ɵɵtemplateRefExtractor","TuiHostedDropdownComponent","TuiButtonComponent","TuiDataListComponent","TuiOptionComponent","TuiLetDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgForOf","TuiOptGroupDirective","AsyncPipe","TuiTableRowColumnManagerModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiHintModule","TuiButtonModule","TuiDataListModule","TuiLetModule","TuiTextColorComponent_tui_hosted_dropdown_0_ng_template_5_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","activeZone_r3","ɵɵproperty","TuiTextColorComponent_tui_hosted_dropdown_0_Template","ɵɵelement","ɵɵpipe","ɵɵtemplate","ɵɵtemplateRefExtractor","selectedColor_r4","color_r5","ɵɵreference","colorDropdown_r6","ɵɵadvance","ɵɵpipeBind1","ɵɵstyleProp","TuiTextColorComponent","options","editor","texts$","map","distinctUntilChanged","texts","t","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","TuiPaletteComponent","TuiLetDirective","TuiDropdownOptionsDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","TuiActiveZoneDirective","AsyncPipe","TuiTextColorModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiButtonModule","TuiHostedDropdownModule","TuiDropdownModule","TuiHintModule","TuiPaletteModule","TuiActiveZoneModule","TuiLetModule","_c0","_c1","TuiToolbarComponent_ng_container_1_Template","rf","ctx","ɵɵelementContainer","TuiToolbarComponent_section_5_div_1_Template","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","texts_r3","ɵɵadvance","ɵɵproperty","TuiToolbarComponent_section_5_div_2_Template","ɵɵelement","TuiToolbarComponent_section_5_div_3_tui_font_style_1_Template","TuiToolbarComponent_section_5_div_3_tui_align_content_2_Template","TuiToolbarComponent_section_5_div_3_tui_list_configs_3_Template","TuiToolbarComponent_section_5_div_3_button_4_Template","_r4","TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template","_r5","$event","link_r6","ɵɵreference","TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_Template","ɵɵtemplate","ɵɵtemplateRefExtractor","linkDropdown_r7","TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template","_r8","anchor_r9","TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_Template","anchorDropdown_r10","TuiToolbarComponent_section_5_div_3_ng_container_7_Template","_r11","ɵɵelementContainerStart","fileUpload_r12","ɵɵelementContainerEnd","TuiToolbarComponent_section_5_div_3_Template","TuiToolbarComponent_section_5_div_4_button_1_Template","_r13","TuiToolbarComponent_section_5_div_4_button_2_Template","_r14","TuiToolbarComponent_section_5_div_4_Template","TuiToolbarComponent_section_5_div_5_tui_text_color_1_Template","TuiToolbarComponent_section_5_div_5_tui_highlight_color_2_Template","TuiToolbarComponent_section_5_div_5_Template","TuiToolbarComponent_section_5_div_6_tui_code_1_Template","TuiToolbarComponent_section_5_div_6_button_2_Template","_r15","TuiToolbarComponent_section_5_div_6_div_3_Template","_r16","image_r17","TuiToolbarComponent_section_5_div_6_button_4_Template","_r18","TuiToolbarComponent_section_5_div_6_Template","TuiToolbarComponent_section_5_div_7_Template","_r19","TuiToolbarComponent_section_5_div_8_Template","TuiToolbarComponent_section_5_div_9_tui_table_cell_color_2_Template","TuiToolbarComponent_section_5_div_9_Template","TuiToolbarComponent_section_5_div_10_Template","TuiToolbarComponent_section_5_Template","ɵɵprojection","TuiToolbarNavigationManagerDirective","el","toPrevious","toolsContainers","focusedToolIndex","tuiIsNativeFocusedIn","targetToolIndex","tuiClamp","targetToolWrapper","targetTool","reversed","tools","focusableElement","tuiIsNativeMouseFocusable","tuiGetClosestFocusable","wrapper","t","ɵɵdirectiveInject","ElementRef","ɵɵdefineDirective","TuiToolbarComponent","editor","imageLoader","attachOptions","filesLoader","texts$","options","destroy$","EMPTY_QUERY","EventEmitter","TuiEditorTool","defaultEditorTools","value","nativeElement","event","target","input","_a","file","take","takeUntil","image","files","attachedFiles","hosted","url","anchor","tool","firstButton","lastButton","TuiTiptapEditorService","TUI_IMAGE_LOADER","TUI_ATTACH_FILES_OPTIONS","TUI_ATTACH_FILES_LOADER","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_OPTIONS","TuiDestroyService","ɵɵdefineComponent","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵclassProp","ɵɵProvidersFeature","ɵɵprojectionDef","ɵɵpipe","ɵɵpipeBind1","TuiButtonComponent","TuiFontSizeComponent","TuiFontStyleComponent","TuiAlignContentComponent","TuiListConfigsComponent","TuiHostedDropdownComponent","TuiEditLinkComponent","TuiTextColorComponent","TuiHighlightColorComponent","TuiCodeComponent","TuiDetailsComponent","TuiDetailsRemoveComponent","TuiEditorGroupToolComponent","TuiTableCellColorComponent","TuiTableCreateComponent","TuiTableRowColumnManagerComponent","TuiTableMergeCellsComponent","NgIf","TuiFocusableDirective","TuiHintDescribeDirective","TuiItemDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiToolbarModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHintModule","TuiFocusableModule","TuiButtonModule","TuiHostedDropdownModule","TuiEditLinkModule","TuiTableMergeCellsModule","TuiTableCellColorModule","TuiTableRowColumnManagerModule","TuiTableCreateModule","TuiFontSizeModule","TuiFontStyleModule","TuiAlignContentModule","TuiListConfigsModule","TuiTextColorModule","TuiHighlightColorModule","TuiCodeModule","TuiDetailsModule","TuiItemModule","TuiEditorToolGroup","TuiEditorSocketComponent","el","renderer","sanitizer","tuiSanitizer","document","editor","options","content","SecurityContext","event","_a","_b","tuiIsElement","href","t","ɵɵdirectiveInject","ElementRef","Renderer2","Sanitizer","TUI_SANITIZER","DOCUMENT","TuiTiptapEditorDirective","TUI_EDITOR_OPTIONS","ɵɵdefineComponent","rf","ctx","ɵɵlistener","$event","ɵɵclassProp","TuiEditorSocketModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","_c1","TuiEditorComponent_div_0_tui_toolbar_2_Template","rf","ctx","_r3","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵprojection","ɵɵelementEnd","ɵɵproperty","TuiEditorComponent_div_0_div_5_Template","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_1_Template","_r4","ɵɵelementContainer","editor_r5","ɵɵreference","TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_2_Template","_r6","ɵɵelement","TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_toolbar_1_Template","_r8","activeZone_r9","TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template","_r10","link_r11","TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_ng_container_3_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_Template","ɵɵtemplate","editorLoaded_r12","ɵɵclassProp","TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template","_r7","ɵɵtemplateRefExtractor","dropdown_r13","TuiEditorComponent_div_0_ng_container_6_Template","TuiEditorComponent_div_0_Template","_r1","TuiDropdownToolbarDirective","TuiDropdownSelectionDirective","combineLatest","map","distinctUntilChanged","x","y","handler","range","_a","contained","tuiIsTextNode","visible","_b","_c","_d","commonAncestorContainer","element","tuiIsElement","EMPTY_CLIENT_RECT","tuiGetWordRange","rect","ɵTuiDropdownToolbarDirective_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵProvidersFeature","tuiAsDriver","tuiAsRectAccessor","ɵɵInheritDefinitionFeature","TuiEditorPortalService","AbstractTuiPortalService","ɵTuiEditorPortalService_BaseFactory","ɵɵdefineInjectable","TUI_EDITOR_PROVIDERS","LAZY_EDITOR_EXTENSIONS","TUI_EDITOR_EXTENSIONS","extensions","extensions$","ReplaySubject","INITIALIZATION_TIPTAP_CONTAINER","Renderer2","renderer","TIPTAP_EDITOR","LAZY_TIPTAP_EDITOR","editor","take","LazyEditor","shareReplay","TuiTiptapEditorService","TuiEditorPortalHostComponent","AbstractTuiPortalHostComponent","ɵTuiEditorPortalHostComponent_BaseFactory","ɵɵdefineComponent","TuiDropdownPortalService","TuiEditorPortalDirective","TuiRectAccessor","el","ɵɵdirectiveInject","ElementRef","tuiAsViewport","TuiEditorComponent","AbstractTuiControl","control","cdr","editorLoaded$","editorService","contentProcessor","doc","transformer","options","zone","defaultEditorTools","EventEmitter","delay","takeUntil","extension","ALWAYS_TRUE_HANDLER","ALWAYS_FALSE_HANDLER","focusElement","parentFocusElement","before","value","processed","focused","anchor","link","tuiGetSelectionState","event","tuiIsSafeLinkRange","fromEvent","TUI_EDITOR_RESIZE_EVENT","throttleTime","tuiZonefree","NgControl","ChangeDetectorRef","TUI_EDITOR_CONTENT_PROCESSOR","DOCUMENT","TUI_EDITOR_VALUE_TRANSFORMER","TUI_EDITOR_OPTIONS","NgZone","ɵɵviewQuery","TuiTiptapEditorDirective","TuiToolbarComponent","_t","ɵɵqueryRefresh","ɵɵloadQuery","tuiAsFocusableItemAccessor","tuiAutoFocusOptionsProvider","TUI_ANIMATIONS_DEFAULT_DURATION","ɵɵprojectionDef","ɵɵpipe","ɵɵpipeBind1","TuiScrollbarComponent","TuiEditorSocketComponent","TuiEditLinkComponent","NgIf","TuiWrapperDirective","TuiActiveZoneDirective","NgTemplateOutlet","TuiDropdownOptionsDirective","TuiDropdownDirective","TuiDropdownDriverDirective","TuiDropdownPositionDirective","AsyncPipe","TuiEditorModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiItemModule","CommonModule","TuiToolbarModule","TuiWrapperModule","TuiScrollbarModule","TuiEditLinkModule","TuiActiveZoneModule","TuiDropdownModule","TuiTiptapEditorModule","TuiEditorSocketModule","HomeComponent","constructor","builtInTools","TUI_EDITOR_DEFAULT_EDITOR_TOOLS","editor","selectors","standalone","features","ɵɵProvidersFeature","provide","TUI_EDITOR_EXTENSIONS","useValue","TUI_EDITOR_DEFAULT_EXTENSIONS","ɵɵStandaloneFeature","decls","vars","consts","template","rf","ctx","ɵɵelementStart","ɵɵtwoWayListener","$event","i0","ɵɵtwoWayBindingSet","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵproperty","ɵɵtwoWayProperty","ɵɵadvance","ɵɵtextInterpolate","FormsModule","NgControlStatus","NgModel","TuiEditorModule","TuiEditorComponent","TuiEditorSocketModule","TuiEditorSocketComponent","styles","encapsulation","changeDetection","_HomeComponent"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]}